"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),DOMStack=function(){function e(t){if(_classCallCheck(this,e),this.array=[],this.length=0,this.objectType="domstack",Array.isArray(t))for(var n=-1,r=t.length;++n<r;)this.array[n]=t[n];else if(t)if(t===document)this.array[0]=document;else{var o=Array.prototype.slice.apply(arguments);o.forEach(function(e,t){this.array[t]=e})}}return _createClass(e,[{key:"eq",value:function(t){var n=new e;if(!this.array.length)return n;var r=void 0;return 0>t?(r=this.array[this.array.length+t],n.push(r)):(r=this.array[t],n.push(r)),n[0]=n.array[0],n.length=n.array.length,n}},{key:"push",value:function(e){this.array.push(e),this.length=this.array.length,this[0]=this.array[0]}},{key:"pop",value:function(){return this.length=this.array.length-1,this.array.pop()}},{key:"unshift",value:function(e){this.array.unshift(e),this[0]=this.array[0],this.length=this.array.length}},{key:"shift",value:function(){return this.length=this.array.length-1,this.array.shift()}},{key:"size",value:function(){return this.array.length}},{key:"forEach",value:function(e){for(var t=void 0,n=0,r=this.array.length;r>n&&(t=e.call(this.array[n],this.array[n],n),t!==!1);n++);}},{key:"each",value:function(e){for(var t=void 0,n=0,r=this.array.length;r>n&&(t=e.call(this.array[n],n,this.array[n]),t!==!1);n++);}},{key:"slice",value:function(){for(var t=new e,n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];return t.concat(this.array.slice.apply(this.array,r)),t.length=t.array.length,t}},{key:"splice",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return this.array.splice.apply(this.array,t),this[0]=this.array[0],this}},{key:"filter",value:function(){for(var t=new e,n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];return t.concat(this.array.filter.apply(this.array,r)),t[0]=t.array[0],t}},{key:"map",value:function(){for(var t=new e,n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];return t.concat(this.array.map.apply(this.array,r)),t[0]=t.array[0],t}},{key:"concat",value:function(e){var t=void 0,n=void 0;Array.isArray(e)?(n=e,t=n.length):e&&e.objectType&&"domstack"===e.objectType?(n=e.getData(),t=n.length):e.constructor.toString().match(/HTMLBodyElementConstructor/)&&(n=[e],t=1),this.array.push.apply(this.array,n),this[0]=this.array[0],this.length=this.array.length}},{key:"reverse",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.array.reverse.apply(this.array,t),this[0]=this.array[0]}},{key:"indexOf",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return this.array.indexOf.apply(this.array,t)}},{key:"every",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return this.array.every.apply(this.array,t)}},{key:"some",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return this.array.some.apply(this.array,t)}},{key:"unique",value:function(){for(var e=this.array.length,t=[],n={},r=0;e>r;r++){var o=JSON.stringify(this.array[r]),i=this.array[r];void 0===n[o]?(t.push(i),n[o]=1):n[o]++}this.array=t,this[0]=this.array[0],this.length=this.array.length}},{key:"getData",value:function(){return this.array}},{key:"purge",value:function(){this.array.length=0,this.length=0}}]),e}();!function(){function e(t,r){var o=this,i=/^#([\w-]*)$/,a=/^\.([\w-])$/,s=/^[\w-]+$/,c=/complete|loaded|interactive/,l=void 0,d=function(e){return l=new DOMStack([].slice.apply(e)),l[0]=l.array[0],l},u=function(e){var t=document.getElementById(e.split("#")[1]);return t?(l=new DOMStack([t]),l[0]=new DOMStack([t]).array[0],l.length=1,l):new DOMStack},h=function(e,t){return t?(l=d(t.getElementsByTagName(e)),l[0]=l.array[0],l.length=l.length,l):(l=d(document.getElementsByTagName(e)),l[0]=l.array[0],l.length=l.array.length,l)},f=function(e,t){return t?(l=d(t.getElementsByClassName(e.split(".")[1])),l[0]=l.array[0],l.length=l.length,l):(l=d(document.getElementsByClassName(e.split(".")[1])),l[0]=l.array[0],l.length=l.array.length,l)},p=function(e,t){return"string"==typeof e&&(e=e.trim()),"string"==typeof e&&i.test(e)?u(e):e&&e instanceof Array&&e.length?e:t||"string"!=typeof e?t?(l=d(n(t).find(e)),l[0]=l.array[0],l.length=l.array/length,l):(l=d(document.querySelectorAll(e)),l[0]=l.array[0],l.length=l.array.length,l):/<\/?[^>]+>/.test(e)?o.html(e):s.test(e)?h(e):a.test(e)?f(e):(l=d(document.querySelectorAll(e)),l[0]=l.array[0],l.length=l.array.length,l)};if(t&&t.objectType&&"domstack"===t.objectType)return t;if(t===document)return new DOMStack(document);if(null===t)return new DOMStack;if(r){if("string"==typeof r)return l=d(document.querySelectorAll(r+" "+t)),l[0]=l.array[0],l.length=l.array.length,l;if(1===r.nodeType)return p(t,r)}else if("function"==typeof t)c.test(document.readyState)&&document.body?t.call(t):document.addEventListener("DOMContentLoaded",function(){return t.call(t)});else{if(t&&1===t.nodeType)return l=new DOMStack,l[0]=t,l.length=l.array.length,l.push(t),l;if("string"!=typeof t)return Array.isArray(t)?new DOMStack(t):t===window?(l=new DOMStack,l[0]=window,l.length=l.array.length,l):new DOMStack;if(""===t)return new DOMStack;if(/<\/?[^>]+>/.test(t))return e.html(t);try{return p(t)?p(t):new DOMStack}catch(v){return new DOMStack}}return new DOMStack}var t=arguments;window.DefaultLanguageForErrors?e.languageForErrors=window.DefaultLanguageForErrors:e.languageForErrors="en";var n=e;Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!==("undefined"==typeof o?"undefined":_typeof(o))&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i=[],a=void 0,s=void 0;for(a in o)e.call(o,a)&&i.push(a);if(t)for(s=0;r>s;s++)e.call(o,n[s])&&i.push(n[s]);return i}}()),n.extend=function(t,n){n||(n=t,t=e),Object.keys(n).forEach(function(e){n.hasOwnProperty(e)&&Object.defineProperty(t,e,{value:n[e],writable:!0,enumerable:!1,configurable:!0})})},n.fn={extend:function(e){return n.extend(DOMStack.prototype,e)}},n.extend({lib:"ChocolateChipJS",version:"VERSION_NUMBER",noop:function(){},uuid:function(){var e=Date.now();e+=performance.now();var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=t[Math.floor(Math.random()*t.length)];return n+"xxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},html:function(e){var t=new DOMStack,n=void 0,r={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],__default:[1,"<div>","</div>"]};r.optgroup=r.option,r.tbody=r.tfoot=r.colgroup=r.caption=r.thead,r.th=r.td;var o=document.createElement("div"),i=/<\s*\w.*?>/g.exec(e);if(null!==i){var a=i[0].replace(/</g,"").replace(/>/g,""),s=r[a]||r.__default;e=s[1]+e+s[2],o.innerHTML=e,o=o.lastChild,n=Array.prototype.slice.apply(o.childNodes),n.forEach(function(e){1===e.nodeType?t.push(e):3===e.nodeType&&0!==e.nodeValue.trim().length&&t.push(e)})}else o.innerHTML=e,o=o.lastChild,t.push(o);return t},require:function(e,t,n){var r="onerror",o=function(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},i=document.createElement("script"),a=!1,s=void 0,c=void 0,l=function(){s=new Error(e||"EMPTY"),c()},d=function(e){return function(){a||(a=!0,e(),t&&t.call(n,s))}};c=d(function(){i.onload=i[r]=null}),i[r]=l,i.onload=c,i.async=!0,i.charset="utf-8",i.src=e,o(i)},delay:function(e){return new Promise(function(t,n){setTimeout(t,e)})},each:function(e,t){var r=void 0,o=void 0,i=0,a=void 0;if(Array.isArray(e)){for(a=e.length;a>i&&(r=t.call(e[i],i,e[i]),r!==!1);i++);return e}if(e.objectType&&"domstack"===e.objectType)return e.forEach(function(e,n){return t.call(e,n,e)}),e;if("object"===n.type(e)&&Object.keys(e).length)for(o in e)if(t.call(e[o],o,e[o])===!1)return e},unique:function(e){if(e&&Array.isArray(e)){for(var t=e.length,n={},r=[],o=0;t>o;o++){var i=JSON.stringify(e[o]),a=e[o];void 0===n[i]?(r.push(a),n[i]=1):n[i]++}return r}},replace:function(e,t){if(e&&t){var r=void 0,o=void 0;"string"==typeof e?r=n(e)[0]:e.objectType&&"domstack"===e.objectType?r=e[0]:1===e.nodeType&&(r=e),"string"==typeof t?o=n(t)[0]:t.objectType&&"domstack"===t.objectType?o=t[0]:1===t.nodeType&&(o=t),n(o).off(),o.parentNode.replaceChild(r,o)}},isEmptyObject:function(e){return 0===Object.keys(e).length},isInteger:function(e){return"number"==typeof e&&e%1===0},isFloat:function(e){return"number"==typeof e&&e%1!==0},encode:function(e){return encodeURIComponent(e)},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"},n=JSON.stringify(e),r=function(e){return t[e]||e},o=function(e){return e.replace(/[&<>]/g,r)};return n=o(n),JSON.parse(n)},concat:function(e){return e instanceof Array?e.join(""):[].slice.apply(t).join("")},mixin:function(e,t){for(var n in e)n in t||(t[n]=e[n]);return t},compare:function(e,t){function r(e,t){return e.toString()===t.toString()}function o(e,t){var r=e.length;if(r!=t.length)return!1;for(var o=!0,i=0;r>i;i++)if(!n.compare(e[i],t[i])){o=!1;break}return o}function i(e,t){var r=Object.keys(e).sort(),o=Object.keys(t).sort(),i=r.length;if(i!=o.length)return!1;for(var a=0;i>a;a++){var s=r[a],c=o[a];if(s!=c||!n.compare(e[s],t[c]))return!1}return!0}return e===t?!0:("undefined"==typeof e?"undefined":_typeof(e))!=("undefined"==typeof t?"undefined":_typeof(t))?!1:e!==Object(e)?!1:e?Array.isArray(e)?o(e,t):"[object Object]"=={}.toString.call(e)?i(e,t):r(e,t):!1},paginate:function(e,t){var n=[],r=Math.floor(e.length/t);e.length%r&&r++;for(var o=0,i=0;r>i&&o!==e.length;i++){var a=e.slice(o,t+o);n.push(a),o+=t}return n}});var r={},o=r.hasOwnProperty;return n.extend({on:function(e,t){o.call(r,e)||(r[e]=[]);var n=r[e].push(t)-1;return{off:function(){return delete r[e][n]},run:function(t){r[e]&&r[e][n](t)},getTopic:function(){return e}}},send:function(e,t){o.call(r,e)&&r[e].forEach(function(e){e(void 0!=t?t:{})})},getTopics:function(){return r},removeTopic:function(e){return delete r[e]},production:!1}),n.fn.extend({find:function(e,t){var r=new DOMStack;return this.size()?(t?n(t).forEach(function(){Array.prototype.slice.apply(t.querySelectorAll(e)).forEach(function(e){return r.push(e)})}):this.forEach(function(t){t&&t.children&&t.children.length&&Array.prototype.slice.apply(t.querySelectorAll(e)).forEach(function(e){return r.push(e)})}),r):r},is:function(e){var t=this,n=!1;if(this.size()&&e&&this.size()){var r=this,o=function(e,o){if("string"==typeof o){var i=void 0;e.parentNode&&(i=e.parentNode.querySelectorAll(o));var a=void 0;i&&i.length&&(a=Array.prototype.slice.apply(e.parentNode.querySelectorAll(o))),a&&a.length&&a.indexOf(e)>=0&&(n=!0)}else if("function"==typeof o)o.call(r)&&(n=!0);else if(o.objectType&&"domstack"===o.objectType)e===o[0]&&(n=!0);else if(o&&o.length)-1!==t.slice.apply(o).indexOf(e)&&(n=!0);else{if(1!==o.nodeType)return;e===o&&(n=!0)}return n};return this.forEach(function(t){o(t,e)&&(n=!0)}),n}},not:function(e){if(!this.size()||!e)return new DOMStack;var t=new DOMStack,n=[],r=void 0;return"string"==typeof e?(r=Array.prototype.slice.apply(this.array[0].parentNode.querySelectorAll(e)),this.forEach(function(e){r[0]?r.forEach(function(n){e!==n&&t.push(e)}):t.push(e)}),t):e&&e.objectType&&"domstack"===e.objectType?(this.forEach(function(t){e.forEach(function(e){e!==t&&n.push(t)})}),n.length&&t.concat(n),t):e&&1===e.nodeType?(this.forEach(function(t){t!==e&&n.push(t)}),n.length&&t.concat(n),t):void 0},has:function(e){var t=this;if(!this.size())return new DOMStack;var n=new DOMStack,r=function(e,n){if("string"==typeof n){if(e.querySelector(n))return!0}else{if(1!==n.nodeType)return!1;if(Array.prototype.slice(t.children).data.indexOf(n))return!0}};return this.forEach(function(t){r(t,e)&&n.push(t)}),n},prev:function(e){if(!this.size())return new DOMStack;var t=new DOMStack,n=void 0,r=this[0].previousElementSibling;return e&&"string"==typeof e?(n=this.siblings(e),n.forEach(function(e){r===e&&t.push(e)})):t.push(this[0].previousElementSibling),t},prevAll:function(e){if(!this.size())return new DOMStack;var t=new DOMStack,n=void 0,r=this[0],o=Array.prototype.slice.apply(this[0].parentNode.children),i=o.indexOf(r);return o.splice(i,o.length-1),e&&"string"==typeof e?(n=this.siblings(e).array,o.forEach(function(e){n.indexOf(e)>-1&&t.push(e)})):(n=Array.prototype.slice.apply(this[0].parentNode.children),i=n.indexOf(r),n.splice(i,n.length-1),t.concat(n)),t},next:function(e){if(!this.size())return new DOMStack;var t=new DOMStack,n=void 0,r=this[0].nextElementSibling;return e&&"string"==typeof e?(n=this.siblings(e),n.forEach(function(e){r===e&&t.push(e)})):t.push(this[0].nextElementSibling),t},nextAll:function(e){if(!this.size())return new DOMStack;var t=new DOMStack,r=void 0,o=void 0,i=this[0],a=Array.prototype.slice.apply(this[0].parentNode.children),s=a.indexOf(i);return a.splice(0,s+1),e&&"string"==typeof e?(o=this.array[0].parentNode,r=n(o).find(e),a.splice(0,a.indexOf(this.array[0])),a.forEach(function(e){r.array.indexOf(e)>-1&&t.push(e)})):(r=Array.prototype.slice.apply(this[0].parentNode.children),s=r.indexOf(i),r.splice(0,s+1),t.concat(r)),t},first:function(){return this.size()?this.eq(0):new DOMStack},last:function(){return this.size()?this.eq(-1):new DOMStack},index:function(e){return this.size()?e?e&&e.objectType&&"domstack"===e.objectType?this.indexOf(e.getData()[0]):1===e.nodeType?this.indexOf(e):this.indexOf(e):Array.prototype.slice.apply(this[0].parentNode.children).indexOf(this[0]):void 0},children:function(e){if(!this.size())return new DOMStack;var t=new DOMStack;return e?(this.forEach(function(r){Array.prototype.slice.apply(r.children).forEach(function(r){n(r).is(e)&&t.push(r)})}),t[0]=t.array[0]):(this.forEach(function(e){Array.prototype.slice.apply(e.children).forEach(function(e){return t.push(e)})}),t[0]=t.array[0]),t},siblings:function(e){if(!this.size())return new DOMStack;var t=void 0,r=new DOMStack,o=this,i=void 0,a=Array.prototype.slice.apply(this.array[0].parentNode.children),s=a.indexOf(o[0]);return a.splice(s,1),a.splice(a.indexOf(this.array[0]),0),e&&"string"==typeof e?(i=this.array[0].parentNode,t=n(i).find(e),t.array.splice(t.array.indexOf(this.array[0]),0),r.concat(t.array)):r.concat(a),r},parent:function(){if(!this.size())return new DOMStack;var e=new DOMStack;return this.forEach(function(t){return e.push(t.parentNode)}),e.unique(),e},closest:function(e){if(!this.size())return new DOMStack;var t=new DOMStack;if("undefined"==typeof e)return new DOMStack;var r=null,o=void 0;if(this[0]&&(o=this[0].parentNode),!o)return new DOMStack;if("string"==typeof e&&e.trim(),"number"==typeof e){r=e||1;for(var i=1;r>i;i++){if(o&&"HTML"===o.nodeName)return o;null!==o&&(o=o.parentNode)}t.push(o)}else"string"==typeof e&&(o&&n(o).is(e)?t.push(o):t.push(n(o).closest(e).array[0]));return t},css:function(e,t){if(!this.size())return new DOMStack;var r=/top|bottom|left|right|margin|padding/gim,o="",i=new DOMStack,a=function(e,t){"number"===n.type(e)&&t.match(r)&&(o="px")};if(!e)return new DOMStack;if(t||"object"!==n.type(e)){if(!t&&"string"==typeof e){if(!this.size())return;return document.defaultView.getComputedStyle(this.eq(0).array[0],null).getPropertyValue(e.toLowerCase())}t&&this.forEach(function(r){a(t,e),r.style[n.camelize(e)]=t+o,i.push(r)})}else this.forEach(function(t){for(var r in e)e.hasOwnProperty(r)&&(a(e[r],r),t.style[n.camelize(r)]=e[r]+o);i.push(t)});return i},width:function(e){return this.size()?e?void(/px]+|[pt]+|[em]+|[en]+|[%]+|[ex]+|[in]+|[cm]+|[mm]+|[ch]+|[in]+|[rem]+|[vw]+|[vh]+$/.test(e)?this.forEach(function(t){t.style.width=e}):this.forEach(function(t){t.style.width=e+"px"})):this.eq(0).array[0].clientWidth:void 0},height:function(e){return this.size()?e?void(/px]+|[pt]+|[em]+|[en]+|[%]+|[ex]+|[in]+|[cm]+|[mm]+|[ch]+|[in]+|[rem]+|[vw]+|[vh]+$/.test(e)?this.forEach(function(t){t.style.height=e}):this.forEach(function(t){t.style.height=e+"px"})):this.eq(0).array[0].clientHeight:void 0},before:function(e){var t=this;if(!this.size())return new DOMStack;var r=function(e,r){if(("string"==typeof r||"number"==typeof r)&&(r=n.html(r)),r&&r.objectType&&"domstack"===r.objectType)for(var o=r.size(),i=0;o>i;)e.parentNode.insertBefore(r.array[i],e),i++;else r&&1===r.nodeType&&e.parentNode.insertBefore(r,e);return t};return this.forEach(function(t){return r(t,e)}),this},after:function(e){var t=this;if(!this.size())return new DOMStack;var r=function(e,r){var o=e.parentNode;if(("string"==typeof r||"number"==typeof r)&&(r=n.html(r)),r&&r.objectType&&"domstack"===r.objectType)for(var i=0,a=r.size();a>i;)e===o.lastChild?o.appendChild(r.array[i]):o.insertBefore(r.array[i],e.nextSibling),i++;else r&&1===r.nodeType&&o.appendChild(r);return t};return this.forEach(function(t){return r(t,e)}),this},prepend:function(e){return this.size()?("string"==typeof e||"number"==typeof e?this.forEach(function(t){t.insertAdjacentHTML("afterbegin",e)}):e&&e.objectType&&"domstack"===e.objectType?this.forEach(function(t){e.forEach(function(e){t.insertBefore(e,t.firstChild)})}):e&&1===e.nodeType&&this.forEach(function(e){e.insertBefore(node,e.firstChild)}),this):new DOMStack},append:function(e){return this.size()?("string"==typeof e||"number"==typeof e?this.forEach(function(t){t.insertAdjacentHTML("beforeend",e)}):e&&e.objectType&&"domstack"===e.objectType?this.forEach(function(t){e.forEach(function(e){t.insertBefore(e,null)})}):e&&1===e.nodeType&&this.forEach(function(e){e.insertBefore(node,null)}),this):new DOMStack},prependTo:function(e){return this.size()?(this.reverse(),this.forEach(function(t){return n(e).prepend(t)}),this):new DOMStack},appendTo:function(e){return this.size()?(this.forEach(function(t){return n(e).append(t)}),this):new DOMStack},clone:function(e){if(!this.size())return new DOMStack;var t=new DOMStack;return this.forEach(function(n){e!==!0&&e?t.push(n.cloneNode(!1)):t.push(n.cloneNode(!0))}),t},wrap:function(e){if(!this.size()||!e)return new DOMStack;var t=void 0,r=void 0,o=void 0;this.forEach(function(i){t=n.html(e),r=t.array[0],o=n(i).clone(!0),t.append(o),n(i).before(t),n(i).remove()})},unwrap:function(){if(!this.size())return new DOMStack;var e=null;this.forEach(function(t){return t.parentNode!==e?(e=t.parentNode,"BODY"===t.parentNode.nodeName?!1:void n.replace(t,t.parentNode)):void 0})},offset:function i(){if(this.size()){var i=this.eq(0).array[0].getBoundingClientRect();return{top:Math.round(i.top),left:Math.round(i.left),bottom:Math.round(i.bottom),right:Math.round(i.right)}}},position:function(){var e={top:0,left:0},t=this.array[0].getBoundingClientRect(),n=parseInt(this.parent().css("border-top-width"),10)||0,r=parseInt(this.parent().css("border-left-width"),10)||0,o=this.array[0].parentNode.getBoundingClientRect(),i=function(e,t){return Math.round(e-t)};return e.top=i(t.top,o.top+n),e.left=i(t.left,o.left+r),e},empty:function(){if(!this.size())return new DOMStack;var e=new DOMStack;return this.forEach(function(t){n(t).children().off(),t.textContent="",e.push(t)}),e},html:function(e){return this.size()?""===e?(this.forEach(function(e){e.innerHTML=""}),this):e?(this.forEach(function(t){t.innerHTML=e}),this):e?void 0:this.array[0].innerHTML.trim():new DOMStack},text:function(e){var t="";return this.size()?e||0===e?(this.forEach(function(t){t.innerText=e}),this):(this.forEach(function(e){t+=e.innerText,t.trim()}),t):new DOMStack},replaceWith:function(e){e&&e.nodeType&&1===e.nodeType?n(e).off():e&&e.objectType&&"domstack"===e.objectType&&e.off(),this.forEach(function(t){n(t).off(),"string"==typeof e?n.replace(n(e),t):n.replace(n(e),t)})},remove:function(){return this.size()?void this.forEach(function(e){n(e).off(),e.parentNode&&e.parentNode.removeChild(e)}):new DOMStack},addClass:function(e){if(!this.size())return new DOMStack;if("string"==typeof e){var t=new DOMStack,n=void 0;return this.forEach(function(r){/\s/.test(e)?(n=e.split(" "),n.forEach(function(e){r.classList.add(e)})):r.classList.add(e),t.push(r)}),t}},hasClass:function(e){if(!this.size())return new DOMStack;var t=!1;return this.forEach(function(n){n.classList.contains(e)&&(t=!0)}),t},removeClass:function(e){if(!this.size())return new DOMStack;var t=new DOMStack,n=void 0;return this.forEach(function(r){r&&(/\s/.test(e)?(n=e.split(" "),n.forEach(function(e){r.classList.remove(e)})):r.classList.remove(e),""===r.getAttribute("class")&&r.removeAttribute("class"),t.push(r))}),t},toggleClass:function(e){if(!this.size())return new DOMStack;var t=new DOMStack;return this.forEach(function(n){n.classList.toggle(e),t.push(n)}),t},attr:function(e,t){if(!this.size())return new DOMStack;var n=new DOMStack,r=function(e,t,n){return void 0===n?e.getAttribute(t):e.setAttribute(t,n)};if(void 0===t){if(this[0].hasAttribute(e))return this[0].getAttribute(e)}else this.forEach(function(o){r(o,e,t),n.push(o)});return n.length?n:void 0},removeAttr:function(e){if(!this.size())return new DOMStack;var t=new DOMStack;return this.forEach(function(n){n.hasAttribute(e)&&(n.removeAttribute(e),t.push(n))}),t},prop:function(e,t){return this.size()?t===!1||t?(this.forEach(function(n){n[e]=t}),this):this.array[0]&&this.array[0][e]?this.array[0][e]:void 0:new DOMStack},removeProp:function(e){return this.size()?(this[0][e]=!1,[this[0]]):new DOMStack},disable:function(){return this.size()?(this.forEach(function(e){e.classList.add("disabled"),e.disabled=!0,e.style.cursor="default"}),this):new DOMStack},enable:function(){return this.size()?(this.forEach(function(e){e.classList.remove("disabled"),e.removeAttribute("disabled"),e.style.cursor="auto"}),this):new DOMStack},val:function(e){return this.size()?e?(this.array[0].value=e,this):this.array[0]&&this.array[0].value?this.array[0].value:void 0:new DOMStack},hide:function(){var e=this.css("display");this.data("display_attr",e),this.css("display","none")},show:function(){var e=this.data("display_attr");"none"!==e&&e||(e="block"),this.css("display",e)}}),function(){var r={en:{noEventOrCallback:"ChocolateChip-UI Event Error: No event or callback was provided to bind to the element. These are the minimal requirements for this method to work. Please provide an event and callback.",noCallbackForEventBinding:"ChocolateChip-UI Event Error: No callback was provided for the event you are trying to bind. A callback is required for the event binding to work.",noEventToTrigger:"ChocolateChip-UI Event Error: No event was provided to trigger. As such we cannot do anything."},es:{noEventOrCallback:"Hubo Error de Evento ChocolateChip-UI: No se proporcionó ningún evento ni función callback para asignar al elemento. Cuando menos se nesecitan éstos para realizar esta operación en el elemento. Por favor proporcione un evento y una callback.",noCallbackForEventBinding:"Hubo Error de Evento ChocolateChip-UI: No se proporcionó ninguna función callback para el evento que se quiere asignar al element. Se reqiere una callback para asignar el evento al elemento.",noEventToTrigger:"Hubo Error de Evento ChocolateChip-UI: No se proporcionó ningún evento que gatillar. Por eso no podemos hacer nada."}},o=void 0;"en"==n("html").attr("lang")&&(o=r.en),"es"==n("html").attr("lang")&&(o=r.es);var i=function(e){var n=[];if(e&&Array.isArray(e))for(var r=-1,o=e.length;++r<o;)n[r]=e[r];else if(e){var i=Array.prototype.slice.apply(t);i.forEach(function(e,t){n[t]=e})}return{size:function(){return n.length},push:function(e){return n.push(e)},pop:function(){return n.pop()},eq:function(e){return 0>e?n[n.length+e]:n[e]},forEach:function(e){for(var t=void 0,r=-1,o=n.length;++r<o&&(t=e.call(n[r],n[r],r),t!==!1););},shift:function(){return n.shift.apply(n,t)},unshift:function(){return n.unshift.apply(n,t)},splice:function(){return n.splice.apply(n,t)},indexOf:function(){return n.indexOf.apply(n,t)},getData:function(){return n},purge:function(){return n=[]}}},a={elements:{}},s=function(t,n,r,o){t.id||(t.id=e.uuid()),a.elements[t.id]||(a.elements[t.id]=i()),a.elements[t.id].push({event:n,callback:r}),t.addEventListener(n,r,o)},c=function(e,t){for(var n=e.length,r=0;n>r;n--)t.splice(e[n-1],1)},l=function(e,t,n,r){var o=a.elements[e.id];if(o){var i=[];t?t&&!n?(i=[],o.forEach(function(n,r){n.event===t&&(e.removeEventListener(n.event,n.callback,n.capturePhase),i.push(r))}),c(i,o)):n&&(i=[],o.forEach(function(t,r){n===t.callback&&(e.removeEventListener(t.event,t.callback,t.capturePhase),i.push(r))}),c(i,o)):(i=[],o.forEach(function(t,n){e.removeEventListener(t.event,t.callback,t.capturePhase),i.push(n)}),c(i,o))}},d=function(e,t,r,o,i){n(e).array[0];n(e).forEach(function(e){n(e).on(r,function(r){var i=r.target;3===r.target.nodeType&&(i=r.target.parentNode),n(e).find(t).forEach(function(e){if(e===i)o.call(e,r);else try{var a=n(i).closest(t);e===a.array[0]&&o.call(e,r)}catch(s){}})},i)})},u=function(e,t,r,o,i){l(n(e).array[0],r,o,i)};n.fn.extend({on:function(e,t,r,i){if(!e)return void console.error(o.noEventOrCallback);if(!t)return void console.error(o.noCallbackForEventBinding);!t&&/Object/gim.test(e.constructor.toString())&&this.forEach(function(t){for(var r in e)e.hasOwnProperty(r)&&n(t).on(r,e[r])});var a=[],c=void 0;return"string"==typeof e&&(e=e.trim(),/\s/.test(e)&&(c=e.split(" "),this.forEach(function(e){c.forEach(function(n){"function"==typeof t?(s(e,n,t,r),a.push(e)):d(e,t,n,r,i)})}))),this.forEach(function(n){return"function"==typeof t?s(n,e,t,r):void d(n,t,e,r,i)}),this},off:function(e,t,n,r){var o=new DOMStack;return this.size()?void this.forEach(function(i){return"undefined"==typeof e?(o.push(i),l(i),o):"function"!=typeof t&&t?(u(i,t,e,n,r),this):(l(i,e,t,n,r),this)}):o},trigger:function(e){return e?this.size()?void this.forEach(function(t){if(document.createEvent){var n=document.createEvent("Events");n.initEvent(e,!0,!1),t.dispatchEvent(n)}}):new DOMStack:void console.error(o.noEventToTrigger)}})}(),window.$=window.chocolatechipjs=e,n}(),$.extend({eventStart:null,eventEnd:null,eventMove:null,eventCancel:null,gestureLength:30}),$(function(){"ontouchstart"in window&&/mobile/gim.test(navigator.userAgent)?($.eventStart="touchstart",$.eventEnd="touchend",$.eventMove="touchmove",$.eventCancel="touchcancel"):($.eventStart="mousedown",$.eventEnd="click",$.eventMove="mousemove",$.eventCancel="mouseout")}),function(){function e(e){return"tagName"in e?e:e.parentNode}function t(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"left":"right":n-r>0?"up":"down"}function n(){if(u=null,i.last)try{i&&i.el&&(i.el.trigger("longtap"),i={})}catch(e){}}function r(){u&&clearTimeout(u),u=null}function o(){a&&clearTimeout(a),c&&clearTimeout(c),s&&clearTimeout(s),u&&clearTimeout(u),a=c=s=u=null,i={}}var i={},a=void 0,s=void 0,c=void 0,l=750,d=150;$.gestureLength=50,$.isAndroid&&(d=200);var u=void 0;$(function(){var h=void 0,f=void 0,p=$("body"),v=!1;p.on($.eventStart,function(t){h=Date.now(),f=h-(i.last||h),t.originalEvent&&(t=t.originalEvent),"mousedown"===$.eventStart?(i.el=$(e(t.target)),"ripple"===t.target.nodeName&&(i.el=$(el.target.parentNode)),a&&clearTimeout(a),i.x1=t.pageX,i.y1=t.pageY,v=!1):1===t.touches.length&&(i.el=$(e(t.touches[0].target)),a&&clearTimeout(a),i.x1=t.touches[0].pageX,i.y1=t.touches[0].pageY,v=2===t.targetTouches.length?!0:!1),f>0&&250>=f&&(i.isDoubleTap=!0),i.last=h,u=setTimeout(n,l)}),p.on($.eventMove,function(e){e.originalEvent&&(e=e.originalEvent),r(),"mousemove"===$.eventMove?(i.x2=e.pageX,i.y2=e.pageY):1===e.touches.length&&(i.x2=e.touches[0].pageX,i.y2=e.touches[0].pageY)}),p.on($.eventEnd,function(e){r(),i.el&&(i.x2&&Math.abs(i.x1-i.x2)>$.gestureLength||i.y2&&Math.abs(i.y1-i.y2)>$.gestureLength?s=setTimeout(function(){i&&i.el&&(i.el.trigger("swipe"),i.el.trigger("swipe"+t(i.x1,i.x2,i.y1,i.y2)),i={})},0):"last"in i&&(c=setTimeout(function(){i&&i.isDoubleTap?i&&i.el&&(i.el.trigger("doubletap"),i={}):a=setTimeout(function(){return a=null,i&&i.el?(i.el.trigger("tap"),i={},!1):void 0},d)},0)))}),p.on("touchcancel",o)}),["tap","doubletap","longtap","swipeleft","swiperight","swipeup","swipedown"].forEach(function(e){$.fn.extend({method:function(t){return this.on(e,t)}})})}();var CCDataCache={elements:{}};$.fn.extend({data:function(e,t){if(!this.size())return new DOMStack;var n=void 0,r=void 0,o=this.array[0];if(o.id||(o.id=$.uuid()),r=o.id,CCDataCache.elements[r]||(CCDataCache.elements[r]={}),"undefined"!==e&&null!==e){if(!t&&0!==t){if(!CCDataCache.elements[r])return;if(0===CCDataCache.elements[r][e])return CCDataCache.elements[r][e];if(!CCDataCache.elements[r][e])return;return CCDataCache.elements[r][e]}n=t;var i={};return i[e]=t,CCDataCache.elements[r][e]=t,this}},removeData:function(e){var t=this;return this.size()?void this.forEach(function(n){var r=n.id;return r&&CCDataCache.elements[r]?e?(0===Object.keys(CCDataCache.elements[r]).length?delete CCDataCache.elements[r]:delete CCDataCache.elements[r][e],t):(delete CCDataCache.elements[r],t):t}):this}}),$.extend({type:function(e){switch("undefined"==typeof e?"undefined":_typeof(e)){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"function":return"function";case"object":if(Array.isArray(e))return"array";if("[object Date]"===Object.prototype.toString.call(e))return"date";if("[object Error]"===Object.prototype.toString.call(e))return"error";if("[object RegExp]"===Object.prototype.toString.call(e))return"regexp";if("[object Object]"===Object.prototype.toString.call(e))return"object"}}}),$.extend({camelize:function(e){return"string"==typeof e?e.replace(/\-(.)/g,function(e,t){return t.toUpperCase()}):void 0},deCamelize:function(e){return"string"==typeof e?e.replace(/([A-Z])/g,"-$1").toLowerCase():void 0},capitalize:function(e,t){var n=void 0;if(e&&"string"==typeof e){if(!t)return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase();var r=function(){var t=e.split(" "),r=[];return t.forEach(function(e){return r.push(n.capitalize(e))}),{v:r.join(" ")}}();return"object"===("undefined"==typeof r?"undefined":_typeof(r))?r.v:void 0}}}),$.fn.extend({forEach:function(e){this.each(function(t,n){e.call(n,n,t)})},disable:function(){return this.size()?(this.forEach(function(e){e.classList.add("disabled"),e.disabled=!0,e.style.cursor="default"}),this):$()},enable:function(){return this.size()?(this.forEach(function(e){e.classList.remove("disabled"),e.removeAttribute("disabled"),e.style.cursor="auto"}),this):$()},iz:function(e){var t=$();return this.forEach(function(n){$(n).is(e)&&t.push(n)}),t},iznt:function(e){var t=$();return this.each(function(n,r){$(r).is(e)||t.push(r)}),t},haz:function(e){var t=new DOMStack;return this.forEach(function(n){$(n).has(e)[0]&&t.push(n)}),t},haznt:function(e){var t=new DOMStack;return this.forEach(function(n){$(n).has(e)[0]||t.push(n)}),t},hazClass:function(e){return e?this.iz("."+e):new DOMStack},hazntClass:function(e){return e?this.iznt("."+e):new DOMStack},hazAttr:function(e){return e?this.iz("["+e+"]"):new DOMStack},hazntAttr:function(e){return e?this.iznt("["+e+"]"):new DOMStack;
}});var setValidityStatus=function(e,t){t?($(e).prop("valid",!0),$(e).prop("invalid",!1),$(e).addClass("valid").removeClass("invalid")):($(e).prop("valid",!1),$(e).prop("invalid",!0),$(e).addClass("invalid").removeClass("valid"))},checkValidity=function(e,t){return t?setValidityStatus(e,!0):setValidityStatus(e,!1),t};$.fn.extend({isNotEmpty:function(e){return"INPUT"===this[0].nodeName?checkValidity(this,"INPUT"===this[0].nodeName&&this[0].value):void 0},validateAlphabetic:function(){if("INPUT"===this[0].nodeName){var e=/^[A-Za-z]+$/,t="INPUT"===this[0].nodeName&&this[0].value;return checkValidity(this,t.match(e)),t?checkValidity(this,t.match(e)):void 0}},validateText:function(){if("INPUT"===this[0].nodeName){var e=/^[A-Za-z\W]+$/,t="INPUT"===this[0].nodeName&&this[0].value;return checkValidity(this,t.match(e)),t?checkValidity(this,t.match(e)):void 0}},validateNumber:function(){if("INPUT"===this[0].nodeName){var e=/^[+-]?\d+(\.\d+)?$/,t="INPUT"===this[0].nodeName&&this[0].value;return checkValidity(this,t.match(e)),t?checkValidity(this,t.match(e)):void 0}},validateAlphaNumeric:function(){if("INPUT"===this[0].nodeName){var e=/^[0-9a-zA-Z]+$/,t="INPUT"===this[0].nodeName&&this[0].value;return checkValidity(this,t.match(e)),t?checkValidity(this,t.match(e)):void 0}},validateUserName:function(e){if("INPUT"===this[0].nodeName){var t=/^[a-zA-Z0-9]+$/,n=this[0].value;return n?e&&n.match(t)?n.length>=e?checkValidity(this,n):checkValidity(this,!1):checkValidity(this,checkValidity(this,n.match(t))):checkValidity(this,n)}},validateEmail:function(){if("INPUT"===this[0].nodeName){var e=this[0].value,t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return e?checkValidity(this,e.match(t)):checkValidity(this,!1)}},validatePhoneNumber:function(e){if("INPUT"===this[0].nodeName){var t=void 0,n=void 0,r=function(e){var t="";e=e.toLowerCase();for(var n=e.length,r=0;n>r;r++){var o=e.charAt(r);switch(o){case"0":t+="0";break;case"1":t+="1";break;case"2":t+="2";break;case"3":t+="3";break;case"4":t+="4";break;case"5":t+="5";break;case"6":t+="6";break;case"7":t+="7";break;case"8":t+="8";break;case"9":t+="9";break;case"-":t+="-";break;case"a":case"b":case"c":t+="2";break;case"d":case"e":case"f":t+="3";break;case"g":case"h":case"i":t+="4";break;case"j":case"k":case"l":t+="5";break;case"m":case"n":case"o":t+="6";break;case"p":case"q":case"r":case"s":t+="7";break;case"t":case"u":case"v":t+="8";break;case"w":case"x":case"y":case"z":t+="9"}}return t};return this[0].value?e?(n=this[0].value.replace(/[\(\)\.\-\ ]/g,""),checkValidity(this,this.isNotEmpty()&&!isNaN(n))):(n=this[0].value.replace(/[\(\)\.\-\ ]/g,""),n=r(n),t=/((\(\d{3}\)?)|(\d{3}))([\s-.\/]?)(\d{3})([\s-.\/]?)(\d{4})/,checkValidity(this,n.match(t))):checkValidity(this,!1)}},validateUrl:function(){if("INPUT"===this[0].nodeName){if(this[0].value){var e=/^(ftp|http|https):\/\/([w]{3}\.)?(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;return checkValidity(this,this[0].value.match(e))}return checkValidity(this,!1)}},validateAge:function(e){if("INPUT"===this[0].nodeName&&e){var t=this[0].value;return t?checkValidity(this,t>=e):checkValidity(this,!1)}},validateCheckbox:function(){return"INPUT"===this[0].nodeName&&"INPUT"===this[0].nodeName&&"checkbox"===this[0].type?checkValidity(this,this[0].checked===!0):void 0},validateRadioButtons:function(){if("INPUT"===this[0].nodeName){var e=!1;return"INPUT"===this[0].nodeName&&"radio"===this[0].type?($.each(this,function(t,n){n.checked===!0&&(e=!0)}),checkValidity(this,e)):void 0}},validateSelectBox:function(){return"SELECT"===this[0].nodeName?checkValidity(this,this[0].selectedIndex):void 0},validateSwitch:function(){var e=this.find("input[type=checkbox]")[0];return e.checked?!0:!1},validateSelectList:function(){var e=this.find("input[type=radio]");return e.iz("[checked]")[0]?!0:!1},validateMultiSelectList:function(){var e=this.find("input[type=checkbox]"),t=!1;return e.forEach(function(e){$(e).prop("checked")&&(t=!0)}),t?!0:!1}}),$.extend({validatePassword:function(e,t,n){if(n&&$(e).val().length<n||$(t).val().length<n)return $(e).addClass("invalid").removeClass("valid"),$(t).addClass("invalid").removeClass("valid"),!1;var r=/^(?=.*[a-zA-Z])(?=.*[0-9]).+$/;return r.test($(e).val())||r.test($(t).val())?($(e).val()===$(t).val()?($(e).removeClass("invalid").addClass("valid"),$(t).removeClass("invalid").addClass("valid")):($(e).addClass("invalid").removeClass("valid"),$(t).addClass("invalid").removeClass("valid")),$(e).val()===$(t).val()):!1},validateWithRegex:function(e,t){if(!t)return void console.error("This method requires a regular expression.");var n=$(e).val();return n?checkValidity(e,n.match(t)):void 0},customValidators:[],registerCustomValidator:function(e,t){this.customValidators.push({name:e,regex:t})}}),$.fn.extend({serializeArray:function(){var e=void 0,t=void 0,n=[],r=function o(t){return"array"===$.type(t)?t.forEach(o):void n.push({name:e,value:t})};return this[0]&&$.each([].slice.apply(this[0].elements),function(n,o){t=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=t&&"reset"!=t&&"button"!=t&&"file"!=t&&("radio"!=t&&"checkbox"!=t||o.checked)&&r($(o).val())}),n},serialize:function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")}}),$.extend({param:function(e,t){function n(e,t,r,o){var i=void 0,a="array"===$.type(t),s=$.isEmptyObject(t);if("array"===$.type(t))$.each(t,function(t,c){i=$.type(c),o&&(t=r?o:o+"["+(s||"object"==i||"array"==i?t:"")+"]"),!o&&a?e.add(c.name,c.value):"array"==i||!r&&"object"==i?n(e,c,r,t):e.add(t,c)});else if("object"===$.type(t))for(var c in t)i=$.type(t[c]),o&&(c=r?o:o+"["+(s||"object"==i||"array"==i?c:"")+"]"),!o&&a?e.add(t[c].name,t[c].obj[c]):"array"==i||!r&&"object"==i?n(e,t[c],r,c):e.add(c,t[c])}var r=[];return r.add=function(e,t){"function"===$.type(t)&&(t=t()),null===t&&(t=""),this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},n(r,e,t),r.join("&").replace(/%20/g,"+")}}),$.extend({Form:function(e){function t(e){e&&(o?n($(e.element).attr("name"),$(e.element).val()):(i.push({element:e.element,type:e.type}),e.callback&&e.callback()))}function n(e,t){a.push({name:e,value:t})}function r(e){var t="_",n={},r={};return e.forEach(function(e){var o=e.value;if(""!==o)for(var i=e.name,a=i.split(t),s=n,c=0;c<a.length;c++){var l=a[c],d=void 0;if(l.indexOf("[]")>-1&&c===a.length-1)d=l.substr(0,l.indexOf("[")),s[d]||(s[d]=[]),s[d].push(o);else if(l.indexOf("[")>-1){d=l.substr(0,l.indexOf("["));var u=l.replace(/^[a-z]+\[|\]$/gi,"");r[d]||(r[d]={}),s[d]||(s[d]=[]),c===a.length-1?s[d].push(o):r[d][u]||(s[d].push({}),r[d][u]=s[d][s[d].length-1]),s=r[d][u]}else c<a.length-1?(s[l]||(s[l]={}),s=s[l]):s[l]=o}}),n}if(e&&"array"===$.type(e)){var o=!1,i=[],a=[];return e.forEach(function(e){if($(e.element)[0]){switch(e.type){case"notempty":return o=t(e.element,e.type),void i.push({element:e.element,type:e.type});case"number":return o=$(e.element).validateNumber(),void t(e);case"text":return o=$(e.element).validateText(),void t(e);case"alphanumeric":return o=$(e.element).validateAlphaNumeric(),void t(e);case"username":return o=$(e.element).validateUserName(e.min),void t(e);case"email":return o=$(e.element).validateEmail(),void t(e);case"phone":return o=$(e.element).validatePhoneNumber(),void t(e);case"url":return o=$(e.element).validateUrl(),void t(e);case"age":return o=$(e.element).validateAge(e.min),void t(e);case"checkbox":return o=$(e.element).validateCheckbox(),void(o&&t(e));case"radio":return o=$(e.element).validateRadioButtons(),void t(e);case"selectbox":return o=$(e.element).validateSelectBox(),void t(e);case"password":return o=$.validatePassword(e.element,e.element2,e.min),void i.push({element:e.element,element2:e.element2,type:e.type});case"switch":return o=$(e.element).validateSwitch(),void(o&&t(e));case"selectlist":o=$(e.element).validateSelectList(),o&&t(e);case"multiselectlist":o=$(e.element).validateMultiSelectList();var r=void 0;o&&(r=$(e.element).find("input[type=checkbox]"),r.forEach(function(e){e.checked&&n(e.name,e.value)}))}if(e.type.match(/custom/)){var a=$.customValidators.filter(function(t){return t.name===e.type});if(a){var s=$.validateWithRegex(e.element,a[0].regex);if(s){var c=$(e.element);n(c[0].name,c[0].value)}else i.push({element:e.element,type:e.type}),e.callback&&e.callback()}}}}),{getErrors:function(){return i.length?i:void 0},errors:function(){return i.length?!0:void 0},get:function(){return r(a)}}}}}),$.extend({formatNumber:function(e,t,n){var r=t||",";if(0===n){var o=Math.round(e);return Number(o).toString().replace(/(?=(?:\d{3})+$)(?!^)/g,r)}return void 0===n?"number"==typeof e&&e%1!==0?Number(e).toString().replace(/\d(?=(\d{3})+\.)/g,"$&"+r):Number(e).toString().replace(/(?=(?:\d{3})+$)(?!^)/g,r):Number(e).toFixed(n).replace(/\d(?=(\d{3})+\.)/g,"$&"+r)},sum:function(e){var t=void 0;return t=Array.isArray(e)&&e.length?e:[].slice.apply(arguments),t.reduce(function(e,t){return e+t})},currency:function(e,t,n,r){var o=t||"$",i=n||",",a=r||2,s=!1;0===r&&(s=!0);var c=function(e,t){if(s){var n=Math.round(e);return Number(n).toString().replace(/^0+/,"").replace(/(?=(?:\d{3})+$)(?!^)/g,t)}return Number(e).toFixed(a).replace(/^0+/,"").replace(/\d(?=(\d{3})+\.)/g,"$&"+t)};return o+c(e,i)},formatTime:function(e){var t=e.split(":"),n=t[0]+":"+t[1],r=e.split(" ")[1];return n+" "+r},sortDate:function(e,t){return new Date(e)-new Date(t)},sortNumbers:function(e,t){return e-t},sortNumbersDescending:function(e,t){return t-e}}),$.extend({form2JSON:function(e,t){e="string"==typeof e?$(e)[0]:e,t=t||".";var n={},r={},o=function(e){if("INPUT"===e.nodeName){if("radio"===e.type.toLowerCase()||"checkbox"===e.type.toLowerCase()){if(e.checked)return e.value}else if(!e.type.toLowerCase().match(/button|reset|submit|image/i))return e.value}else{if("TEXTAREA"===e.nodeName)return e.value;if("SELECT"===e.nodeName)return a(e)}return""},i=function c(e){for(var t=[],n=e.firstChild;n;){if(n.nodeName.match(/INPUT|SELECT|TEXTAREA/i))t.push({name:n.name,value:o(n)});else{var r=c(n);t=t.concat(r)}n=n.nextSibling}return t},a=function(e){var t=e.multiple;if(!t)return e.value;if(e.selectedIndex>-1){var n=function(){var t=[];return $("option",e).each(function(e,n){n.selected&&t.push(n.value)}),{v:t}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}},s=i(e);return s.forEach(function(e){var o=e.value;if(""!==o)for(var i=e.name,a=i.split(t),s=n,c=0;c<a.length;c++){var l=a[c],d=void 0;if(l.indexOf("[]")>-1&&c===a.length-1)d=l.substr(0,l.indexOf("[")),s[d]||(s[d]=[]),s[d].push(o);else if(l.indexOf("[")>-1){d=l.substr(0,l.indexOf("["));var u=l.replace(/^[a-z]+\[|\]$/gi,"");r[d]||(r[d]={}),s[d]||(s[d]=[]),c===a.length-1?s[d].push(o):r[d][u]||(s[d].push({}),r[d][u]=s[d][s[d].length-1]),s=r[d][u]}else c<a.length-1?(s[l]||(s[l]={}),s=s[l]):s[l]=o}}),n}}),function(){var e={en:{noDataForViewRender:"ChocolateChip-UI View Error: No data was provided for the view to render. If you want to render the view, please provide data, or redefine the view with a data source or model. Otherwise rendering will be skipped.",noElementForView:"ChocolateChip-UI View Error: No element was provided for the view. Please provide an element in the view initialization so that we can access it.",noTemplateForView:"ChocolateChip-UI View Error: No template was provided for this view. This means that you did not provide a template in the view initialization, or the element did not have any template in its markup.",viewElementHasNoTemplate:"ChocolateChip-UI View Error: The element for this view has no template in its markup. Either correct the element by defining a template in the element's markup, or define a template in the view's initialization.",noElementToSetToTemplate:"ChocolateChip-UI View Error: No element was provided to set to this view. Please provide one.",noTemplateToSetToView:"ChocolateChip-UI View Error: You did not provide a template to set to this view. Please provide one.",noEventsToAdd:"ChocolateChip-UI View Error: No event was provided to attach fo the view. Please provide an event to procede.",noDataToSetForView:"ChocolateChip-UI View Error: No data was provided to set for the view. Please provide some data.",noModelToBindToView:"ChocolateChip-UI View Error: No model was provided to bind the view to. Please provide a valid model to complete this operation.",viewHasNoModel:"ChocolateChip-UI View Error: Could not get this view's model because it is not bound to one. You can use `bindModel()` to mind a model to this view.",viewHasNoData:"ChocolateChip-UI View Error: This view has no data. Did you render it with data, or did you bind it to a model? Try using `getModel()` to see if this view is using a model."},es:{noDataForViewRender:"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó datos para que la vista los utilice. Si desea renderizar la vista, proporcione datos o redefinir la vista con un valor para sus datos o un modelo de datos. De lo contrario, la vista no se renderizará.",noElementForView:"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó ningún elemento para la vista. Por favor proporcione un elemento en la inicialización de la vista para que podamos acceder a él.",noTemplateForView:"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó ninguna plantilla para esta vista. Esto significa que usted no proporcionó una plantilla en la vista de inicialización, o el elemento no tiene ninguna plantilla en su marcado.",viewElementHasNoTemplate:"Hubo Error de Vista ChocolateChip-UI: : El elemento de esta vista no tiene ninguna plantilla en su marcado. O bien corrija el elemento por definir una plantilla en el marcado del elemento, o defina una plantilla en la inicialización de la vista misma.",noElementToSetToTemplate:"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó ningún elemento en el cual se renderizará la pantilla. Por favor proporcione un elemento.",noTemplateToSetToView:"Hubo Error de Vista ChocolateChip-UI: No se proporcionó una plantilla para esta vista. Por favor proporcione una plantilla.",noEventsToAdd:"Hubo Error de Vista ChocolateChip-UI: No se proporcionó ningún event para unir a la vista. Por favor, proporcione un evento para proceder.",noDataToSetForView:"Hubo Error de Vista ChocolateChip-UI: No se proporcionó datos para la vista. Por favor proporcione algunos datos.",noModelToBindToView:"Hubo Error de Vista ChocolateChip-UI: No se proporcionó un modelo para establecer un enlace entre él y la vista. Por favor proporcione un modelo válido para completar esta operación.",viewHasNoModel:"Hubo Error de Vista ChocolateChip-UI: No pudimos acceder al modelo de esta vista porque no está asociada con uno. Puede realizar esto usando `bindModel()`.",viewHasNoData:"Hubo Error de Vista ChocolateChip-UI: Esta vista no tiene datos. A caso no se renderizó con datos o no se asoció con ningún modelo. Trate de executar `getModel()` para averiguar si esta vista está usando un modelo."}},t=void 0;"en"==$("html").attr("lang")&&(t=e.en),"es"==$("html").attr("lang")&&(t=e.es),$.extend({view:{index:0},helpers:{},defineHelper:function(e){$.extend($.helpers,e)},View:function(e){var n=void 0,r=void 0;e||(e={}),e&&e.element&&(r=e.element,n=$(e.element));var o=e.template,i=e.data,a=e.model,s=e.index||1,c=!1,l=e.variable||"data",d=e.events||[],u=e.startIndexFrom||!1,h=/data-src/gim,f=e.safeHTML||!1,p=e.es6Template||!1,v=e.noTemplate||!1,g=$.uuid(),m=void 0,y=function(e,n){if(!e)return void console.error(t.viewElementHasNoTemplate);var r=/\{=([\s\S]+?)\}/gim;n=n||"data",e.replace("'","'");var o=new Function(n,"var p=[];p.push('"+e.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(r,"',$1,'").split("{{").join("');").split("}}").join("p.push('")+"');return p.join('');");return o},b=function(){n&&d.length&&d.forEach(function(e){e&&"self"===e.element||e&&!e.element?n.on(e.event,e.callback):n.on(e.event,e.element,e.callback)})},w=function(){if(n&&n.size()&&!v&&!p)if(o)o=o.replace(h,"src"),y(o,l);else{if(n.children()[0]&&n.children().eq(0).is("script"))o=n.children("script").html(),n.empty();else if(n.children()[0]&&n.children().eq(0).is("template"))o=n.children("template").html(),n.empty();else{if(!n[0].childNodes.length)return void console.error(t.viewElementHasNoTemplate);n[0]&&n[0].childNodes.length&&(o||(o=n.html())),n.empty()}o&&(o=o.replace(h,"src")),y(o,l)}};m=w(),d&&b(d);var C={},x=function(e,t){e&&e.boundViews.push(t)};return x(a,C),$.extend(C,{id:g,render:function(e,r){function d(e){return"number"===$.type(e)?String(e):e}if(!n)return void console.error(t.noElementForView);if(window.escapeNumber=d,e=d(e),i=d(i),!e&&!i&&!a)return void console.error(t.noDataForViewRender);!e&&i?e=i:!e&&a&&(e=a.get());return o&&"string"===$.type(o)&&(m=y(o,l)),"array"===$.type(e)?($.view.index=u||1,r||n.empty(),e.forEach(function(e){return f||(e=$.escapeHTML(e)),m||v?(n.append(m(e)),$.view.index+=1,void(s+=1)):void console.error(t.viewElementHasNoTemplate)}),c=!0,$.view.index=0,void n.removeClass("cloak")):"object"===$.type(e)||"string"===$.type(e)||"number"===$.type(e)?m?($.view.index=u||1,r||n.empty(),f||(e=$.escapeHTML(e)),n.append(m(e)),n.removeClass("cloak"),void(c=!0)):void console.error(t.viewElementHasNoTemplate):void 0},empty:function(){return n?void n.empty():void console.error(t.noElementForView)},resetIndex:function(){return n?(s=0,n.data("index",0),void($.view.index=0)):void console.error(t.noElementForView)},startIndexFrom:function(e){return n?void((0===e||e&&!isNaN(e))&&(u=e,$.view.index=e,C.render())):void console.error(t.noElementForView)},getElement:function(){return n},setElement:function(e){return n?(n=$(e),$(e).empty(),void b()):void console.error(t.noElementForView)},getTemplate:function(){return o},setTemplate:function(e){return e?(o=e.replace(h,"src"),void(m=y(o))):void console.error(t.noTemplateToSetToView)},bindModel:function(e){return e?(this.unbindModel(a),a=e,void x(a,C)):void console.error(t.noModelToBindToView)},unbindModel:function(){if(a){var e=a.boundViews.findIndex(function(e){return e.id=g});a.boundViews.splice(e,1)}},getModel:function(){return a?a:void console.error(t.viewHasNoModel)},isRendered:function(){return c},isEmpty:function(){return n?n[0].children.length?!1:!0:void console.error(t.noElementForView)},addEvent:function(e,n){return e?(n?d=e&e.length?e:[e]:e&&e.length?e.forEach(function(e){d.push(e)}):e&&d.push(e),void b()):void console.error(t.noEventsToAdd)},off:function(e,t,r){n.off(e,t,r)},safeHTML:function(e){e&&(f=!0)},isEscapingHTML:function(){return!f},getData:function(){return i?i:void console.error(t.viewHasNoData)},setData:function(e){return e?void(e&&(i=e)):void console.error(t.noDataToSetForView)},mount:function(){n=$(r),b()}}),C}})}(),$.extend({Component:function(e){var t=$.Component;$[e.name]=function(){return t.options=e,delete t.options.name,$.View(t.options)}}}),function(){function e(e,t){h.add(e,t),u||(u=setTimeout(h.unshift))}function t(e){var t=void 0,n="undefined"==typeof e?"undefined":_typeof(e);return null===e||"object"!==n&&"function"!==n||(t=e.then),"function"==typeof t?t:!1}function n(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,r){var o=void 0,i=void 0;try{n===!1?r.reject(e.msg):(o=n===!0?e.msg:n.call(void 0,e.msg),o===r.promise?r.reject(new TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(a){r.reject(a)}}function o(r){var a=void 0,c=this;if(!c.triggered){c.triggered=!0,c.deferred&&(c=c.deferred);try{(a=t(r))?e(function(){var e=new s(c);try{a.call(r,function(){o.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(c.msg=r,c.state=1,c.chain.length>0&&e(n,c))}catch(l){i.call(new s(c),l)}}}function i(t){var r=this;r.triggered||(r.triggered=!0,r.deferred&&(r=r.deferred),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function a(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function s(e){this.deferred=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if("function"!=typeof t)throw new TypeError("Not a function");if(0!==this.isValidPromise)throw new TypeError("Not a promise");this.isValidPromise=1;var r=new c(this);this.then=function(t,o){var i={success:"function"==typeof t?t:!0,failure:"function"==typeof o?o:!1};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw new TypeError("Not a function");i.resolve=e,i.reject=t}),r.chain.push(i),0!==r.state&&e(n,r),i.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(r,e)},function(e){i.call(r,e)})}catch(a){i.call(r,a)}}var d=void 0,u=void 0,h=void 0;d=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})},h=function(){function e(e,t){this.func=e,this.self=t,this.next=void 0}var t=void 0,n=void 0,r=void 0;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},unshift:function(){var e=t;for(t=n=u=void 0;e;)e.func.call(e.self),e=e.next}}}();var f=d({},"constructor",l,!1);return d(l,"prototype",f,!1),d(f,"isValidPromise",0,!1),d(l,"resolve",function(e){var t=this;return e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&1===e.isValidPromise?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw new TypeError("Not a function");t(e)})}),d(l,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw new TypeError("Not a function");n(e)})}),d(l,"all",function(e){var t=this;return"[object Array]"!==Object.prototype.toString.call(e)?t.reject(new TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw new TypeError("Not a function");var o=e.length,i=new Array(o),s=0;a(t,e,function(e,t){i[e]=t,++s===o&&n(i)},r)})}),d(l,"race",function(e){var t=this;return"[object Array]"!==Object.prototype.toString.call(e)?t.reject(new TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw new TypeError("Not a function");a(t,e,function(e,t){n(t)},r)})}),"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise?void 0:window.Promise=l}(),function(){function e(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function i(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function a(e){var t=new FileReader;return t.readAsText(e),o(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},p.blob?(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=r(this);return e?e:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var r=t.body;if(l.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new n(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function u(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function h(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||"",this._initBody(e)}if($.extend({JSONPCallbacks:[],jsonp:function(e,t){function n(){var e=r.callbackName+"_"+($.JSONPCallbacks.length+1);return $.JSONPCallbacks.push(e),e}var r={timeout:2e3,callbackName:"callback",clear:!0};t&&$.extend(r,t);var o=n();return new Promise(function(t,n){var i=void 0;window.jsonp=window.jsonp||{},window.jsonp[o]=function(e){t({ok:!0,json:function(){return Promise.resolve(e)}}),i&&clearTimeout(i)};var a=document.createElement("script");if(a.async=!0,a.defer=!0,a.src=e+(e.indexOf("?")>-1?"&":"?")+"callback=jsonp."+o,document.body.appendChild(a),setTimeout(function(){a.parentNode.removeChild(a)}),r.clear){var s=$.JSONPCallbacks.indexOf(o);$.JSONPCallbacks.splice(s,1)}i=setTimeout(function(){n(new Error("JSONP request to "+e+" timed out"))},r.timeout)})},json:function(e){return e.json()}}),!window||!window.fetch){var f=window;n.prototype.append=function(n,r){n=e(n),r=t(r);var o=this.map[n];o||(o=[],this.map[n]=o),o.push(r)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,r){this.map[e(n)]=[t(r)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var p={blob:"FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in f,arrayBuffer:"ArrayBuffer"in f},v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},s.call(l.prototype),s.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];h.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},f.Headers=n,f.Request=l,f.Response=h,f.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i=void 0;i=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:u(a),url:o()},t="response"in a?a.response:a.responseText;n(new h(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&p.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},f.fetch.polyfill=!0}}(),Array.prototype.find||$.extend(Array.prototype,{find:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=void 0,i=0;n>i;i++)if(o=t[i],e.call(r,o,i,t))return o;return void 0}}),Array.prototype.findIndex||$.extend(Array.prototype,{findIndex:function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=void 0,i=0;n>i;i++)if(o=t[i],e.call(r,o,i,t))return i;return-1}}),Array.prototype.pluck||$.extend(Array.prototype,{pluck:function(e){return this.map(function(t){return t[e]})}}),Array.prototype.difference||$.extend(Array.prototype,{difference:function(e){return this.filter(function(t){return!e.reduce(function(e,n){if(!e){e=!0;for(var r in n)n.hasOwnProperty(r)&&(e=e&&n[r]===t[r])}return e},!1)})}}),Array.prototype.intersection||$.extend(Array.prototype,{intersection:function(e){var t=this,n=t.difference(e),r=e.difference(this),o=n.concat(r),i=t.concat(e);return i.difference(o).unique()}}),Array.prototype.mixin||$.extend(Array.prototype,{mixin:function(e){return this.unique(this.concate(e))}}),Array.prototype.unique||$.extend(Array.prototype,{unique:function(){for(var e=this.length,t={},n=[],r=0;e>r;r++){var o=JSON.stringify(this[r]),i=this[r];void 0===t[o]?(n.push(i),t[o]=1):t[o]++}return n}}),function(){var e,t,n={en:(e={noPropertyOrDataError:"ChocolateChip-UI Model Error: No property or data were provided to set on the model.",noPropertyToSet:"ChocolateChip-UI Model Error: No data was provided to set on the model's property.",noPropertyToDelete:"ChocolateChip-UI Model Error: No property was provided to delete from the model.",noObjectToMerge:"ChocolateChip-UI Model Error: No object was provided to merge into the model's data.",incorrectDataForMerging:"ChocolateChip-UI Model Error: An incorrect type of data was provided for merging into the model. You must use a proper object for this model.",noObjForMixin:"ChocolateChip-UI Model Error: No object was passed to the mixin. Please provide one.",noCallbackForModelOn:"ChocolateChip-UI Model Error: No callback was provided for the model `on` event. Without it the event cannot work. Please provide one.",noEventForModelOn:"ChocolateChip-UI Model Error: No event was provided for the model's `on` handler. Without an event the handler cannot work. Please provide one an event and a callback to handle the event.",noEventForModelTrigger:"ChocolateChip-UI Model Error: No event was provided for the model trigger. Without it no event can be triggered. Please provide one.",noPosForEventDeletion:"ChocolateChip-UI Model Error: No position was provided for the callback to be deleted from the model events. Please provide one.",noPosForPropAt:"ChocolateChip-UI Model Error: No position was provided for getting a property on the model's collection. Please provide one.",noPropForPropAt:"ChocolateChip-UI Model Error: No property was provided. Without one we cannot get the property from the model collection. Please provide a property and the position in the collection to get it.",
noValForPropEquals:"ChocolateChip-UI Model Error: No value was provided to use for getting an object property. Please provide one.",noPropForPropEquals:"ChocolateChip-UI Model Error: No property or value was provided. Without them we cannot get an object whose property equals some value in this model.",noPosForSetPropAt:"ChocolateChip-UI Model Error: No position was provided for setting a property in the model collection. Please provide one.",noValueForSetPropAt:"ChocolateChip-UI Model Error: No value or position was provided for setting an object by property in the model collection. Please provide a value and a position.",noPropForSetPropAt:"ChocolateChip-UI Model Error: No property, value or position were provided for setting the value of an object in the model collection. Please provide a property, value and position to set on the model.",noValueForPropEquals:"ChocolateChip-UI Model Error: No value was provided. With a value, we cannot find a matching object in the model collection. Please provide one"},_defineProperty(e,"noPropForPropEquals","ChocolateChip-UI Model Error: No property or value were provided. Without these we cannot find a matching object in the model collection. Please provide both of them."),_defineProperty(e,"noDataToPushToModel","ChocolateChip-UI Model Error: No data was provided to push onto the model collection."),_defineProperty(e,"noDataForShiftToModel","ChocolateChip-UI Model Error: No data was provided to insert at the beginning of the model collection."),_defineProperty(e,"noEndForModelSlice","ChocolateChip-UI Model Error: No end value was provided to slice the model collection. Please provide a numeral value."),_defineProperty(e,"noStartModelForSlice","ChocolateChip-UI Model Error: No start value was provided for slicing the model collection. Please provide both a start and end numeral value so that we can slice the model collection for you."),_defineProperty(e,"noEndForModelSplice","ChocolateChip-UI Model Error: No end position was provided to splice the model collection. Please provide one."),_defineProperty(e,"noStartForModelSplice","ChocolateChip-UI Model Error: No start position was provided for splicing the model collection. Please provide a start and end position for splicing the model collection."),_defineProperty(e,"noDataToInsertInModel","ChocolateChip-UI Model Error: No data was provided to insert into the model collection. Was expecting an object, but found nothing. Please provide some an object of data."),_defineProperty(e,"noPosToInserInModel","ChocolateChip-UI Model Error: No position was provided to insert data into the model collection. Please provide a position and some data to insert in the model colleciton."),_defineProperty(e,"noPropForPlucking","ChocolateChip-UI Model Error: No property was provided to pluck from the model collection. Please provide a property."),_defineProperty(e,"noCallbackForModelFind","ChocolateChip-UI Model Error: No callback was provided as an argument for the find on the model collection. Please provide one."),_defineProperty(e,"noCallbackForIndexOf","ChocolateChip-UI Model Error: No callback was provided for finding the index of an object in the model collection. Please provide one."),_defineProperty(e,"noDataToConcat","ChocolateChip-UI Model Error: No data was provided to concat to this model. Did you forget to provide the data?"),_defineProperty(e,"noPropsForSortBy","ChocolateChip-UI Model Error: No property was provided for sorting. Without a property we cannot sort."),_defineProperty(e,"noEventForEventDeletion","ChocolateChip-UI Model Error: No event was provided to delete the callback for this model. Please provide both and event and an array position for the callback. An event can have more than one callback registered to it."),_defineProperty(e,"noCallbackForForEach","ChocolateChip-UI Model Error: No callback was provided for the forEach method. This is required."),_defineProperty(e,"noDataToReplaceInModel","ChocolateChip-UI Model Error: No data was provided to replace the data in the model. If you want to do so, please provide some data to complete this operation. Otherwise, if you are trying to empty the model, use `purge()`."),_defineProperty(e,"modelHasNoDataToReturn","ChocolateChip-UI Model Error: This model has no data associated with it. Perhaps you forgot to give it any data when you created it."),e),es:(t={noPropertyOrDataError:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad ni datos para establecer el valor del modelo.",noPropertyToSet:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningunos datos para establecer el valor de una propiedad del modelo.",noPropertyToDelete:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad para eliminar del modelo.",noObjectToMerge:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó objeto de fundirse en los datos del modelo.",incorrectDataForMerging:"Hubo Error de Modelo ChocolateChip-UI: Se proporcionó un tipo incorrecto de los datos con el fin de fundirse en el modelo. Debe utilizar un objeto adecuado para este modelo.",noObjForMixin:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún objeto al mixin. Por favor proporcione uno.",noCallbackForModelOn:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback para el event `on` del modelo. Sin ella el evento no puede funcionar. Por favor proporcione una.",noEventForModelOn:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún evento para la función del evento `on` del modelo.Sin un evento la función no puede realizarse. Por favor proporcione un evento.",noEventForModelTrigger:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún evento para el gatillo del modelo. Sin él no se puede disparar ningún evento. Por favor proporcione uno.",noPosForEventDeletion:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback la cual se puede eliminar de los eventos del modelo. Por favor proporcione una.",noPosForPropAt:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición para acceder a una propiedad en la colección del modelo. Por favor proporcione una.",noPropForPropAt:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninugna propiedad. Sin una no se puede acceder a una propiedad en la colección del modelo. Por favor proporcione una propiedad y una posición en la colección para acceder a ella.",noValForPropEquals:"Hubo Error de Modelo ChocolateChip-UI: No se proporiconó ningún valor para acceder a una propiedad de un objeto. Por favor proprocione uno.",noPropForPropEquals:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningúna propiedad ni valor. Sin ellos no podemos acceder a un objeto que tenga propiedad del mismo valor en este modelo.",noPosForSetPropAt:"Hubo Error de Modelo ChocolateChip-UI: No se proprocionó ninguna posición para establecer una propiedad en la colección del modelo. Por favor proporcione una.",noValueForSetPropAt:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninún valor ni posición para actualizar un objeto en la colección del modelo. Por favor proporcione un valor y una posición.",noPropForSetPropAt:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ninunga propiedad, valor ni posición para establecer el valor de un objeto en la colección del modelo. Por favor proporcione una propiedad, valor y posición para actualizar el objeto.",noValueForPropEquals:"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún valor. Sin algún valor no podemos encontrar a un objeto idéntico en la colección del modelo. Por favor proporcione uno."},_defineProperty(t,"noPropForPropEquals","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad ni valor. Sin ellos no podemos encontrar un objeto de iqual valor en la colección del modelo. Por favor proporcione los dos."),_defineProperty(t,"noDataToPushToModel","Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para añadir al fin de la colección del modelo."),_defineProperty(t,"noDataForShiftToModel","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninungos datos para agregar al inicio de la colección del modelo."),_defineProperty(t,"noEndForModelSlice","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún valor final para extraer de la colección del modelo. Por favor proporcione un valor numérico."),_defineProperty(t,"noStartModelForSlice","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún valor inicial para extraer datos de la colección del modelo. Por favor proporcione un valor numérico inicial así como un final para que podamos extraer los datos de la colección del modelo."),_defineProperty(t,"noEndForModelSplice","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición final para realizar una acción de «splice» en la colección del modelo. Por favor proporcione una."),_defineProperty(t,"noStartForModelSplice","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición inicial para realizar una acción de «splice» en la colección del modelo. Por favor proporcione una."),_defineProperty(t,"noDataToInsertInModel","Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para insertar en la colección del modelo. Se esperaba un objeto, pero no se encontró nada. Por favor proporcione un objeto de datos."),_defineProperty(t,"noPosToInserInModel","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición para saber en dónde insertar los datos en la colección del modelo. Por favor proporcione una posición de valor numérico y unos datos para insertar en la colección del modelo."),_defineProperty(t,"noPropForPlucking","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad para extraerla de la colección del modelo. Por favor proporcione una propiedad."),_defineProperty(t,"noCallbackForModelFind","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback como parámetro a fin de realizar una búsqueda en la colección del modelo. Por favor proporcione una."),_defineProperty(t,"noCallbackForIndexOf","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback a fin de averiguar el índice de un objeto en la colección del modelo. Por favor proporcione una."),_defineProperty(t,"noDataToConcat","Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para concatenar en este modelo. ¿Se le olvidó proporcionar los datos?"),_defineProperty(t,"noPropsForSortBy","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad. Sin una no se puede ordenar los datos del modelo."),_defineProperty(t,"noEventForEventDeletion","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún evento a fin de eliminar la función callback de este modelo. Por favor proporcione tanto un evento como una posición en la colección para la callback que se quiere eliminar. Es posible que un evento tenga más de una callback registrada a él."),_defineProperty(t,"noCallbackForForEach","Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback para el método «forEach». Ésta se requiere."),_defineProperty(t,"noDataToReplaceInModel","Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para reemplazar los del modelo. Si es lo que usted quiere hacer, por favor proporicone unos datos para realizar esta operación. En otro caso, si el propósito de esta operación es el de vaciar el modelo, use `purge()`."),_defineProperty(t,"modelHasNoDataToReturn","Hubo Error de Modelo ChocolateChip-UI: Este modelo no tiene datos suyos. Quizás se le olvidó asignarselos cuando lo creó."),t)},r=void 0;"en"==$("html").attr("lang")&&(r=n.en),"es"==$("html").attr("lang")&&(r=n.es),$.extend({Model:function(e){function t(e){(e.boundViews||e.boundViews.length)&&e.boundViews.forEach(function(e){e.render()})}function n(e){var n;return n={id:a,data:e,stop:function(){return i=!0},start:function(){return i=!1},isStopped:function(){return i},get:function(e){return e?s.data[e]:s.data},set:function(e,n){return e?n?(s.data[e]=n,void t(s)):void console.error(r.noPropertyToSet+e):void console.error(r.noPropertyOrDataError)},purge:function(){return s.data={}},merge:function(e){return e?void("object"!==$.type(e)?console.error(erros.incorrectDataForMerging):($.extend(s.data,e),t(s))):void console.error(r.noObjectToMerge)},mixin:function(e){if(!e)return void console.error(erros.noObjForMixin);for(var n in e)n in s.data||(s.data[n]=e[n],t(s))},remove:function(e){return e?(delete s.data[e],void t(s)):void console.error(r.noPropertyToDelete)},events:function(){return o},on:function(e,t){return i?void 0:t?e?void(o[e]?o[e].push(t):o[e]=[t]):void console.error(r.noEventForModelOn):void console.error(r.noCallbackForModelOn)},trigger:function(e,t){return i?void 0:e?void o[e].forEach(function(e){e(t)}):void console.error(r.noEventForModelTrigger)},off:function(e){if(e){var t=o.indexOf(e);o.splice(t,1)}else o=[]},removeEventCallback:function(e,t){return void 0===t?void console.error(r.noPosForEventDeletion):(void 0===e&&console.error(r.noEventForEventDeletion),void o[e].splice(t,1))}},_defineProperty(n,"purge",function(){return s.data=[]}),_defineProperty(n,"replace",function(e,n){e?(s.data=e,n&&t(s)):console.error(r.noDataToReplaceInModel)}),_defineProperty(n,"boundViews",s.boundViews),n}var o={},i=!1,a=$.uuid(),s=this;if(s.data=void 0,s.boundViews=[],e&&(s.data=e),"object"===$.type(e))return n(e);if("array"===$.type(e))return{id:a,stop:function(){return i=!0},start:function(){return i=!1},isStopped:function(){return i},getPropAt:function(e,t){return void 0===t?void console.error(r.noPosForPropAt):e?s.data[t][e]:void console.error(r.noPropForPropAt)},setPropAt:function(e,n,o){return void 0===o?void console.error(r.noPosForSetPropAt):n?e?(s.data[o][e]=n,void t(s)):void console.error(r.noPropForSetPropAt):void console.error(r.noValueForSetPropAt)},get:function(){return s.data?s.data:void console.error(r.modelHasNoDataToReturn)},push:function(e){return e?(s.data.push(e),void t(s)):void console.error(r.noDataToPushToModel)},pop:function(){s.data.pop(),t(s)},unshift:function(e){return e?(s.data.unshift(e),void t(s)):void console.error(r.noDataForShiftToModel)},shift:function(){s.data.shift(),t(s)},slice:function(e,t){return void 0===t?void console.error(r.noEndForModelSlice):void 0===e?void console.error(r.noStartModelForSlice):s.data.slice(e,t)},splice:function(e,n,o){return void 0===n?void console.error(r.noEndForModelSplice):void 0===e?void console.error(r.noStartForModelSplice):void(o?(s.data.splice(e,n,o),t(s)):(s.data.splice(e,n),t(s)))},insert:function(e,n){return void 0===n?void console.error(r.noDataToInsertInModel):void 0===e?void console.error(r.noPosToInserInModel):(s.data.splice(e,0,n),void t(s))},pluck:function(e){if(!e)return void console.error(r.noPropForPlucking);var t=[];if(s.data&&s.data.length){for(var n=s.data.length,o=0;n>o;o++)t.push(s.data[o][e]);return t}},find:function(e){return e?s.data.find(e):void console.error(r.noCallbackForModelFind)},indexOf:function(e){return e?s.data.indexOf(e):void console.error(r.noCallbackForIndexOf)},findIndex:function(e){return e?s.data.findIndex(e):void console.error(r.noCallbackFoFindIndex)},forEach:function(e){if(!e)return void console.error(r.noCallbackForForEach);if(s.data&&s.data.length)for(var t=void 0,n=-1,o=s.data.length;++n<o&&(t=e.call(s.data[n],s.data[n],n),t!==!1););},filter:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return s.data&&s.data.length?s.data.filter.apply(s.data,t):void 0},map:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return s.data&&s.data.length?s.data.map.apply(s.data,t):void 0},reverse:function(){s.data&&s.data.length&&(s.data.reverse(),t(s))},sort:function(e){s.data&&s.data.length&&(e?(s.data.sort(e),t(s)):(s.data.sort(),t(s)))},orderBy:function l(){for(var e=arguments.length,n=Array(e),o=0;e>o;o++)n[o]=arguments[o];if(!n||!n.length)return void console.error(r.noPropsForSortBy);var l=function(e){return function(e,t){for(var r=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){var o=n[e]<r[e]?-1:n[e]>r[e]?1:0;return o*t}},o=0,i=0,a=n.length;0===i&&a>o;)i=r(n[o])(e,t),o++;return i}};s.data&&s.data.length&&(s.data.sort(l.apply(null,n)),t(s))},concat:function(e){if(!e)return void console.error(r.noDataToConcat);var n=s.data.concat(e);s.data=n,t(s)},mixin:function(e){return e?(s.data.concat(e).unique(),void t(s)):void console.error(r.noPosForEventDeletion)},unique:function(){var e=s.data.unique();s.data=e,t(s)},events:function(){return o},on:function(e,t){return i?void 0:t?e?void(o[e]?o[e].push(t):o[e]=[t]):void console.error(r.noEventForModelOn):void console.error(r.noCallbackForModelOn)},trigger:function(e,t){return i?void 0:e?void o[e].forEach(function(e){e(t)}):void console.error(r.noEventForModelTrigger)},off:function(e){if(e){var t=o.indexOf(e);o.splice(t,1)}else o=[]},removeEventCallback:function(e,t){return void 0===t?void console.error(r.noPosForEventDeletion):void o[e].splice(t,1)},size:function(){return s.data.length},eq:function(e){return s.data[e]},purge:function(){return s.data=[]},replace:function(e,n){e?(s.data=e,n&&t(s)):console.error(r.noDataToReplaceInModel)},boundViews:s.boundViews};if(!e){var c={};return n(c)}}})}(),$.extend($,{isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isTouchEnabled:!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&"createTouch"in document,isOnline:navigator.onLine,isStandalone:navigator.standalone,isWebkit:!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/webkit/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isSafari:!/edge/gim.test(navigator.userAgent)&&!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/Chrome/gim.test(navigator.userAgent)&&!((/samsung/gim.test(navigator.userAgent)||/Galaxy Nexus/gim.test(navigator.userAgent)||/HTC/gim.test(navigator.userAgent)||/LG/gim.test(navigator.userAgent))&&!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)),isNativeAndroid:(/samsung/gim.test(navigator.userAgent)||/Galaxy Nexus/gim.test(navigator.userAgent)||/HTC/gim.test(navigator.userAgent)||/LG/gim.test(navigator.userAgent))&&!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)}),$.extend({ChuiColor:function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.toLowerCase();for(var t=[{re:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;3>n;n++){var r=t[n].re,o=t[n].process,i=r.exec(e);if(i){var a=o(i);this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.toRGB=function(){return"rgb("+this.r+","+this.g+","+this.b+")"}},getBrightness:function(e){return"string"===$.type(e)&&(e=$.ChuiColor(e)),.299*e.r+.587*e.g+.114*e.b},lightenColor:function(e,t){var n=parseInt(e.slice(1),16),r=Math.round(2.55*t),o=(n>>16)+r,i=(n>>8&255)+r,a=(255&n)+r;return"#"+(16777216+65536*(255>o?1>o?0:o:255)+256*(255>i?1>i?0:i:255)+(255>a?1>a?0:a:255)).toString(16).slice(1)},darkenColor:function(e,t){var n=parseInt(e.slice(1),16),r=Math.round(2.55*t),o=(n>>16)-r,i=(n>>8&255)-r,a=(255&n)-r;return"#"+(16777216+65536*(255>o?1>o?0:o:255)+256*(255>i?1>i?0:i:255)+(255>a?1>a?0:a:255)).toString(16).slice(1)},calculateBrightness:function(e){"object"===$.type(e)&&(e=e.toHex());var t=new $.ChuiColor(e);return $.getBrightness(t)}}),$(function(){/(mobile)|(ios)|(android)/gim.test(navigator.userAgent)||$("body").addClass("isDesktop"),$("link[href*=ios]")[0]?($("body").addClass("themeIsiOS"),$.theme="ios"):$("link[href*=android]")[0]&&($("body").addClass("themeIsAndroid"),$.theme="android"),$.dir="ltr","rtl"===$("html").attr("dir")&&($.dir="rtl")}),$.fn.extend({Busy:function(e){var t={size:40,color:"#666"};$.extend(t,e);var n=this,r=void 0,o=function(){parseInt(t.size,10)<30?(r="<svg class='chui-busy small' width='"+t.size+"px' height='"+t.size+"px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'>  \n  <g x='0' y='0' width='100' height='100' fill='none' class='bk'>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(0 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(45 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(90 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(135 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(180 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(225 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(270 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(315 50 50) translate(0 -30)'></rect>\n  </g>\n</svg>",n.append(r)):(r="<svg class='chui-busy' width='"+t.size+"px' height='"+t.size+"px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid' class='uil-default'> \n  <g x='0' y='0' width='100' height='100' fill='none'>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(0 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(30 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(60 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(90 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(120 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(150 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(180 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(210 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(240 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(270 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(300 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+t.color+"' transform='rotate(330 50 50) translate(0 -30)'></rect>\n  </g>\n</svg>",n.append(r))},i=function(){t.id=$.uuid();var r=null;return $.isNativeAndroid?(r='<svg class="chui-busy" version="1.1" id="'+t.id+'" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">\n  <g>\n    <path fill="none" stroke="'+t.color+'" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M74.2,65c2.7-4.4,4.3-9.5,4.3-15c0-15.7-12.8-28.5-28.5-28.5S21.5,34.3,21.5,50c0,5.5,1.6,10.6,4.3,15"/>\n  </g>\n  <polyline fill="none" stroke="'+t.color+'" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="89.4,56.1 74.3,65 65.4,49.9 "/>\n</svg>',void n.append(r)):(r='<svg id="'+t.id+'" class="chui-busy" x="0px" y="0px" viewBox="0 0 100 100"><circle stroke="url(#SVGID_1_)" cx="50" cy="50" r="28.5"/></svg>',n.append(r),n.addClass("hasActivityIndicator"),e.color&&$("#"+t.id).find("circle").css("stroke",e.color),void $("#"+t.id).css({height:t.size+"px",width:t.size+"px"}))};"android"===$.theme?i(e):"ios"===$.theme&&o(e)}}),$.extend({Block:function(e){e=e?" style='opacity:"+e+";'":" style='opacity: .5;'",$(".mask")[0]||($("body").append("<div class='mask'"+e+"></div>"),$("screen.current").attr("aria-hidden",!0))},Unblock:function(){$(".mask").remove(),$("screen.current").removeAttr("aria-hidden")}});var chuiBackButtonSVG='<svg id="chui-back-button-svg" width="100px" height="100px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g id="chui-back-arrow" stroke="#979797">\n      <path d="M50.7822487,4.05872022 L5.60302012,49.1913445 L50.4625593,94.6779982" id="back-arrow-bracket"></path>\n      <path d="M6,49.368351 L95.8300018,49.368351" id="back-arrow-shaft"></path>\n    </g>\n  </g>\n</svg>';$.fn.extend({decorateBackButton:function(){($(this).hasClass("back")||$(this).hasClass("backTo"))&&this.forEach(function(e){var t=$(e).text();$(e).html("<span>"+t+"</span>"),$(e).prepend(chuiBackButtonSVG)})}}),$(function(){$(".back").decorateBackButton(),$(".backTo").decorateBackButton()}),$.fn.extend({center:function(e){if(this[0]){var t=$(this),n=t.parent();e?$(this.css("position",e)):e="absolute"===t.css("position")?"absolute":"relative";var r=void 0,o=void 0,i=void 0,a=void 0;"absolute"===e?(r=t[0].clientHeight,o=t[0].clientWidth,i=n[0].clientHeight,a=n[0].clientWidth):(r=parseInt(t.css("height"),10),o=parseInt(t.css("width"),10),i=parseInt(n.css("height"),10),a=parseInt(n.css("width"),10),$(this).css({"margin-left":"auto","margin-right":"auto"}));var s=void 0,c=void 0;return"body"===n[0].nodeName?(s=window.innerHeight/2+window.pageYOffset-r/2+"px",c=window.innerWidth/2-o/2+"px"):(s=i/2-r/2+"px",c=a/2-o/2+"px"),"absolute"!==e&&(c=0),t.css({left:c,top:s}),t}}}),$.extend({EditList:function(e){var t={editLabel:"Edit",doneLabel:"Done",deleteLabel:"Delete",cancelLabel:"Cancel",callback:$.noop,deletable:!0,movable:!0,model:void 0,modelProp:"id",view:void 0},n=[];if(e){$.extend(t,e);var r=t.model||!1;if(t.deletable||t.movable){var o=t.view;e&&$.extend(t,e);var i=void 0,a=void 0,s=void 0,c=void 0,l="swiperight",d="swipeleft",u=void 0,h=void 0,f=t.element,p=$("html").attr("dir");p=p?p.toLowerCase():"","rtl"===p&&(l="swipeleft",d="swiperight"),t.deletable&&(i='<button class="delete">\n  <label>'+t.deleteLabel+'</label>\n  <svg width="27px" height="30px" viewBox="0 0 27 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g id="delete-icon" fill="#3A3A3A">\n        <g transform="translate(3.000000, 1.000000)">\n          <path d="M1,6 L20,6 L20,24.9986131 C20,26.6562333 18.6639569,28 16.9998779,28 L4.00012207,28 C2.3432004,28 1,26.6569187 1,24.9986131 L1,6 Z M4,9 L5,9 L5,25 L4,25 L4,9 Z M8,9 L9,9 L9,25 L8,25 L8,9 Z M12,9 L13,9 L13,25 L12,25 L12,9 Z M16,9 L17,9 L17,25 L16,25 L16,9 Z" id="can"></path><path d="M0,4.96611425 L0,1.67759301 L5.1776507,1.7511163 L6.482399,0 L14.5847825,0 L15.8789491,1.7511163 L21,1.7511163 L21,4.9447157 L0,4.96611425 L0,4.96611425 Z" id="lid"></path>\n        </g>\n      </g>\n    </g>        \n  </svg>      \n</button>',s='<span class="deletion-indicator">\n  <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g id="deletion-indicator">\n        <g id="ios-indicator">\n          <circle id="ios-circle" fill="#FF0000" cx="10" cy="10" r="10"></circle>\n          <path d="M3.5,10 L16.5,10" id="ios-bar" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>\n        </g>\n        <path d="M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332" id="checkmark" stroke="#FA0303" stroke-width="2"></path>\n      </g>\n    </g>\n  </svg>\n</span>',$(f).addClass("deletable")),t.movable&&(u='<span class=\'move-up\'>\n  <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g id="move-indicator">\n        <circle id="circle" cx="11" cy="11" r="10"></circle>\n        <path d="M4,13.9645823 L10.9316382,5.94630319 L17.795297,13.9073417" id="move-up"></path>\n      </g>\n    </g>\n  </svg>\n</span>',h='<span class=\'move-down\'>\n  <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g id="move-indicator">\n        <circle id="circle" cx="11" cy="11" r="10"></circle>\n        <path d="M4.0421421,7.98172087 L10.912246,16 L17.7960071,8.1103389" id="move-down"></path>\n      </g>\n    </g>\n  </svg>\n</span>',$(f).addClass("editable")),a='<button class="edit">'+t.editLabel+"</button>";var v=$(f).closest("screen"),g=$(f).closest("screen").find("nav");g.append(a),g.find(".back").hide(),g.prepend('<button class="cancel">'+t.cancelLabel+"</button>"),g.find(".cancel").hide(),$.AdjustNavbarLayout($(f).closest("screen")),c=$(f).closest("screen").find(".edit"),$(f).find("li").forEach(function(e){$(e).has(".deletion-indicator").length||(t.deletable&&$(e).prepend(s),t.movable&&($(e).append(h),$(e).append(u)),t.deletable&&$(e).append(i))});var m=function(e,a,c){$(function(){if(o){var f=$("<div></div>");f[0].insertAdjacentHTML("afterbegin",o.getTemplate()),f.find("li").prepend(s),f.find("li").append(h),f.find("li").append(u);var p=f.html();o.setTemplate(p)}c.on("tap",function(){var o=this;if(this.classList.contains("edit"))$(a).addClass("editing"),setTimeout(function(){o.classList.remove("edit"),o.classList.add("done"),$(o).text(t.doneLabel),$(a).addClass("showIndicators"),$(o).siblings(".back").hide(),$(o).siblings(".cancel").show(),$.AdjustNavbarLayout(v)});else if(this.classList.contains("done")){$(a).removeClass("editing"),setTimeout(function(){o.classList.remove("done"),o.classList.add("edit"),$(o).text(t.editLabel),$(a).removeClass("showIndicators"),$(a).find("li").removeClass("selected"),$(o).siblings(".cancel").hide(),$.AdjustNavbarLayout(v)});$(a).find("li").forEach(function(e,t){n.push($(e).attr("data-id"))}),r&&!function(){var e=[];n.filter(function(n){
var o=r.filter(function(e){return e[t.modelProp]===n});e.push(o[0])}),n=[],r.purge(),r.replace(e,!1),e=[]}(),$(a).data("list-edit")&&e.call(e,r)}setTimeout(function(){$.AdjustNavbarLayout(v)})}),$(a).off("tap",".deletion-indicator"),$(a).on("tap",".deletion-indicator",function(){return $(this).closest("li").hasClass("selected")?void $(this).closest("li").removeClass("selected"):void $(this).closest("li").addClass("selected")}),$(a).on(l,"li",function(){t.deletable&&$(this).removeClass("selected")}),$(a).on(d,"li",function(){t.deletable&&$(this).addClass("selected")}),$(a).on("tap",".move-up",function(e){var t=this,n=$(this).closest("li");n.is("li:first-child")||!function(){$(a).data("list-edit",!0),n=$(t).closest("li");var e=n.prev(),r=n.clone(),o=e.clone(),i=n[0].offsetHeight;n.css({"-webkit-transform":"translate3d(0,-"+i+"px,0)",transform:"translate3d(0,-"+i+"px,0)"}),e.css({"-webkit-transform":"translate3d(0,"+i+"px,0)",transform:"translate3d(0,"+i+"px,0)"}),setTimeout(function(){$.replace(o,n),$.replace(r,e),$("ripple-sheath").remove()},250)}()}),$(a).on("tap",".move-down",function(e){var t=$(this).closest("li"),n=t.next();t.is("li:last-child")||!function(){var e=t.clone(),r=n.clone();$(a).data("list-edit",!0);var o=t[0].offsetHeight;t.css({"-webkit-transform":"translate3d(0,"+o+"px,0)",transform:"translate3d(0,"+o+"px,0)"}),n.css({"-webkit-transform":"translate3d(0,-"+o+"px,0)",transform:"translate3d(0,-"+o+"px,0)"}),setTimeout(function(){$.replace(r,t),$.replace(e,n),$("ripple-sheath").remove()},250)}()}),$(a).on("tap",".delete",function(){var e=$(this).parent();$(a).data("list-edit",!0);var t="-1200%";"rtl"===$("html").attr("dir")&&(t="1000%"),$(this).siblings().css({"-webkit-transform":"translate3d("+t+",0,0)","-webkit-transition":"all 1s ease-out",transform:"translate3d("+t+",0,0)",transition:"all 1s ease-out"}),setTimeout(function(){e.remove()},500)}),g.find(".cancel").on("tap",function(){g.find(".back").show(),$(this).hide(),o.render(),g.find(".done").addClass("edit").removeClass("done").text(t.editLabel),$(a).removeClass("showIndicators"),$(a).find("li").removeClass("selected"),$(this).hide(),$(a).find("li").append(i)})})};return m(t.callback,f,c),{getModel:function(){return r},getView:function(){return o}}}}}}),$.extend({MultiSelectList:function(e){if(e&&e.element){var t={element:void 0,selected:[],name:$.uuid(),callback:$.noop,model:void 0},n=[];$.extend(t,e);var r=t.selected,o=t.name,i=$(t.element);return i.addClass("multi-select-list"),i.find("li").forEach(function(e,t){var i=null!==e.getAttribute("data-select")?e.getAttribute("data-select"):"";r.forEach(function(e){e.index===t&&n.push({index:t,value:i})}),e.setAttribute("role","checkbox"),$(e).removeClass("selected").find("input").removeAttr("checked"),$(e).prepend('<span class="multi-selection-indicator"><svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="multi-select-icon" stroke="#979797"><g id="multi-select-circle-+-mulit-select-checkmark" transform="translate(2.000000, 2.000000)"><circle id="multi-select-circle" cx="13" cy="13" r="13"></circle><path d="M4.71521456,15.9877529 L13.0000002,20.7028494 L19.977049,5.70284941" id="mulit-select-checkmark"></path></g></g></g></svg></span>'),$(e).append('<input type="checkbox" name="'+o+'" value="'+i+'">'),r.length&&r.forEach(function(r){r===t&&(e.setAttribute("aria-checked","true"),e.classList.add("selected"),$(e).find("input").prop("checked",!0).attr("value",i),n.push({index:r,value:i}))})}),i.on("tap","li",function(){var e=this,r=arguments,o=$(this);o.hasClass("selected")?!function(){o.removeClass("selected").removeAttr("aria-checked"),o.find("input").removeProp("checked");var i={index:o.index(),value:o.attr("data-select")},a=void 0;n.forEach(function(e,t){e.index===i.index&&e.value===i.value&&(a=t)}),n.splice(a,1),t.callback.apply(e,r)}():(n.push({index:o.index(),value:o.attr("data-select")}),n.unique(),o.addClass("selected"),o.attr("aria-checked",!0),o.find("input").prop("checked",!0),t.callback.apply(this,arguments))}),{getSelection:function(){return n}}}}}),$(function(){$.extend({AdjustNavbarLayout:function(e){function t(e){var t=e||n.siblings();s=t[0].clientWidth,t.is(":first-child")?(o="margin-right",i="margin-left",a&&(o="margin-left",i="margin-right")):t.is(":last-child")&&(o="margin-left",i="margin-right",a&&(o="margin-right",i="margin-left"))}if($("link[href*=ios]")[0]&&(!document.body||!document.body.hasAttribute("nocenterheader"))){e=$(e),!e[0];var n=e.find("h1"),r=n.siblings(),o=void 0,i=void 0,a="rtl"===$("html").attr("dir"),s=0,c=!1,l=void 0,d=function(e,t){var n=e[0].clientWidth,r=t[0].clientWidth;n||(n=0,o="margin-right",i="margin-left",a&&(o="margin-left",i="margin-right")),r||(r=0,o="margin-left",i="margin-right",a&&(o="margin-right",i="margin-left")),r>n?(o="margin-left",i="margin-right",a&&(o="margin-right",i="margin-left"),s=r-n):n>r?(o="margin-right",i="margin-left",a&&(o="margin-left",i="margin-right"),s=n-r):s=0};1===r.length?t():2===r.length?(r.forEach(function(e){"none"===$(e).css("display")?c=!0:l=$(e)}),c?t(l):d(r.eq(0),r.eq(1))):(o="margin-left",i="margin-right",s=0);var u={};u[o]=s,u[i]=0;var h=0;r.size()&&r.forEach(function(e){h+=$(e)[0].clientWidth});var f=e.find("nav").width()/2;h+20>f?n.css({"margin-left":0,"margin-right":0}):n.css(u)}}}),setTimeout(function(){$("screen").forEach(function(e){$.AdjustNavbarLayout(e)})})}),$(function(){var e=function(e){return $("#"+e)},t=function(e){e=$(e),e.addClass("current"),e.removeClass("previous"),e.removeClass("next")},n=function(e){e=$(e),e.removeClass("current"),e.removeClass("next"),e.addClass("previous")},r=function(e){e=$(e),e.removeClass("current"),e.removeClass("previous"),e.addClass("next")};$.extend({GoToScreen:function(r){if(!$.isNavigating){$.isNavigating=!0,setTimeout(function(){$.isNavigating=!1},500),$.ChuiRoutes.push(r);var o=$.screens.getCurrent(),i=function(){var t=void 0,n=/:/gim;return t=n.test(r)?r.split(":")[0]:r,e(t)}();o[0]&&(o[0].scrollTop=0),i[0]&&(i[0].scrollTop=0),n(o),t(i),$.Router.dispatch(r)}},GoBack:function(){if(!$.isNavigating){$.isNavigating=!0;var n=$.screens.getCurrent();$.ChuiRoutes.pop();var o=$.ChuiRoutes[$.ChuiRoutes.length-1],i=function(){var t=void 0,n=/:/gim;return t=n.test(o)?o.split(":")[0]:o,e(t)}();n[0]&&(n[0].scrollTop=0),i[0]&&(i[0].scrollTop=0),r(n),t(i),$.Router.dispatch(o),setTimeout(function(){$.isNavigating=!1},500)}},isNavigating:!1,GoBackToScreen:function(n){for(var o=$.ChuiRoutes.findIndex(function(e){return e=n}),i=e(n),a=void 0;$.ChuiRoutes.length>o+1;)a=$.ChuiRoutes.pop(),a=e(a),r(a);t(i),$.Router.dispatch(n)}}),$("body").on("tap",".back",function(){this.hasAttribute("disabled")||$.GoBack()});var o=function(e){if(e=$(e),!$.isNavigating&&e.hazAttr("data-goto")[0]&&!e.closest("ul").is(".deletable")){var t=e.attr("data-goto");t&&(e.addClass("selected"),setTimeout(function(){e.removeClass("selected")},1e3),$.GoToScreen(t))}};$("body").on("tap","li",function(){o($(this))}),$("body").on("doubletap","li",function(){$.isNavigating||o($(this))})}),$.extend({Paging:function(e){if(e&&e.element){var t=$(e.element),n='<div class="pager">\n    <button class="previous">\n      <svg width="24px" height="36px" viewBox="0 0 24 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="pagination-icons" stroke="#979797"><path d="M19.7729197,3 L4.25431067,17.8699971 L19.7729196,32.9558941" id="page-previous"></path></g></g></svg>\n    </button>\n    <button class="next">\n      <svg width="24px" height="36px" viewBox="0 0 24 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="pagination-icons" stroke="#979797"><path d="M4.08862955,3.06871359 L20.0261609,18.0528447 L4.08862956,32.9999994" id="page-next"></path></g></g></svg>\n    </button>\n    </div>';$(t).find("nav").append(n);var r=$(t).find("section"),o=function(){return r.find("article").length};$.AdjustNavbarLayout(t);var i=function(e){if(!(o()<2)){e.prev().removeClass("selected"),e.addClass("selected");var t=void 0;e[0]&&e[0].classList.contains("disabled")||(t=r.find("article.current"),t.index()===o()-1?(t.removeClass("current").addClass("next"),t.siblings().removeClass("previous").addClass("next"),r.find("article").eq(0).addClass("current").removeClass("previous").removeClass("next")):(t.removeClass("current").addClass("previous"),t.next().removeClass("next").addClass("current")),setTimeout(function(){e.removeClass("selected")},250))}},a=function(e){if(1!==o()){e.next().removeClass("selected"),e.addClass("selected");var t=void 0;t=r.find("article.current"),0===t.index()?(t.removeClass("current"),t.siblings().eq(-1).addClass("current").removeClass("next"),t.siblings().eq(-1).siblings().removeClass("next").addClass("previous")):(t.removeClass("current").addClass("next"),t.prev().removeClass("previous").addClass("current")),setTimeout(function(){e.removeClass("selected")},250)}};$(".pager").on($.eventStart,"button:last-of-type",function(){i($(void 0))}),$(".pager").on($.eventStart,"button:first-of-type",function(){a($(void 0))})}}}),$.extend({Popover:function(e){e=e||{};var t={id:$.uuid(),callback:$.noop,title:""};$.extend(t,e),e&&e.content?t.content=e.content:t.content="";var n="<header><h1>"+t.title+"</h1></header>",r='<div class="popover" id="'+t.id+'">'+n+"<section></section></div>",o="#"+t.id,i=function(e){var t=$(e).offset(),n=t.left,r=void 0,i=void 0,a=$(o),s=a.offset();r=s.left,i=t.top+$(e)[0].clientHeight,a.width()+t.left>window.innerWidth?a.css({left:window.innerWidth-a.width()-20+"px",top:i+25+"px"}):a.css({left:n+"px",top:i-30+"px"})};return $(".mask")[0]?($.ClosePopover(),void $("body").Unblock()):($.Block(".5"),$("body").append(r),$("body").hasClass("themeIsAndroid")&&setTimeout(function(){$(o).addClass("opened")},200),$(o).data("triggerEl",t.trigger),$(o).find("section").append(t.content),t.callback.call(t.callback,t.trigger),void i(t.trigger))},AlignPopover:function(){var e=$(".popover");if(e.length){var t=e.data("triggerEl"),n=$(t).offset(),r=n.left;$(e).width()+n.left>window.innerWidth?e.css({left:window.innerWidth-$(e).width()-20+"px"}):e.css({left:r+"px"})}},ClosePopover:function(){$.Unblock(),$(".popover").css({transform:"scaleY(0)"}),setTimeout(function(){$(".popover").off(),$(".popover").remove()},100)}}),$(function(){window.onresize=function(){$.AlignPopover()},$("body").on($.eventStart,".mask",function(e){$.ClosePopover()})}),$.extend({Popup:function(e){if(e){var t={};t.id=$.uuid(),t.content=!0,$.extend(t,e);var n="";t.width&&(n='style="width:'+t.width+'px;"');var r=t.id,o=t.title?"<header><h1>"+t.title+"</h1></header>":"",i=t.message?'<p role="note">'+e.message+"</p>":"",a=e.cancelButton?'<button class="cancel" role="button">'+t.cancelButton+"</button>":"",s=t.continueButton?'<button class="continue" role="button">'+t.continueButton+"</button>":"",c=t.callback||$.noop,l=void 0;if(l=t.empty?'<div id="'+r+'" class="popup"><div '+n+' class="dialog" role="alertdialog"></div></div>':'<div class="popup" id="'+r+'"><div class="dialog" role="alertdialog"><div class="panel">'+o+i+"</div><footer>"+a+s+"</footer></div></div>",$("body").append(l),t.empty){var d;$(".dialog").css((d={display:"-webkit-flex","-webkit-justify-content":"center","-webkit-align-items":"center"},_defineProperty(d,"display","flex"),_defineProperty(d,"justify-content","center"),_defineProperty(d,"align-items","center"),d))}c&&s&&($("#"+r).find(".continue").on("tap",function(){var e=$(this);$.isAndroid||$.isChrome?(e.addClass("selected"),setTimeout(function(){e.removeClass("selected"),$(".popup").ClosePopup(),c.call(c)},300)):($("#"+r).ClosePopup(),c.call(c))}),$("#"+r).find(".cancel").on("tap",function(){var e=$(this);$.isAndroid||$.isChrome?(e.addClass("selected"),setTimeout(function(){e.removeClass("selected"),$("#"+r).ClosePopup()},300)):$("#"+r).ClosePopup()})),$(".popup").on("tap",function(e){$(this).removeClass("opened")})}}}),$.fn.extend({ShowPopup:function(){var e=$(this);e.removeClass("forPopup"),e.addClass("opened"),setTimeout(function(){e.find(".popup").addClass("opened")},0)},ClosePopup:function(){var e=$(this);e.removeClass("opened"),e.find(".popup").removeClass("opened")}}),$.fn.extend({Range:function(){if("INPUT"===this[0].nodeName){var e=$(this),t=void 0,n=e.width(),r=(e.val()-e.attr("min"))/(e.attr("max")-e.attr("min")),o=-1.3;0>r?t=0:r>1?t=n:(t=n*r+o,o-=r),"android"===$.theme?e.css({"background-size":Math.round(t)+"px 3px, 100% 3px"}):e.css({"background-size":Math.round(t)+"px 10px"})}}}),$(function(){$("input[type=range]").forEach(function(e){$(e).Range()}),$("body").on("input","input[type=range]",function(){$(this).Range()})}),$.extend({ChuiRoutes:[],Router:function(){return{addRoute:function(e){"array"===$.type(e)&&e.forEach(function(e){return $.on(e.route,e.callback)})},getFullRoute:function(){return $.ChuiRoutes.join("/")},getCurrentLoc:function(){var e=(void 0).getFullRoute().split("/");return e[e.length-1]},dispatch:function(e){var t=void 0,n=void 0;e.match(/\:/)&&(t=e.split(":"),n=t[1],e=t[0]),$.send(e)},pushRoute:function(e){return $.ChuiRoutes.push(e)},popRoute:function(){return $.ChuiRoutes.pop()},unshiftRoute:function(e){return $.ChuiRoutes.unshift(e)},shiftRoute:function(){return $.ChuiRoutes.shift()},insert:function(e,t){$.ChuiRoutes.length>=e?$.ChuiRoutes.push(t):$.ChuiRoutes.splice(e,0,t)},eq:function(e){return $.ChuiRoutes.length&&0>e?$.ChuiRoutes[$.ChuiRoutes.length-1]:$.ChuiRoutes.length&&!isNaN(e)&&e>-1?$.ChuiRoutes[e]:void 0},indexOf:function(e){return $.ChuiRoutes.indexOf(e)},remove:function(e,t){if(t){var n=$.ChuiRoutes.indexOf(e);$.ChuiRoutes.splice(n,1)}else $.ChuiRoutes.forEach(function(t){if(t&&e===t.split(":")[0]){var n=$.ChuiRoutes.indexOf(t);$.ChuiRoutes.splice(n,1)}})},mount:function(){$("screen").size()&&!$.ChuiRoutes.length&&$.ChuiRoutes.push($("screen")[0].id)}}}}),$.extend($.Router,{dispatch:function(e){if(e){var t=void 0,n=void 0;e.match(/\:/)&&(t=e.split(":"),n=t[1],e=t[0]),$.send(e,n)}}}),$.extend($.ChuiRoutes,{getFullRoute:function(){return this.join("/")}}),$(function(){$("screen").size()&&!$.ChuiRoutes.length&&$.ChuiRoutes.push($("screen")[0].id)}),$(function(){$.extend({screens:$("screen")}),$.extend($.screens,{getCurrent:function(){return this.hazClass("current")},getNext:function(){return this.hazClass("next")},getPrevious:function(){return this.hazClass("previous")}})}),$(function(){$.extend({Segmented:function(e){function t(){var e="";($.theme="android")&&(e='<span class="androidSelectionBorder"></span>');var t=['<div class="segmented">'];o.forEach(function(e,r){n.selected===r?(t.push('<button role="radio" aria-checked="true" class="selected">'),i=r):t.push('<button role="radio">'),t.push(e),t.push("</button>")}),t.push(e+"</div>"),r=t.join(""),$(n.element).append(r)}if(e&&e.element){var n={selected:0,callback:$.noop};$.extend(n,e);var r=void 0,o=n.labels?n.labels:[],i=void 0,a=n.element;t();var s=void 0;if("android"===$.theme){s=$(a).find(".androidSelectionBorder");var c=$(a).find("button").eq(n.selected),l=c.width(),d=c.offset().left-16;"rtl"===$.dir&&(d=c.offset().left+16),s.css({width:l+"px",left:d+"px"})}var u=n.callback;return $(a).on("tap",".segmented > button",function(e){var t=$(this);if(!this.parentNode.classList.contains("paging")&&(t.siblings("button").removeClass("selected"),t.siblings("button").removeAttr("aria-checked"),t.addClass("selected"),i=t.index(),a=$(this),t.attr("aria-checked",!0),u.call(this,e),"android"===$.theme)){var n=t.width(),r=t.offset().left-16;"rtl"===$.dir&&(r=t.offset().left+16),s.css({width:n+"px",left:r+"px"})}}),{getSelection:function(){return{index:i,element:a}}}}}})}),$.extend({SelectList:function(e){if(e&&e.element){var t={element:void 0,selected:void 0,name:$.uuid(),callback:$.noop,model:void 0},n={};$.extend(t,e);var r=t.name,o=$(t.element);return o.addClass("select-list"),o.find("li").forEach(function(e,o){var i=null!==e.getAttribute("data-select")?e.getAttribute("data-select"):"";e.setAttribute("role","radio"),$(e).removeClass("selected").find("input").removeAttr("checked"),$(e).append('<span class="selection-indicator"><svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="selection-indicator"><path d="M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332" id="checkmark" stroke="#007AFF" stroke-width="2"></path><circle id="outer-circle" stroke="#007AFF" stroke-width="2" cx="10" cy="10" r="9"></circle><circle id="inner-circle" fill="#007AFF" cx="10" cy="10" r="5"></circle></g></g></svg></span>'),t.selected===o?(e.setAttribute("aria-checked","true"),e.classList.add("selected"),$(e).find("input")[0]?$(e).find("input").prop("checked",!0).attr("value",i):$(e).append('<input type="radio" checked="checked" name="'+r+'" value="'+i+'">'),n={index:t.selected,value:i}):$(e).find("input")[0]||$(e).append('<input type="radio" name="'+r+'" value="'+i+'">')}),o.on("tap","li",function(){var e=$(this);n={index:e.index(),value:e.find("input").val()},e.siblings("li").removeClass("selected"),e.siblings("li").removeAttr("aria-checked"),e.siblings("li").find("input").removeProp("checked"),e.addClass("selected"),e.attr("aria-checked",!0),e.find("input").prop("checked",!0),t.callback.apply(this,arguments)}),{getSelection:function(){return n}}}}}),$.extend({Sheet:function(e){if(e){var t={id:$.uuid(),background:"",handle:!0,slideFrom:!1};$.extend(t,e),t.background&&(t.background=' style="background-color:'+t.background+'" '),"top"===t.slideFrom?t.slideDown=' class="slideDown" ':t.slideFrom="",t.handle===!1?t.handle="":t.handle='<chui-sheet-handle><svg width="100%" height="100%" viewBox="0 0 76 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:butt;stroke-linejoin:butt;stroke-miterlimit:1.41421;"><g id="sheet-handle" transform="matrix(1,0,0,1,-29.7966,-15.7797)"><path id="sheet-handle-path" d="M36.25,26.242L67.645,34.215L98.176,25.789" style="fill:none;"/></g></svg></chui-sheet-handle>';var n='<sheet id="'+t.id+'"'+t.slideDown+t.background+">"+t.handle+"<section></section></sheet>";$("body").append(n),$("#"+t.id).find("chui-sheet-handle").on($.eventStart,function(){$.HideSheet("#"+t.id)})}},ShowSheet:function(e){var t=e?e:".sheet";$("screen.current").addClass("blurred"),$.isAndroid||$.isChrome?($(t).css("display","block"),setTimeout(function(){$(t).addClass("opened")},20)):$(t).addClass("opened")},HideSheet:function(e){$(e).removeClass("opened"),$("screen.current").addClass("removeBlurSlow"),setTimeout(function(){$("screen").removeClass("blurred"),$("screen").removeClass("removeBlurSlow")},500)}}),$.extend({SlideOut:function(){var e=$.uuid(),t=$.uuid(),n=$('<button id="'+t+'" class="slide-out-button"></button>'),r='<slideout id="'+e+'"><section></section></slideout>';$("body").prepend(r),$("body").append(n);var o=$("#"+e),i=$("#"+t);return o.attr("aria-hidden",!0),$("screens").attr("aria-hidden",!0),$("screens").eq(0).addClass("show").attr("aria-hidden","false"),i.on("tap",function(){$(this).toggleClass("focused"),o.hasClass("open")?(o.removeClass("open"),o.removeAttr("aria-hidden"),$("button.back").removeClass("disabled").removeProp("disabled"),$("button.backTo").removeClass("disabled").removeProp("disabled")):(o.addClass("open"),o.attr("aria-hidden",!0),$("button.back").addClass("disabled").prop("disabled",!0),$("button.backTo").addClass("disabled").prop("disabled",!0))}),$("#"+e).on("tap","li",function(){var e=o.find("li[data-show]");o.attr("aria-hidden","true"),i.toggleClass("focused"),$("button.back").removeClass("disabled").removeProp("disabled"),$("button.backTo").removeClass("disabled").removeProp("disabled"),e.hazClass("selected").removeClass("selected"),$.screens.hazClass("show").removeClass("show").attr("aria-hidden",!0);var t="#"+$(this).attr("data-show").split(":")[0];setTimeout(function(){$(t)[0].classList.remove("next")},200),$(t)[0].classList.add("show"),$(t).attr("aria-hidden",!1),$("screen.current").addClass("next").removeClass("current"),$("screen.previous").addClass("next").removeClass("previous"),$.Router.dispatch($(this).attr("data-show")),$.ChuiRoutes.length>1&&$.ChuiRoutes.pop(),o.removeClass("open")}),{populate:function(t){var n=$("#"+e);n[0]&&t&&!function(){n.find("section").append('<ul class="list"></ul>');var e=n.find("ul");t.forEach(function(t){for(var n in t)"header"===n?e.append('<li class="menu-header"><h2>'+t[n]+"</h2></li>"):e.append('<li data-show="'+n+'"><h3>'+t[n]+"</h3></li>")}),n.find("li").eq(0).addClass("selected")}()}}}}),$.extend({Stepper:function(e){if(e&&e.element&&e.min&&e.max){var t=$(e.element),n=e.min,r=e.max,o=e.defaultValue?e.defaultValue:e.min,i='<button class="decrease"><span>-</span></button>',a="<label>"+o+'</label><input type="text" value="'+o+'">',s='<button class="increase"><span>+</span></button>';t.append(i+a+s),t.data("data-value",{min:n,max:r,defaultValue:o});var c=function(){var e=t.find("input").val(),n=t.data("data-value"),r=n.max,o=void 0;o=parseInt(e,10)+1,t.find("button:first-of-type").removeAttr("disabled"),t.find("label").text(o),t.find("input")[0].value=o,o===r&&$(this).attr("disabled","disabled")},l=function(){var e=t.find("input").val(),r=(t.data("data-value"),void 0);r=parseInt(e,10)-1,t.find("button:last-of-type").removeAttr("disabled"),t.find("label").text(r),t.find("input")[0].value=r,r===n&&$(this).attr("disabled","disabled")};return t.find("button:last-of-type").on($.eventStart,function(){c.call(this,t)}),t.find("button:first-of-type").on($.eventStart,function(){l.call(this,t)}),{getValue:function(){return t.find("input").val()}}}}}),$.extend({Switch:function(e){if(e&&e.element){var t=!1,n={element:void 0,name:void 0,value:void 0,checked:!1,onCallback:$.noop,offCallback:$.noop};$.extend(n,e);var r={checked:t,value:n.value},o=$(n.element);t=n.checked;var i="swiperight",a="swipeleft";"rtl"===document.documentElement.dir&&(i="swipeleft",a="swiperight");var s=n.checked?" checked":"",c='<em></em><input type="checkbox" name="'+n.name+'" '+s+' value="'+n.value+'">';return o.append(c),t&&(o.addClass("checked"),o.attr("role","checkbox")),o.on("tap",function(){var e=this.querySelector("input");this.classList.contains("checked")?(this.classList.remove("checked"),this.setAttribute("aria-checked",!1),e.removeAttribute("checked"),r.checked=!1,t=!1,n.offCallback.call(this)):(this.classList.add("checked"),e.setAttribute("checked","checked"),this.setAttribute("aria-checked",!0),r.checked=!0,t=!0,n.onCallback.call(this))}),o.on(i,function(){var e=this.querySelector("input");this.classList.contains("checked")&&(this.classList.remove("checked"),this.setAttribute("aria-checked",!1),e.removeAttribute("checked"),r.checked=!0,t=!0,n.offCallback.call(this))}),o.on(a,function(){var e=this.querySelector("input");this.classList.contains("checked")||(this.classList.add("checked"),e.setAttribute("checked","checked"),this.setAttribute("aria-checked",!0),r.checked=!1,t=!1,n.onCallback.call(this))}),{getValue:function(){return r}}}}}),$.extend({TabBar:function(e){function t(e){var t=$(e).width(),n=$(e).offset().left;b.css({width:t+"px",left:n+"px"})}if(e){var n=$.uuid(),r={selected:0};$.extend(r,e),r.icons.length||(r.icons=r.labels),r.id?n=r.id:r.id=n;var o=$(),i=$(),a="#";r.screens?r.screens.forEach(function(e){/screenPrefix/gim.test(e)?(o.concat($(e)[0]),$(e).addClass("tabScreen")):(o.push($(a+e)[0]),$(a+e).addClass("tabScreen"))}):r.labels.forEach(function(e,t){o.push(i.eq(t))});var s=void 0,c="";"android"===$.theme&&(c='<span class="androidSelectionBorder"></span>');var l=r.showIcons?' class="showIcons" ':"",d=function(e){$(e).removeClass("previous").removeClass("next").addClass("current"),$(e).attr("aria-hidden","false")},u=function(e){$(e).removeClass("current").addClass("next"),$(e).attr("aria-hidden","true")},h=function(e,t,n){var o='<button role="tab" class="'+t;return r.selected===n&&(o+=" selected"),o+='"',r.screens&&r.screens.length&&(o+=' data-id="'+r.screens[n]+'"'),o+='><span class="icon"></span><label>'+r.labels[n]+"</label></button>"},f=$('<tabbar role="tabpanel"'+l+">"+c+"</tabbar>");f[0].id=r.id,f.addClass("tabbar"),u($("screen")),s=$("screen").eq(r.selected),d(s),r.labels.length&&r.labels.forEach(function(e,t){f.append(h(e,r.icons[t],t))}),$("body").prepend(f);var p=$("#"+r.id),v=p.find("button.selected"),g=p.find("button"),m=g.eq(r.selected),y=o.eq(r.selected),b=p.find(".androidSelectionBorder");return"android"===$.theme&&t(v),$(function(){$.ChuiRoutes=[],$.ChuiRoutes.push(o.eq(r.selected)[0].id);var e=p.find("button");$.Router.dispatch(y[0].id),e.forEach(function(e,t){$(e).data("chui-route",o.eq(t)[0].id)}),p.on("tap","button",function(){var e=$(this),n=e.data("chui-route").split("/"),r=$.ChuiRoutes.join("/"),o=e.data("chui-route");o.split("/");if(n.length>1){g.hazClass("selected").data("chui-route",r),g.hazClass("selected").removeClass("selected").addClass("next"),o=$(this).data("chui-route"),e.addClass("selected"),$("screens").removeClass("current").addClass("next").attr("aria-hidden",!0),$("screens").removeClass("previous").addClass("next").attr("aria-hidden",!0);var i=o.split("/");i.forEach(function(e,t){var r=e.split(":"),o=r[0];t!==n.length-1?$("#"+o).removeClass("next").addClass("previous").attr("aria-hidden",!0):$("#"+o).removeClass("next").addClass("current").attr("aria-hidden",!1)}),$.ChuiRoutes=n,$.Router.dispatch(n[n.length-1]),"android"===$.theme&&t(e)}else{$("screen").eq(e.index());g.hazClass("selected").data("chui-route",r),g.hazClass("selected").removeClass("selected").addClass("next"),$("screen").removeClass("current").addClass("next").attr("aria-hidden",!0),$("screen").removeClass("previous").addClass("next").attr("aria-hidden",!0),e.addClass("selected"),"android"===$.theme&&t(e),n.forEach(function(e,t){var r=e.split(":"),o=r[0];t!==n.length-1?$("#"+o).removeClass("next").addClass("previous").attr("aria-hidden",!0):$("#"+o).removeClass("next").addClass("current").attr("aria-hidden",!1)}),$.ChuiRoutes=n,$.Router.dispatch(r)}})}),{getSelectedTab:function(){return m},getSelectedScreen:function(){return y},setSelectedTab:function(e){p.find("button").iz(".selected").removeClass("selected").addClass("next"),p.children("button").eq(e).addClass("selected"),u(o.iz(".current")[0]),d(o.eq(e)[0])}}}}}),$(function(){"android"===$.theme&&$("body").on($.eventStart,"button, ul.editing > li, li[data-show], li[data-select], li[data-goto], chui-sheet-handle, switch, .popover li",function(e){var t=this;if(!t.hasAttribute("disabled")&&!t.classList.contains("disabled")){var n=$(t).offset(),r=Math.min(this.offsetWidth,160),o=Math.min(this.offsetHeight,160),i=Math.max(r,o);r=i,o=i;var a=e.pageX-n.left,s=e.pageY-n.top,c=void 0,l=void 0,d=$("<ripple-sheath></ripple-sheath>");if($(t).append(d),"BUTTON"===t.nodeName&&t.classList.contains("slide-out-button")){var u=$("nav").eq(0).css("background-color");l=new $.ChuiColor(u).toHex()}else"BUTTON"===t.nodeName&&$(t).closest("nav")[0]?(c=$(t).closest("nav").css("background-color"),l=new $.ChuiColor(c).toHex()):(l=$(this).css("background-color"),l&&"rgba(0, 0, 0, 0)"!==l||(l="#fff"));var h="#fff",f=$.calculateBrightness(l);h=f>195?"#aaa":"#fff",t.dataset.rippleColor&&(h=t.dataset.rippleColor);var p=$("<ripple-wave></ripple-wave>");p.css({"background-color":h,width:o+"px",height:o+"px",left:a-o/2+"px",top:s-o/2+"px"}),d.append(p),setTimeout(function(){d.remove()},1e3)}})}),$.extend({Box:function(e){function t(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function n(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(d(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function r(e){for(var t in i)if(i.hasOwnProperty(t)&&i[t]===e)return!0;return!1}(function(){function t(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;t>o;o++)r[o]=e.charCodeAt(o);return n}function n(e){return new Promise(function(t){var n=createBlob([""]);e.objectStore(k).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})["catch"](function(){return!1})}function r(e){return"boolean"==typeof E?Promise.resolve(E):n(e).then(function(e){return E=e})}function o(e){var t=S[e.name],n={};n.promise=new Promise(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function i(e){var t=S[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function a(e,t){return new Promise(function(n,r){if(e.db){if(!t)return n(e.db);o(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var s=idb.open.apply(idb,a);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(k)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(){r(s.error)},s.onsuccess=function(){n(s.result),i(e)}})}function s(e){return a(e,!1)}function c(e){return a(e,!0)}function l(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function d(e){return new Promise(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function u(e){var n=t(atob(e.data));return createBlob([n],{type:e.type})}function h(e){return e&&e.__local_forage_encoded_blob}function f(e){var t=this,n=t._initReady().then(function(){var e=S[t._dbInfo.name];return e&&e.dbReady?e.dbReady:void 0});return executeTwoCallbacks(n,e,e),n}function p(e){function t(){return Promise.resolve()}var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];S||(S={});var i=S[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},S[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=f);for(var a=[],d=0;d<i.forages.length;d++){var u=i.forages[d];u!==n&&a.push(u._initReady()["catch"](t))}var h=i.forages.slice(0);return Promise.all(a).then(function(){return r.db=i.db,s(r)}).then(function(e){return r.db=e,l(r,n._defaultConfig.version)?c(r):e}).then(function(e){r.db=i.db=e,n._dbInfo=r;for(var t=0;t<h.length;t++){var o=h[t];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function v(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new Promise(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),h(e)&&(e=u(e)),t(e)},a.onerror=function(){r(a.error)}})["catch"](r)});return executeCallback(r,t),r}function g(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;h(r)&&(r=u(r));var o=e(r,n.key,s++);
void 0!==o?t(o):n["continue"]()}else t()},a.onerror=function(){r(a.error)}})["catch"](r)});return executeCallback(r,t),r}function m(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new Promise(function(n,i){var a=void 0;o.ready().then(function(){return a=o._dbInfo,"[object Blob]"===P.call(t)?r(a.db).then(function(e){return e?t:d(t)}):t}).then(function(t){var r=a.db.transaction(a.storeName,"readwrite"),o=r.objectStore(a.storeName);null===t&&(t=void 0),r.oncomplete=function(){void 0===t&&(t=null),n(t)},r.onabort=r.onerror=function(){var e=s.error?s.error:s.transaction.error;i(e)};var s=o.put(t,e)})["catch"](i)});return executeCallback(i,n),i}function y(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new Promise(function(t,r){n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),s=a["delete"](e);i.oncomplete=function(){t()},i.onerror=function(){r(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}})["catch"](r)});return executeCallback(r,t),r}function b(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),i=o.objectStore(r.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}})["catch"](n)});return executeCallback(n,e),n}function w(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}})["catch"](n)});return executeCallback(n,e),n}function C(e,t){var n=this,r=new Promise(function(t,r){return 0>e?void t(null):void n.ready().then(function(){var o=n._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,s=i.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))):void t(null)},s.onerror=function(){r(s.error)}})["catch"](r)});return executeCallback(r,t),r}function $(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var t=i.result;return t?(a.push(t.key),void t["continue"]()):void e(a)},i.onerror=function(){n(i.error)}})["catch"](n)});return executeCallback(n,e),n}var x=x||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;if(x){var k="local-forage-detect-blob-support",E=void 0,S=void 0,P=Object.prototype.toString,N={_driver:"asyncStorage",_initStorage:p,each:g,get:v,set:m,remove:y,clear:b,length:w,key:C,keys:$};this.asyncStorage=N,e.asyncStorage=N}}).call(window),function(){function e(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new Promise(function(r,o){try{n.db=u(n.name,String(n.version),n.description,n.size)}catch(i){return t.setDriver(t.LOCALSTORAGE).then(function(){return t.__initStorage(e)}).then(r)["catch"](o)}n.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.boxName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t.__dbInfo=n,r()},function(e,t){o(t)})})});return new Promise(function(e,t){e(chuiBoxSerializer)}).then(function(e){return n.serializer=e,o})}function t(e,t){var n=this;"string"!=typeof e&&(d.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new Promise(function(t,r){n.ready().then(function(){var o=n.__dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.boxName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})})["catch"](r)});return l(r,t),r}function n(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var o=n.__dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.boxName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;a>s;s++){var c=i.item(s),l=c.value;if(l&&(l=o.serializer.deserialize(l)),l=e(l,c.key,s+1),void 0!==l)return void t(l)}t()},function(e,t){r(t)})})})["catch"](r)});return l(r,t),r}function r(e,t,n){var r=this;"string"!=typeof e&&(d.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new Promise(function(n,o){r.ready().then(function(){void 0===t&&(t=null);var i=t,a=r.__dbInfo;a.serializer.serialize(t,function(t,r){r?o(r):a.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+a.boxName+" (key, value) VALUES (?, ?)",[e,t],function(){n(i)},function(e,t){o(t)})},function(e){e.code===e.QUOTA_ERR&&o(e)})})})["catch"](o)});return l(o,n),o}function o(e,t){var n=this;"string"!=typeof e&&(d.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new Promise(function(t,r){n.ready().then(function(){var o=n.__dbInfo;o.db.transaction(function(n){n.executeSql("DELETE FROM "+o.boxName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})})["catch"](r)});return l(r,t),r}function i(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t.__dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.boxName,[],function(){e()},function(e,t){n(t)})})})["catch"](n)});return l(n,e),n}function a(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t.__dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.boxName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})})["catch"](n)});return l(n,e),n}function s(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var o=n.__dbInfo;o.db.transaction(function(n){n.executeSql("SELECT key FROM "+o.boxName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})})["catch"](r)});return l(r,t),r}function c(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var r=t.__dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.boxName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})})["catch"](n)});return l(n,e),n}function l(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var d=this,u=this.openDatabase;if(u){var h={__driver:"webSQLStorage",__initStorage:e,each:n,get:t,set:r,remove:o,clear:i,size:a,key:s,keys:c};this.webSQLStorage=h,d.webSQLStorage=h}}.call(window),function(){function e(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=n.name+"/",n.boxName!==t.__defaultConfig.boxName&&(n.keyPrefix+=n.boxName+"/"),t.__dbInfo=n,new Promise(function(e,t){e(chuiBoxSerializer)}).then(function(e){return n.serializer=e,Promise.resolve()})}function t(e){var t=this,n=t.ready().then(function(){for(var e=t.__dbInfo.keyPrefix,n=u.length-1;n>=0;n--){var r=u.key(n);0===r.indexOf(e)&&u.remove(r)}});return l(n,e),n}function n(e,t){var n=this;"string"!=typeof e&&(d.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n.__dbInfo,r=u.get(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return l(r,t),r}function r(e,t){var n=this,r=n.ready().then(function(){for(var t=n.__dbInfo,r=t.keyPrefix,o=r.length,i=u.length,a=1,s=0;i>s;s++){var c=u.key(s);if(0===c.indexOf(r)){var l=u.get(c);if(l&&(l=t.serializer.deserialize(l)),l=e(l,c.substring(o),a++),void 0!==l)return l}}});return l(r,t),r}function o(e,t){var n=this,r=n.ready().then(function(){var t=n.__dbInfo,r=void 0;try{r=u.key(e)}catch(o){r=null}return r&&(r=r.substring(t.keyPrefix.length)),r});return l(r,t),r}function i(e){var t=this,n=t.ready().then(function(){for(var e=t.__dbInfo,n=u.length,r=[],o=0;n>o;o++)0===u.key(o).indexOf(e.keyPrefix)&&r.push(u.key(o).substring(e.keyPrefix.length));return r});return l(n,e),n}function a(e){var t=this,n=t.keys().then(function(e){return e.length});return l(n,e),n}function s(e,t){var n=this;"string"!=typeof e&&(d.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n.__dbInfo;u.remove(t.keyPrefix+e)});return l(r,t),r}function c(e,t,n){var r=this;"string"!=typeof e&&(d.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new Promise(function(o,i){var a=r.__dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{u.set(a.keyPrefix+e,t),o(n)}catch(s){("QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name)&&i(s),i(s)}})})});return l(o,n),o}function l(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var d=this,u=null;try{if(!(this.localStorage&&"set"in this.localStorage))return;u=this.localStorage}catch(h){return}var f={__driver:"localStorageWrapper",__initStorage:e,each:r,get:n,set:c,remove:s,clear:t,size:a,key:o,keys:i};this.localStorageWrapper=f,window.localStorageWrapper=f}.call(window),function(){function e(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r=$.BlobBuilder||$.MSBlobBuilder||$.MozBlobBuilder||$.WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}function t(e,t){var n="";if(e&&(n=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r=void 0,i=c;e instanceof ArrayBuffer?(r=e,i+=d):(r=e.buffer,"[object Int8Array]"===n?i+=h:"[object Uint8Array]"===n?i+=f:"[object Uint8ClampedArray]"===n?i+=p:"[object Int16Array]"===n?i+=v:"[object Uint16Array]"===n?i+=m:"[object Int32Array]"===n?i+=g:"[object Uint32Array]"===n?i+=y:"[object Float32Array]"===n?i+=b:"[object Float64Array]"===n?i+=w:t(new Error("Failed to get type for BinaryArray"))),t(i+o(r))}else if("[object Blob]"===n){var s=new FileReader;s.onload=function(){var n=a+e.type+"~"+o(this.result);t(c+u+n)},s.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(l){console.error("Couldn't convert value into a JSON string: ",e),t(null,l)}}function n(t){if(t.substring(0,l)!==c)return JSON.parse(t);var n=t.substring(C),o=t.substring(l,C),i=void 0;if(o===u&&s.test(n)){var a=n.match(s);i=a[1],n=n.substring(a[0].length)}var $=r(n);switch(o){case d:return $;case u:return e([$],{type:i});case h:return new Int8Array($);case f:return new Uint8Array($);case p:return new Uint8ClampedArray($);case v:return new Int16Array($);case m:return new Uint16Array($);case g:return new Int32Array($);case y:return new Uint32Array($);case b:return new Float32Array($);case w:return new Float64Array($);default:throw new Error("Unkown type: "+o)}}function r(e){var t=.75*e.length,n=e.length,r=void 0,o=0,a=void 0,s=void 0,c=void 0,l=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var d=new ArrayBuffer(t),u=new Uint8Array(d);for(r=0;n>r;r+=4)a=i.indexOf(e[r]),s=i.indexOf(e[r+1]),c=i.indexOf(e[r+2]),l=i.indexOf(e[r+3]),u[o++]=a<<2|s>>4,u[o++]=(15&s)<<4|c>>2,u[o++]=(3&c)<<6|63&l;return d}function o(e){var t=new Uint8Array(e),n="",r=void 0;for(r=0;r<t.length;r+=3)n+=i[t[r]>>2],n+=i[(3&t[r])<<4|t[r+1]>>4],n+=i[(15&t[r+1])<<2|t[r+2]>>6],n+=i[63&t[r+2]];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="~~chui_box_type~",s=/^~~chui_box_type~([^~]+)~/,c="__lfsc__:",l=c.length,d="arbf",u="blob",h="si08",f="ui08",p="uic8",v="si16",g="si32",m="ur16",y="ui32",b="fl32",w="fl64",C=l+d.length,$=this,x={serialize:t,deserialize:n,stringToBuffer:r,bufferToString:o};this.chuiBoxSerializer=x,window.chuiBoxSerializer=x}.call(window);var o={},i={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},a=[i.INDEXEDDB,i.WEBSQL,i.LOCALSTORAGE],s=["clear","get","each","key","keys","size","remove","set"],c={description:"",driver:a.slice(),name:"chuibox",size:4980736,boxName:"keyvaluepairs",version:1},l=function(e){var t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB,n={};return n[i.WEBSQL]=!!e.openDatabase,n[i.INDEXEDDB]=!!function(){if("undefined"!=typeof e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent))return!1;try{return t&&"function"==typeof t.open&&"undefined"!=typeof e.IDBKeyRange}catch(n){return!1}}(),n[i.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"set"in e.localStorage&&e.localStorage.set}catch(t){return!1}}(),n}(window),d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(){function e(e){this.INDEXEDDB=i.INDEXEDDB,this.LOCALSTORAGE=i.LOCALSTORAGE,this.WEBSQL=i.WEBSQL,this.__defaultConfig=n({},c),this.__config=n({},this.__defaultConfig,e),this.__driverSet=null,this.__initDriver=null,this.__ready=!1,this.__dbInfo=null,this.__wrapLibraryMethodsWithReady(),this.setDriver(this.__config.driver)}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){if(this.__ready)return new Error("Can't call config() after chuibox has been used.");for(var t in e)"boxName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this.__config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this.__config.driver),!0}return"string"==typeof e?this.__config[e]:this.__config},e.prototype.defineDriver=function(e,t,n){var i=new Promise(function(t,n){try{var i=function(){var i=e.__driver,a=new Error("Custom driver not compliant; see ChocolateChip-UI Box documentation"),c=new Error("Custom driver name already in use: "+e.__driver);if(!e.__driver)return n(a),{v:void 0};if(r(e.__driver))return n(c),{v:void 0};for(var d=s.concat("__initStorage"),u=0;u<d.length;u++){var h=d[u];if(!h||!e[h]||"function"!=typeof e[h])return n(a),{v:void 0}}var f=Promise.resolve(!0);"__support"in e&&(f=e.__support&&"function"==typeof e.__support?e.__support():Promise.resolve(!!e.__support)),f.then(function(n){l[i]=n,o[i]=e,t()},n)}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}catch(a){n(a)}});return i.then(t,n),i},e.prototype.driver=function(){return this.__driver||null},e.prototype.getDriver=function(e,t,n){var i=this,a=function(){if(r(e))switch(e){case i.INDEXEDDB:return new Promise(function(e,t){e(asyncStorage)});case i.LOCALSTORAGE:return new Promise(function(e,t){e(localStorageWrapper)});case i.WEBSQL:return new Promise(function(e,t){e(webSQLStorage)})}else if(o[e])return console.log("Using: "+e),Promise.resolve(o[e]);return Promise.reject(new Error("Driver not found."))}();return a.then(t,n),a},e.prototype.getSerializer=function(e){var t=new Promise(function(e,t){e(chuiBoxSerializer)});return e&&"function"==typeof e&&t.then(function(t){e(t)}),t},e.prototype.ready=function(e){var t=this,n=t.__driverSet.then(function(){return null===t.__ready&&(t.__ready=t.__initDriver()),t.__ready});return n.then(e,e),n},e.prototype.setDriver=function(e,t,n){function r(){i.__config.driver=i.driver()}function o(e){return function(){function t(){for(;n<e.length;){var o=e[n];return n++,i.__dbInfo=null,i.__ready=null,i.getDriver(o).then(function(e){return i.__extend(e),r(),i.__ready=i.__initStorage(i.__config),i.__ready})["catch"](t)}r();var a=new Error("No available storage method found.");return i.__driverSet=Promise.reject(a),i.__driverSet}var n=0;return t()}}var i=this;d(e)||(e=[e]);var a=this.__getSupportedDrivers(e),s=null!==this.__driverSet?this.__driverSet["catch"](function(){return Promise.resolve()}):Promise.resolve();return this.__driverSet=s.then(function(){var e=a[0];return i.__dbInfo=null,i.__ready=null,i.getDriver(e).then(function(e){i.__driver=e.__driver,r(),i.__wrapLibraryMethodsWithReady(),i.__initDriver=o(a)})})["catch"](function(){r();var e=new Error("No available storage method found.");return i.__driverSet=Promise.reject(e),i.__driverSet}),this.__driverSet.then(t,n),this.__driverSet},e.prototype.supports=function(e){return!!l[e]},e.prototype.__extend=function(e){n(this,e)},e.prototype.__getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype.__wrapLibraryMethodsWithReady=function(){for(var e=0;e<s.length;e++)t(this,s[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),h=new u;return h}(window)});
//# sourceMappingURL=chui-box.min.js.map
