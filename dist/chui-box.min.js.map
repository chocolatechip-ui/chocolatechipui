{"version":3,"sources":["chui-box.js"],"names":[],"mappings":"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","file":"chui-box.min.js","sourcesContent":["\n/**\n  * DOMStack, an abstraction of the native NodeList, allowing manipulation of DOM elements without having to extend native elements.\n  * @param {Element[] | Document | Element } args An array of elements, the document, or a node.\n  * @return {DOMStack} DOMStack\n  */\nclass DOMStack {\n  constructor (args) {\n    this.array = [];\n    this.length = 0;\n    this.objectType = 'domstack';\n    if (Array.isArray(args)) {\n      let i = -1;\n      const len = args.length;\n      while (++i < len) {\n        this.array[i] = args[i];\n      }\n    } else if (args) {\n      if (args === document) {\n        this.array[0] = document;\n      } else {\n        const array = Array.prototype.slice.apply(arguments);\n        array.forEach(function(ctx, idx) {\n          this.array[idx] = ctx;\n        });\n      }\n    }\n  }\n\n  eq(index) {\n    let ret = new DOMStack();\n    if (!this.array.length) return ret;\n    let temp = undefined;\n    if (index < 0) {\n      temp = this.array[this.array.length + index];\n      ret.push(temp);\n    } else {\n      temp = this.array[index];\n      ret.push(temp);\n    }\n    ret[0] = ret.array[0];\n    ret.length = ret.array.length;\n    return ret;\n  }\n\n  push(data) {\n    this.array.push(data);\n    this.length = this.array.length;\n    this[0] = this.array[0];\n  }\n\n  pop() {\n    this.length = this.array.length - 1;\n    return this.array.pop();\n  }\n\n  unshift(data) {\n    this.array.unshift(data);\n    this[0] = this.array[0];\n    this.length = this.array.length;\n  }\n\n  shift() {\n    this.length = this.array.length - 1;\n    return this.array.shift();\n  }\n\n  size() {\n    return this.array.length;\n  }\n\n  forEach(callback) {\n    let value = undefined;\n    let i = 0;\n    const len = this.array.length;\n    for (; i < len; i++) {\n      value = callback.call(this.array[i], this.array[i], i);\n      if (value === false) {\n        break;\n      }\n    }\n  }\n\n  each(callback) {\n    let value = undefined;\n    let i = 0;\n    const len = this.array.length;\n    for (; i < len; i++) {\n      value = callback.call(this.array[i], i, this.array[i]);\n      if (value === false) {\n        break;\n      }\n    }\n  }\n\n  slice(...args) {\n    let ret = new DOMStack();\n    ret.concat(this.array.slice.apply(this.array, args));\n    ret.length = ret.array.length;\n    return ret;\n  }\n\n  splice(...args) {\n    this.array.splice.apply(this.array, args);\n    this[0] = this.array[0];\n    return this;\n  }\n\n  filter(...args) {\n    let ret = new DOMStack();\n\n    ret.concat(this.array.filter.apply(this.array, args));\n    ret[0] = ret.array[0];\n    return ret;\n  }\n\n  map(...args) {\n    let ret = new DOMStack();\n    ret.concat(this.array.map.apply(this.array, args));\n    ret[0] = ret.array[0];\n    return ret;\n  }\n\n  concat(collection) {\n    let i = -1;\n    let len = undefined;\n    let temp = undefined;\n    if (Array.isArray(collection)) {\n      temp = collection;\n      len = temp.length;\n    } else if (collection && collection.objectType && collection.objectType === 'domstack') {\n      temp = collection.getData();\n      len = temp.length;\n    } else if (collection.constructor.toString().match(/HTMLBodyElementConstructor/)) {\n      temp = [collection];\n      len = 1;\n    }\n    this.array.push.apply(this.array, temp);\n    this[0] = this.array[0];\n    this.length = this.array.length;\n  }\n\n  reverse(...args) {\n    this.array.reverse.apply(this.array, args);\n    this[0] = this.array[0];\n  }\n\n  indexOf(...args) {\n    return this.array.indexOf.apply(this.array, args);\n  }\n\n  every(...args) {\n    return this.array.every.apply(this.array, args);\n  }\n\n  some(...args) {\n    return this.array.some.apply(this.array, args);\n  }\n\n  unique() {\n    const len = this.array.length;\n    let ret = [];\n    let obj = {};\n    for (let i = 0; i < len; i++) {\n      const arrayItem = JSON.stringify(this.array[i]);\n      const arrayItemValue = this.array[i];\n      if (obj[arrayItem] === undefined) {\n        ret.push(arrayItemValue);\n        obj[arrayItem] = 1;\n      } else {\n        obj[arrayItem]++;\n      }\n    }\n    this.array = ret;\n    this[0] = this.array[0];\n    this.length = this.array.length;\n  }\n\n  getData() {\n    return this.array;\n  }\n\n  purge() {\n    this.array.length = 0;\n    this.length = 0;\n  }\n}\n/**\n * ChocolateChipJS Core. This function exports the ChocolateChipJS singleton.\n */\n(function() {\n\n  /**\n   * ChocolateChipJS singleton. This function can query the DOM with the provided parameters, or execute a callback when the DOM is ready. This is also the base for ChocolateChipJS methods for DOM manipulation.\n   */\n  function chocolatechipjs(selector, context) {\n    const self = this;\n    const idRE = /^#([\\w-]*)$/;\n    const classRE = /^\\.([\\w-])$/;\n    const tagRE = /^[\\w-]+$/;\n    const readyRE = /complete|loaded|interactive/;\n    let temp = undefined;\n\n    const slice = elements => {\n      temp = new DOMStack([].slice.apply(elements));\n      temp[0] = temp.array[0];\n      return temp;\n    };\n\n    const getId = selector => {\n      const el = document.getElementById(selector.split('#')[1]);\n      if (el) {\n        temp = new DOMStack([el]);\n        temp[0] = new DOMStack([el]).array[0];\n        temp.length = 1;\n        return temp;\n      } else {\n        return new DOMStack();\n      }\n    };\n\n    const getTag = (selector, context) => {\n      if (context) {\n        temp = slice(context.getElementsByTagName(selector));\n        temp[0] = temp.array[0];\n        temp.length = temp.length;\n        return temp;\n      } else {\n        temp = slice(document.getElementsByTagName(selector));\n        temp[0] = temp.array[0];\n        temp.length = temp.array.length;\n        return temp;\n      }\n    };\n\n    const getClass = (selector, context) => {\n      if (context) {\n        temp = slice(context.getElementsByClassName(selector.split('.')[1]));\n        temp[0] = temp.array[0];\n        temp.length = temp.length;\n        return temp;\n      } else {\n        temp = slice(document.getElementsByClassName(selector.split('.')[1]));\n        temp[0] = temp.array[0];\n        temp.length = temp.array.length;\n        return temp;\n      }\n    };\n\n    const getNode = (selector, context) => {\n      if (typeof selector === 'string')\n        selector = selector.trim();\n      if (typeof selector === 'string' && idRE.test(selector)) {\n        return getId(selector);\n      }\n\n      if (selector && (selector instanceof Array) && selector.length)\n        return selector;\n      if (!context && typeof selector === 'string') {\n        if (/<\\/?[^>]+>/.test(selector)) {\n          return self.html(selector);\n        }\n\n        if (tagRE.test(selector)) {\n          return getTag(selector);\n\n        } else if (classRE.test(selector)) {\n          return getClass(selector);\n\n        } else {\n          temp = slice(document.querySelectorAll(selector));\n          temp[0] = temp.array[0];\n          temp.length = temp.array.length;\n          return temp;\n        }\n\n      } else {\n        if (context) {\n          temp = slice($(context).find(selector));\n          temp[0] = temp.array[0];\n          temp.length = temp.array / length;\n          return temp;\n\n        } else {\n          temp = slice(document.querySelectorAll(selector));\n          temp[0] = temp.array[0];\n          temp.length = temp.array.length;\n          return temp;\n        }\n      }\n    };\n\n    if (selector && selector.objectType && selector.objectType === 'domstack') {\n      return selector;\n    }\n\n    if (selector === document) {\n      return new DOMStack(document);\n    }\n\n    if (selector === null) {\n      return new DOMStack();\n    }\n\n    if (!!context) {\n      if (typeof context === 'string') {\n        temp = slice(document.querySelectorAll(context + ' ' + selector));\n        temp[0] = temp.array[0];\n        temp.length = temp.array.length;\n        return temp;\n      } else if (context.nodeType === 1) {\n        return getNode(selector, context);\n      }\n\n    } else if (typeof selector === 'function') {\n      if (readyRE.test(document.readyState) && document.body) {\n        selector.call(selector);\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", function() {\n          return selector.call(selector);\n        });\n      }\n\n    } else if (selector && selector.nodeType === 1) {\n      temp = new DOMStack();\n      temp[0] = selector;\n      temp.length = temp.array.length;\n      temp.push(selector);\n      return temp;\n\n    } else if (typeof selector === 'string') {\n      if (selector === '') return new DOMStack();\n      if (/<\\/?[^>]+>/.test(selector)) {\n        return chocolatechipjs.html(selector);\n      } else {\n        try {\n          return getNode(selector) ? getNode(selector) : new DOMStack();\n        } catch (err) {\n          return new DOMStack();\n        }\n      }\n\n    } else if (Array.isArray(selector)) {\n      return new DOMStack(selector);\n      \n    } else if (selector === window) {\n      temp = new DOMStack();\n      temp[0] = window;\n      temp.length = temp.array.length;\n      return temp;\n\n    } else {\n      return new DOMStack();\n    }\n\n    return new DOMStack();\n  }\n  \n  if (window.DefaultLanguageForErrors) {\n    chocolatechipjs.languageForErrors = window.DefaultLanguageForErrors\n  } else {\n    chocolatechipjs.languageForErrors = 'en'\n  }\n\n  let $ = chocolatechipjs;\n\n  /**\n   * ChocolateChip-UI extend method.\n   */\n\n  /**\n   * Polyfill for Object.keys.\n   * Needed for Android older than 4.4.\n   */\n  if (!Object.keys) {\n    Object.keys = (function() {\n      'use strict';\n      const hasOwnProperty = Object.prototype.hasOwnProperty,\n          hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString'),\n          dontEnums = [\n            'toString',\n            'toLocaleString',\n            'valueOf',\n            'hasOwnProperty',\n            'isPrototypeOf',\n            'propertyIsEnumerable',\n            'constructor'\n          ],\n          dontEnumsLength = dontEnums.length;\n\n      return function(obj) {\n        if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n          throw new TypeError('Object.keys called on non-object');\n        }\n\n        let result = [];\n        let prop = undefined;\n        let i = undefined;\n\n        for (prop in obj) {\n          if (hasOwnProperty.call(obj, prop)) {\n            result.push(prop);\n          }\n        }\n\n        if (hasDontEnumBug) {\n          for (i = 0; i < dontEnumsLength; i++) {\n            if (hasOwnProperty.call(obj, dontEnums[i])) {\n              result.push(dontEnums[i]);\n            }\n          }\n        }\n        return result;\n      };\n    }());\n  }\n\n  $.extend = (obj, prop) => {\n    if (!prop) {\n      prop = obj;\n      obj = chocolatechipjs;\n    }\n    Object.keys(prop).forEach(p => {\n      if (prop.hasOwnProperty(p)) {\n        Object.defineProperty(obj, p, {\n          value: prop[p],\n          writable: true,\n          enumerable: false,\n          configurable: true\n        });\n      }\n    });\n  }\n\n\n  /**\n   * ChocolateChip-UI collection extend method.\n   */\n  $.fn = {\n    extend: object => $.extend(DOMStack.prototype, object)\n  };\n\n  /**\n   * ChocolateChip-UI utility methods.\n   */\n  $.extend({\n    lib: \"ChocolateChipJS\",\n\n    version: 'VERSION_NUMBER',\n\n    noop: () => {},\n\n    uuid: () => {\n      let d = Date.now();\n      d += performance.now();\n      const charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n      const randomLetter = charset[Math.floor(Math.random() * charset.length)];\n      return randomLetter + 'xxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        let r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n      });\n    },\n\n    html: HTMLString => {\n      let ret = new DOMStack();\n      let temp = undefined;\n\n      const wrapperMap = {\n        option: [1, \"<select multiple='multiple'>\", \"</select>\"],\n        legend: [1, \"<fieldset>\", \"</fieldset>\"],\n        area: [1, \"<map>\", \"</map>\"],\n        param: [1, \"<object>\", \"</object>\"],\n        thead: [1, \"<table>\", \"</table>\"],\n        tr: [2, \"<table><tbody>\", \"</tbody></table>\"],\n        col: [2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\"],\n        td: [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"],\n        __default: [1, \"<div>\", \"</div>\"]\n      };\n\n      wrapperMap.optgroup = wrapperMap.option;\n      wrapperMap.tbody = wrapperMap.tfoot = wrapperMap.colgroup = wrapperMap.caption = wrapperMap.thead;\n      wrapperMap.th = wrapperMap.td;\n\n      let element = document.createElement('div');\n      const match = /<\\s*\\w.*?>/g.exec(HTMLString);\n\n      if (match !== null) {\n        const tag = match[0].replace(/</g, '').replace(/>/g, '');\n        const map = wrapperMap[tag] || wrapperMap.__default;\n        HTMLString = map[1] + HTMLString + map[2];\n\n        element.innerHTML = HTMLString;\n        element = element.lastChild;\n\n        temp = Array.prototype.slice.apply(element.childNodes);\n        temp.forEach(ctx => {\n          if (ctx.nodeType === 1) {\n            ret.push(ctx);\n          } else if (ctx.nodeType === 3 && ctx.nodeValue.trim().length !== 0) {\n            ret.push(ctx);\n          }\n        });\n\n      } else {\n        element.innerHTML = HTMLString;\n        element = element.lastChild;\n        ret.push(element);\n      }\n\n      return ret;\n    },\n\n    /**\n     * Insert a script tag into the document and\n     * fire a callback when it is loaded: \n     */\n    require: (src, callback, ctx) => {\n      let onerror = \"onerror\";\n      const insertScript = function(script) {\n        let firstScript = document.getElementsByTagName(\"script\")[0];\n        firstScript.parentNode.insertBefore(script, firstScript);\n      };\n      let script = document.createElement(\"script\");\n      let done = false;\n      let err = undefined;\n      let loadScript = undefined;\n      const handleError = function() {\n        err = new Error(src || \"EMPTY\");\n        loadScript();\n      };\n      const setupLoad = function(fn) {\n        return function() {\n          /**\n           * Only call once. \n           */\n          if (done) {\n            return;\n          }\n          done = true;\n          fn();\n          if (callback) {\n            callback.call(ctx, err);\n          }\n        };\n      };\n\n      loadScript = setupLoad(function() {\n        script.onload = script[onerror] = null;\n      });\n\n      script[onerror] = handleError;\n      script.onload = loadScript;\n      script.async = true;\n      script.charset = \"utf-8\";\n      script.src = src;\n      insertScript(script);\n    },\n\n    delay: milliseconds => {\n      return new Promise(function (resolve, reject) {\n        setTimeout(resolve, milliseconds);\n      });\n    },\n\n    each: (obj, callback) => {\n      let value = undefined;\n      let key = undefined;\n      let i = 0;\n      let length = undefined;\n\n      if (Array.isArray(obj)) {\n        length = obj.length;\n        for (; i < length; i++) {\n          value = callback.call(obj[i], i, obj[i]);\n          if (value === false) {\n            break;\n          }\n        }\n        return obj;\n      } else if (obj.objectType && obj.objectType === 'domstack') {\n        obj.forEach((item, idx) => callback.call(item, idx, item));\n        return obj;\n      } else if ($.type(obj) === 'object' && Object.keys(obj).length) {\n        for (key in obj) {\n          if (callback.call(obj[key], key, obj[key]) === false) return obj;\n        }\n      }\n    },\n\n    /**\n     * Eliminate duplicates from array: \n     */\n    unique: array => {\n      if (!array || !Array.isArray(array)) return;\n      const len = array.length;\n      let obj = {};\n      let ret = [];\n      for (let i = 0; i < len; i++) {\n        const arrayItem = JSON.stringify(array[i]);\n        const arrayItemValue = array[i];\n        if (obj[arrayItem] === undefined) {\n          ret.push(arrayItemValue);\n          obj[arrayItem] = 1;\n        } else {\n          obj[arrayItem]++;\n        }\n      }\n      return ret;\n    },\n\n    /** \n     * Replace target element with new element:\n     */\n    replace: (newElement, targetElement) => {\n      if (!newElement || !targetElement) return;\n      let newEl = undefined;\n      let targEl = undefined;\n      if (typeof newElement === 'string') {\n        newEl = $(newElement)[0];\n      } else if (newElement.objectType && newElement.objectType === 'domstack') {\n        newEl = newElement[0];\n      } else if (newElement.nodeType === 1) {\n        newEl = newElement;\n      }\n      if (typeof targetElement === 'string') {\n        targEl = $(targetElement)[0];\n      } else if (targetElement.objectType && targetElement.objectType === 'domstack') {\n        targEl = targetElement[0];\n      } else if (targetElement.nodeType === 1) {\n        targEl = targetElement;\n      }\n      /**\n       * Remove target's bound events:\n       */\n      $(targEl).off();\n      targEl.parentNode.replaceChild(newEl, targEl);\n    },\n\n    /**\n     * Extra boolean types:\n     */\n    isEmptyObject: obj =>  Object.keys(obj).length === 0,\n\n    isInteger: number => (typeof number === 'number' && number % 1 === 0),\n\n    isFloat: number => (typeof number === 'number' && number % 1 !== 0),\n\n    encode: value => encodeURIComponent(value),\n\n    /**\n     * Escape HTML for view templates:\n     */\n    escapeHTML: data => {\n      const tagsToReplace = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '(': '%28',\n        ')': '%29'\n      };\n      let str = JSON.stringify(data);\n\n      const replaceTag = (tag) => tagsToReplace[tag] || tag;\n\n      const safe_tags_replace = (str) => str.replace(/[&<>]/g, replaceTag);\n\n      str = safe_tags_replace(str);\n      return JSON.parse(str);\n    },\n\n    /** \n     * Concat arrays:\n     */\n    concat: args => (args instanceof Array) ? args.join('') : [].slice.apply(arguments).join(''),\n\n    /**\n     * Mixin one object into another:\n     */\n    mixin: (sourceObj, targetObj) => {\n      for (let key in sourceObj) {\n        /* Do not replace property if it exists: */\n        if (!(key in targetObj)) {\n            targetObj[key] = sourceObj[key];\n        }\n      }\n      return targetObj;\n    },\n\n\n    compare: (value1, value2) => {\n\n      function compareNativeSubtypes(value1, value2) {\n        /**\n         * e.g. Function, RegExp, Date \n         */\n        return value1.toString() === value2.toString();\n      }\n\n      function compareArrays(value1, value2) {\n        const len = value1.length;\n        if (len != value2.length) {\n          return false;\n        }\n        let alike = true;\n        for (let i = 0; i < len; i++) {\n          if (!$.compare(value1[i], value2[i])) {\n            alike = false;\n            break;\n          }\n        }\n        return alike;\n      }\n\n      function compareObjects(value1, value2) {\n        const keys1 = Object.keys(value1).sort();\n        const keys2 = Object.keys(value2).sort();\n        const len = keys1.length;\n        if (len != keys2.length) {\n          return false;\n        }\n        for (let i = 0; i < len; i++) {\n          let key1 = keys1[i];\n          let key2 = keys2[i];\n          if (!((key1 == key2) && ($.compare(value1[key1], value2[key2])))) {\n            return false;\n          }\n        }\n        return true;\n      }\n      if (value1 === value2) {\n        return true;\n      }\n      if (typeof value1 != typeof value2) {\n        return false;\n      }\n      if (value1 !== Object(value1)) {\n        /**\n         * Non equal primitives, so stop:\n         */\n        return false;\n      }\n      if (!value1) {\n        return false;\n      }\n      if (Array.isArray(value1)) {\n        return compareArrays(value1, value2);\n      }\n      if (({}).toString.call(value1) == '[object Object]') {\n        return compareObjects(value1, value2);\n      } else {\n        return compareNativeSubtypes(value1, value2);\n      }\n    },\n\n    /** \n     * Chunk an array into pieces based on itemsPerPage.\n     * You can use this to paginate an array of data.\n     */\n    paginate: (data, itemsPerPage) => {\n      let ret = [];\n      let pages = Math.floor(data.length / itemsPerPage);\n      if (data.length % pages) pages++;\n      let temp = 0;\n      for (let i = 0; i < pages; i++) {\n        if (temp === data.length) break;\n        const thing = data.slice(temp, itemsPerPage + temp);\n        ret.push(thing);\n        temp += itemsPerPage;\n      }\n      return ret;\n    },\n\n    /**\n     * Fires an event once during provided wait period. Options are: {leading: true/false, trailing: true/false}.\n     * By default leading is true, meaning that the first event input will fire. Setting leading to false will disable this.\n     * By default trailing is true. Set this to false to disable it.\n     */\n    throttle: function(func, wait, options) {\n      var context, args, result;\n      var timeout = null;\n      var previous = 0;\n      if (!options) options = {};\n      var later = function() {\n        previous = options.leading === false ? 0 : new Date().getTime();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      };\n      return function() {\n        var now = new Date().getTime();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n          previous = now;\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n          timeout = setTimeout(later, remaining);\n        }\n        return result;\n      }\n    },\n\n    /**\n     * Fires and event once after the designated wait time, regardless of how many other events occurred.\n     * In the case of an input, this will start with the first keypress. After the last keypress and the wait time, the event will fire.\n     * You can make the event fire after the time by passing a third optional truthy argument.\n     */\n    debounce: function(func, wait, immediate) {\n      var timeout, args, context, timestamp, result;\n\n      var later = function() {\n        var last = new Date().getTime() - timestamp;\n\n        if (last < wait && last >= 0) {\n          timeout = setTimeout(later, wait - last);\n        } else {\n          timeout = null;\n          if (!immediate) {\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n          }\n        }\n      };\n\n      return function() {\n        context = this;\n        args = arguments;\n        timestamp = new Date().getTime();\n        var callNow = immediate && !timeout;\n        if (!timeout) timeout = setTimeout(later, wait);\n        if (callNow) {\n          result = func.apply(context, args);\n          context = args = null;\n        }\n\n        return result;\n      };\n    }\n  });\n\n  \n  \n  /** \n   * Pubsub methods:\n   */\n  const topics = {};\n  const hasProp = topics.hasOwnProperty;\n  $.extend({\n    /**\n     * Set up subscriber: \n     */\n    on: (topic, handler) => {\n      /**\n       * Create the topic's object: \n       */\n      if (!hasProp.call(topics, topic)) topics[topic] = [];\n\n      /**\n       * Add subscriber: \n       */\n      let index = topics[topic].push(handler) -1;\n\n      /**\n       * Return method to delete subscriber: \n       */\n      return {\n        off: () => delete topics[topic][index],\n\n        /**\n         * Return method to run this subscriber - `mySubscriber.run('foo', myDataHere)` \n         */\n        run: (data) => {\n          if (topics[topic]) topics[topic][index](data)\n        },\n\n        getTopic: () => topic\n      };\n    },\n\n    /**\n     * Send event and data to subscribers: \n     */\n    send: (topic, payload) => {\n      if (!hasProp.call(topics, topic)) return;\n\n      /**\n       * Loop through topics and execute: \n       */\n      topics[topic].forEach(item => {\n        item(payload != undefined ? payload : {});\n      });\n    },\n\n    /**\n     * Get all subscribed topics: \n     */\n    getTopics: () => topics,\n\n    /**\n     * Remove a topic and any registered subscribers: \n     */\n    removeTopic: topic => delete topics[topic],\n\n    production: false,\n\n    /**\n     * Suppress ChocolateChip-UI's error messages:\n     */\n    supressErrorMessages: false\n    \n  })\n\n  /**\n   * ChocolateChip-UI DOM methods.\n   */\n  $.fn.extend({\n    find(selector, context) {\n      let ret = new DOMStack();\n      if (!this.size())\n        return ret;\n      if (context) {\n        $(context).forEach(() => {\n          Array.prototype.slice.apply(context.querySelectorAll(selector)).forEach(node=> {\n            return ret.push(node);\n          });\n        });\n      } else {\n        this.forEach(ctx => {\n          if (ctx && ctx.children && ctx.children.length) {\n            Array.prototype.slice.apply(ctx.querySelectorAll(selector)).forEach(node => {\n              return ret.push(node);\n            });\n          }\n        });\n      }\n      return ret;\n    },\n\n    is(arg) {\n      let ret = false;\n      if (!this.size() || !arg) return;\n      if (!this.size()) return;\n      const that = this;\n      const __is = (node, arg) => {\n        if (typeof arg === 'string') {\n          let nodes = undefined;\n          if (node.parentNode) nodes = node.parentNode.querySelectorAll(arg);\n          let elements = undefined;\n          if (nodes && nodes.length) {\n            elements = Array.prototype.slice.apply(node.parentNode.querySelectorAll(arg));\n          }\n          if (elements && elements.length) {\n            if (elements.indexOf(node) >= 0) {\n              ret = true;\n            }\n          }\n        } else if (typeof arg === 'function') {\n          if (arg.call(that)) {\n            ret = true;\n          }\n        } else if (arg.objectType && arg.objectType === 'domstack') {\n          if (node === arg[0]) {\n            ret = true;\n          }\n        } else if (arg && arg.length) {\n          if (this.slice.apply(arg).indexOf(node) !== -1) {\n            ret = true;\n          }\n        } else if (arg.nodeType === 1) {\n          if (node === arg) {\n            ret = true;\n          }\n        } else {\n          return;\n        }\n        return ret;\n      };\n      this.forEach(item => {\n        if (__is(item, arg)) {\n          ret = true;\n        }\n      });\n      return ret;\n    },\n\n    not(selector) {\n      if (!this.size() || !selector) return new DOMStack();\n      let ret = new DOMStack();\n      let temp = [];\n      let elems = undefined;\n      if (typeof selector === 'string') {\n        elems = Array.prototype.slice.apply(this.array[0].parentNode.querySelectorAll(selector));\n        this.forEach(element => {\n          if (!elems[0]) {\n            ret.push(element);\n          } else {\n            elems.forEach(item => {\n              if (element !== item) {\n                ret.push(element);\n              }\n            });\n          }\n        });\n        return ret;\n      } else if (selector && selector.objectType && selector.objectType === 'domstack') {\n        this.forEach(element => {\n          selector.forEach(node => {\n            if (node !== element) {\n              temp.push(element);\n            }\n          });\n        });\n        if (temp.length) {\n          ret.concat(temp);\n        }\n        return ret;\n      } else if (selector && selector.nodeType === 1) {\n        this.forEach(element => {\n          if (element !== selector) {\n            temp.push(element);\n          }\n        });\n        if (temp.length) {\n          ret.concat(temp);\n        }\n        return ret;\n      }\n    },\n\n    has(arg) {\n      if (!this.size()) return new DOMStack();\n      let items = new DOMStack();\n\n      const __has = (node, arg) => {\n        if (typeof arg === 'string') {\n          if (node.querySelector(arg)) {\n            return true;\n          }\n        } else if (arg.nodeType === 1) {\n          if (Array.prototype.slice(this.children).data.indexOf(arg)) {\n            return true;\n          }\n        } else {\n          return false;\n        }\n      };\n\n      this.forEach(element => {\n        if (__has(element, arg)) {\n          items.push(element);\n        }\n      });\n      return items;\n    },\n\n    prev(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let children = undefined;\n      const prevElement = this[0].previousElementSibling;\n      if (selector && typeof selector === 'string') {\n        children = this.siblings(selector);\n        children.forEach(element => {\n          if (prevElement === element) ret.push(element);\n        });\n      } else {\n        ret.push(this[0].previousElementSibling);\n      }\n      return ret;\n    },\n\n    prevAll(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let __siblings = undefined;\n      const __self = this[0];\n      let __sibs = Array.prototype.slice.apply(this[0].parentNode.children);\n      let pos = __sibs.indexOf(__self);\n      __sibs.splice(pos, __sibs.length - 1);\n      if (selector && typeof selector === 'string') {\n        __siblings = this.siblings(selector).array;\n        __sibs.forEach(element => {\n          if (__siblings.indexOf(element) > -1) {\n            ret.push(element);\n          }\n        });\n      } else {\n        __siblings = Array.prototype.slice.apply(this[0].parentNode.children);\n        pos = __siblings.indexOf(__self);\n        __siblings.splice(pos, __siblings.length - 1);\n        ret.concat(__siblings);\n      }\n      return ret;\n    },\n\n    next(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let children = undefined;\n      let nextElement = this[0].nextElementSibling;\n      if (selector && typeof selector === 'string') {\n        children = this.siblings(selector);\n        children.forEach(element => {\n          if (nextElement === element) ret.push(element);\n        });\n      } else {\n        ret.push(this[0].nextElementSibling);\n      }\n      return ret;\n    },\n\n    nextAll(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let __siblings = undefined;\n      let __parent = undefined;\n      const __self = this[0];\n      let __sibs = Array.prototype.slice.apply(this[0].parentNode.children);\n      let pos = __sibs.indexOf(__self);\n      __sibs.splice(0, pos + 1);\n      if (selector && typeof selector === 'string') {\n        __parent = this.array[0].parentNode;\n        __siblings = $(__parent).find(selector);\n        __sibs.splice(0, __sibs.indexOf(this.array[0]));\n        __sibs.forEach(element => {\n          if (__siblings.array.indexOf(element) > -1) {\n            ret.push(element);\n          }\n        });\n      } else {\n        __siblings = Array.prototype.slice.apply(this[0].parentNode.children);\n        pos = __siblings.indexOf(__self);\n        __siblings.splice(0, pos + 1);\n        ret.concat(__siblings);\n      }\n      return ret;\n    },\n\n    first() {\n      if (!this.size()) return new DOMStack();\n      return this.eq(0);\n\n    },\n\n    last() {\n      if (!this.size()) return new DOMStack();\n      return this.eq(-1);\n    },\n\n    index(element) {\n      if (!this.size()) return undefined;\n      if (!element) {\n        return Array.prototype.slice.apply(this[0].parentNode.children).indexOf(this[0]);\n      } else {\n        if (element && element.objectType && element.objectType === 'domstack') {\n          return this.indexOf(element.getData()[0]);\n        } else if (element.nodeType === 1) {\n          return this.indexOf(element);\n        } else {\n          return this.indexOf(element);\n        }\n      }\n    },\n\n    children(selector) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      if (!selector) {\n        this.forEach(node => {\n          Array.prototype.slice.apply(node.children).forEach(ctx => ret.push(ctx));\n        });\n        ret[0] = ret.array[0];\n      } else {\n        this.forEach(node => {\n          Array.prototype.slice.apply(node.children).forEach(ctx => {\n            if ($(ctx).is(selector)) {\n              ret.push(ctx);\n            }\n          });\n        });\n        ret[0] = ret.array[0];\n      }\n      return ret;\n    },\n\n    siblings(selector) {\n      if (!this.size())\n        return new DOMStack();\n      let __siblings = undefined;\n      let ret = new DOMStack();\n      const $this = this;\n      let parent = undefined;\n      let children = Array.prototype.slice.apply(this.array[0].parentNode.children);\n\n      /**\n       * Remove this from siblings:\n       */\n      const pos = children.indexOf($this[0]);\n      children.splice(pos, 1);\n\n      children.splice(children.indexOf(this.array[0]), 0);\n      if (selector && typeof selector === 'string') {\n        parent = this.array[0].parentNode;\n        __siblings = $(parent).find(selector);\n        __siblings.array.splice(__siblings.array.indexOf(this.array[0]), 0);\n        ret.concat(__siblings.array);\n      } else {\n        ret.concat(children);\n      }\n      return ret;\n    },\n\n    parent() {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(ctx => {\n        return ret.push(ctx.parentNode);\n      });\n      ret.unique();\n      return ret;\n    },\n\n    closest(selector) {\n      if (!this.size())\n        return new DOMStack();\n      let ret = new DOMStack();\n      if (typeof selector === 'undefined') {\n        return new DOMStack();\n      }\n      let position = null;\n      let p = undefined;\n      if (this[0]) {\n        p = this[0].parentNode;\n      }\n      if (!p) {\n        return new DOMStack();\n      }\n      if (typeof selector === 'string') {\n        selector.trim();\n      }\n      if (typeof selector === 'number') {\n        position = selector || 1;\n        for (let i = 1; i < position; i++) {\n          if (p && p.nodeName === 'HTML') {\n            return p;\n          } else {\n            if (p !== null) {\n              p = p.parentNode;\n            }\n          }\n        }\n        ret.push(p);\n      } else if (typeof selector === 'string') {\n        if (p && $(p).is(selector)) {\n          ret.push(p);\n        } else {\n          ret.push($(p).closest(selector).array[0]);\n        }\n      }\n      return ret;\n    },\n\n    css(property, value) {\n      if (!this.size()) return new DOMStack();\n      const pixelRE = /top|bottom|left|right|margin|padding/img;\n      let postFix = '';\n      let ret = new DOMStack();\n      const testForPixelSupport = (value, property) => {\n        if ($.type(value) === 'number' && property.match(pixelRE)) {\n          postFix = 'px';\n        }\n      };\n      if (!property) return new DOMStack();\n      if (!value && $.type(property) === 'object') {\n        this.forEach(node => {\n          for (let key in property) {\n            if (property.hasOwnProperty(key)) {\n              testForPixelSupport(property[key], key);\n              node.style[$.camelize(key)] = property[key] + postFix;\n            }\n          }\n          ret.push(node);\n        });\n      } else if (!value && typeof property === 'string') {\n        if (!this.size())\n          return;\n        return document.defaultView.getComputedStyle(this.eq(0).array[0], null).getPropertyValue(property.toLowerCase());\n      } else if (!!value) {\n        this.forEach(node => {\n          testForPixelSupport(value, property);\n          node.style[$.camelize(property)] = value + postFix;\n          ret.push(node);\n        });\n      }\n      return ret;\n    },\n\n    width(amount) {\n      if (!this.size()) return;\n      if (amount) {\n        if(/px]+|[pt]+|[em]+|[en]+|[%]+|[ex]+|[in]+|[cm]+|[mm]+|[ch]+|[in]+|[rem]+|[vw]+|[vh]+$/.test(amount)) {\n          this.forEach(function(element) {\n            element.style.width = amount;\n          });\n        } else {\n          this.forEach(function(element) {\n            element.style.width = amount + 'px';\n          });\n        }\n      } else {\n        return this.eq(0).array[0].clientWidth;\n      }\n    },\n\n    height(amount) {\n      if (!this.size()) return;\n      if (amount) {\n        if(/px]+|[pt]+|[em]+|[en]+|[%]+|[ex]+|[in]+|[cm]+|[mm]+|[ch]+|[in]+|[rem]+|[vw]+|[vh]+$/.test(amount)) {\n          this.forEach(function(element) {\n            element.style.height = amount;\n          });\n        } else {\n          this.forEach(function(element) {\n            element.style.height = amount + 'px';\n          });\n        }\n      } else {\n        return this.eq(0).array[0].clientHeight;\n      }\n    },\n\n    before(content) {\n      if (!this.size()) {\n        return new DOMStack();\n      }\n      const __before = (node, content) => {\n        if (typeof content === 'string' || typeof content === 'number') {\n          content = $.html(content);\n        }\n        if (content && content.objectType && content.objectType === 'domstack') {\n          const len = content.size();\n          let i = 0;\n          while (i < len) {\n            node.parentNode.insertBefore(content.array[i], node);\n            i++;\n          }\n        } else if (content && content.nodeType === 1) {\n          node.parentNode.insertBefore(content, node);\n        }\n        return this;\n      };\n      this.forEach(node => {\n        return __before(node, content);\n      });\n      return this;\n    },\n\n    after(args) {\n      if (!this.size()) return new DOMStack();\n      const __after = (node, content) => {\n        let parent = node.parentNode;\n        if (typeof content === 'string' || typeof content === 'number') {\n          content = $.html(content);\n        }\n        if (content && content.objectType && content.objectType === 'domstack') {\n          let i = 0,\n            len = content.size();\n          while (i < len) {\n            if (node === parent.lastChild) {\n              parent.appendChild(content.array[i]);\n            } else {\n              parent.insertBefore(content.array[i], node.nextSibling);\n            }\n            i++;\n          }\n        } else if (content && content.nodeType === 1) {\n          parent.appendChild(content);\n        }\n        return this;\n      };\n      this.forEach(node => {\n        return __after(node, args);\n      });\n      return this;\n    },\n\n    prepend(content) {\n      if (!this.size()) return new DOMStack();\n\n      if (typeof content === 'string' || typeof content === 'number') {\n        this.forEach(element => {\n          element.insertAdjacentHTML('afterbegin', content);\n        });\n      } else if (content && content.objectType && content.objectType === 'domstack') {\n        this.forEach(element => {\n          content.forEach(node => {\n            element.insertBefore(node, element.firstChild);\n          });\n        });\n      } else if (content && content.nodeType === 1) {\n        this.forEach(element => {\n          element.insertBefore(node, element.firstChild);\n        });\n      }\n      return this;\n    },\n\n    append(content) {\n      if (!this.size()) return new DOMStack();\n\n      if (typeof content === 'string' || typeof content === 'number') {\n        this.forEach(element => {\n          element.insertAdjacentHTML('beforeend', content);\n        });\n      } else if (content && content.objectType && content.objectType === 'domstack') {\n        this.forEach(element => {\n          content.forEach(node => {\n            element.insertBefore(node, null);\n          });\n        });\n\n      } else if (content && content.nodeType === 1) {\n        this.forEach(element => {\n          element.insertBefore(node, null);\n        });\n      }\n      return this;\n    },\n\n    prependTo(selector) {\n      if (!this.size()) return new DOMStack();\n      this.reverse();\n      this.forEach(item => {\n        return $(selector).prepend(item);\n      });\n      return this;\n    },\n\n    appendTo(selector) {\n      if (!this.size()) return new DOMStack();\n      this.forEach(item => {\n        return $(selector).append(item);\n      });\n      return this;\n    },\n\n    clone(value) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(ctx => {\n        if (value === true || !value) {\n          ret.push(ctx.cloneNode(true));\n        } else {\n          ret.push(ctx.cloneNode(false));\n        }\n      });\n      return ret;\n    },\n\n    wrap(string) {\n      if (!this.size() || !string) return new DOMStack();\n      let tempNode = undefined;\n      let empNode = undefined;\n      let whichClone = undefined;\n      this.forEach(ctx => {\n        tempNode = $.html(string);\n        empNode = tempNode.array[0];\n        whichClone = $(ctx).clone(true);\n        tempNode.append(whichClone);\n        $(ctx).before(tempNode);\n        $(ctx).remove();\n      });\n    },\n\n    unwrap() {\n      if (!this.size()) return new DOMStack();\n      let parentNode = null;\n      this.forEach(node => {\n        if (node.parentNode === parentNode) {\n          return;\n        }\n        parentNode = node.parentNode;\n        if (node.parentNode.nodeName === 'BODY') {\n          return false;\n        }\n        $.replace(node, node.parentNode);\n      });\n    },\n\n    offset() {\n      if (!this.size())\n        return;\n      const offset = this.eq(0).array[0].getBoundingClientRect();\n      return {\n        top: Math.round(offset.top),\n        left: Math.round(offset.left),\n        bottom: Math.round(offset.bottom),\n        right: Math.round(offset.right)\n      };\n    },\n\n    position() {\n      let obj = {\n        top: 0,\n        left: 0\n      };\n      const pos = this.array[0].getBoundingClientRect();\n      const borderTop = parseInt(this.parent().css('border-top-width'), 10) || 0;\n      const borderLeft = parseInt(this.parent().css('border-left-width'), 10) || 0;\n      const parentPos = this.array[0].parentNode.getBoundingClientRect();\n      const compareOffsets1 = function(val1, val2) {\n        return Math.round(val1 - val2);\n      };\n      obj.top = compareOffsets1(pos.top, (parentPos.top + borderTop));\n      obj.left = compareOffsets1(pos.left, (parentPos.left + borderLeft));\n      return obj;\n    },\n\n    empty() {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(ctx => {\n        $(ctx).children().off();\n        ctx.textContent = '';\n        ret.push(ctx);\n      });\n      return ret;\n    },\n\n    html(content) {\n      if (!this.size()) return new DOMStack();\n      if (content === '') {\n        this.forEach(node => {\n          node.innerHTML = '';\n        });\n        return this;\n      } else if (content) {\n        this.forEach(node => {\n          node.innerHTML = content;\n        });\n        return this;\n      } else if (!content) {\n        return this.array[0].innerHTML.trim();\n      }\n    },\n\n    text(string) {\n      let ret = '';\n      if (!this.size()) return new DOMStack();\n      if (!!string || string === 0) {\n        this.forEach(element => {\n          element.innerText = string;\n        });\n        return this;\n      } else {\n        this.forEach(element => {\n          ret += element.innerText;\n          ret.trim();\n        });\n        return ret;\n      }\n    },\n\n    replaceWith(content) {\n      if (content && content.nodeType && content.nodeType === 1) {\n        $(content).off();\n      } else if (content && content.objectType && content.objectType === 'domstack') {\n        content.off();\n      }\n      this.forEach(node => {\n        $(node).off();\n        if (typeof content === 'string') {\n          $.replace($(content), node);\n        } else {\n          $.replace($(content), node);\n        }\n      });\n    },\n\n    remove() {\n      if (!this.size()) return new DOMStack();\n      this.forEach(node => {\n        $(node).off();\n        if (node.parentNode) node.parentNode.removeChild(node);\n      });\n    },\n\n    addClass(className) {\n      if (!this.size()) return new DOMStack();\n      if (typeof className !== \"string\")\n        return;\n      let ret = new DOMStack();\n      let classes = undefined;\n      this.forEach(node => {\n        if (/\\s/.test(className)) {\n          classes = className.split(' ');\n          classes.forEach(name => {\n            node.classList.add(name);\n          });\n        } else {\n          node.classList.add(className);\n        }\n        ret.push(node);\n      });\n      return ret;\n    },\n\n    hasClass(className) {\n      if (!this.size()) return new DOMStack();\n      let temp = false;\n      this.forEach(element => {\n        if (element.classList.contains(className)) {\n          temp = true;\n        }\n      });\n      return temp;\n    },\n\n    removeClass(className) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      let classes = undefined;\n      this.forEach(node => {\n        if (!node)\n          return;\n        if (/\\s/.test(className)) {\n          classes = className.split(' ');\n          classes.forEach(name => {\n            node.classList.remove(name);\n          });\n        } else {\n          node.classList.remove(className);\n        }\n        if (node.getAttribute('class') === '') {\n          node.removeAttribute('class');\n        }\n        ret.push(node);\n      });\n      return ret;\n    },\n\n    toggleClass(className) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(node => {\n        node.classList.toggle(className);\n        ret.push(node);\n      });\n      return ret;\n    },\n\n    attr(property, value) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      const __attr = (node, property, value) => {\n        if (value === undefined) {\n          return node.getAttribute(property);\n        } else {\n          return node.setAttribute(property, value);\n        }\n      };\n      if (value === undefined) {\n        if (this[0].hasAttribute(property)) {\n          return this[0].getAttribute(property);\n        }\n      } else {\n        this.forEach(node => {\n          __attr(node, property, value);\n          ret.push(node);\n        });\n      }\n      if (ret.length) {\n        return ret;\n      }\n    },\n\n    removeAttr(attribute) {\n      if (!this.size()) return new DOMStack();\n      let ret = new DOMStack();\n      this.forEach(node => {\n        if (!!node.hasAttribute(attribute)) {\n          node.removeAttribute(attribute);\n          ret.push(node);\n        }\n      });\n      return ret;\n    },\n\n    prop(property, value) {\n      if (!this.size()) return new DOMStack();\n      if (value === false || !!value) {\n        this.forEach(element => {\n          element[property] = value;\n        });\n        return this;\n      } else if (this.array[0] && this.array[0][property]) {\n        return this.array[0][property];\n      }\n    },\n\n    removeProp(property) {\n      if (!this.size()) return new DOMStack();\n      this[0][property] = false;\n      return [this[0]];\n    },\n\n    disable() {\n      if (!this.size()) return new DOMStack();\n      this.forEach(node => {\n        node.classList.add('disabled');\n        node.disabled = true;\n        node.style.cursor = 'default';\n      });\n      return this;\n    },\n\n    enable() {\n      if (!this.size()) return new DOMStack();\n      this.forEach(node => {\n        node.classList.remove('disabled');\n        node.removeAttribute('disabled');\n        node.style.cursor = 'auto';\n      });\n      return this;\n    },\n\n    val(value) {\n      if (!this.size()) return new DOMStack();\n      if (value) {\n        this.array[0].value = value;\n        return this;\n      } else {\n        if (this.array[0] && this.array[0].value) {\n          return this.array[0].value;\n        }\n      }\n    },\n\n    hide() {\n      let display = this.css('display');\n      this.data('display_attr', display);\n      this.css('display', 'none');\n    },\n\n    show() {\n      let display = this.data('display_attr');\n      if (display === 'none' || !display) {\n        display = 'block';\n      }\n      this.css('display', display);\n    }\n  });\n\n  /**\n   * ChocolateChip-UI event methods.\n   */\n\n  (() => {\n    const EventErrorMessages = {\n      en: {\n        noEventOrCallback: \"ChocolateChip-UI Event Error: No event or callback was provided to bind to the element. These are the minimal requirements for this method to work. Please provide an event and callback.\",\n        noCallbackForEventBinding: \"ChocolateChip-UI Event Error: No callback was provided for the event you are trying to bind. A callback is required for the event binding to work.\",\n        noEventToTrigger: \"ChocolateChip-UI Event Error: No event was provided to trigger. As such we cannot do anything.\"\n      },\n      es: {\n        noEventOrCallback: \"Hubo Error de Evento ChocolateChip-UI: No se proporcionó ningún evento ni función callback para asignar al elemento. Cuando menos se nesecitan éstos para realizar esta operación en el elemento. Por favor proporcione un evento y una callback.\",\n        noCallbackForEventBinding: \"Hubo Error de Evento ChocolateChip-UI: No se proporcionó ninguna función callback para el evento que se quiere asignar al element. Se reqiere una callback para asignar el evento al elemento.\",\n        noEventToTrigger: \"Hubo Error de Evento ChocolateChip-UI: No se proporcionó ningún evento que gatillar. Por eso no podemos hacer nada.\"\n      }\n    }\n\n    let errors = undefined;\n    if ($('html').attr('lang') == 'en') errors = EventErrorMessages.en;\n    if ($('html').attr('lang') == 'es') errors = EventErrorMessages.es;\n        \n    /**\n     * Define interface for handling events:\n     */\n    let EventStack = (array) => {\n      let __array = [];\n      if (array && Array.isArray(array)) {\n        let i = -1;\n        const len = array.length;\n        while (++i < len) {\n          __array[i] = array[i];\n        }\n      } else if (array) {\n        const arr = Array.prototype.slice.apply(arguments);\n        arr.forEach((ctx, idx) => {\n          __array[idx] = ctx;\n        });\n      }\n      return {\n\n        size: () => __array.length,\n\n        push: (data) => __array.push(data),\n\n        pop: () => __array.pop(),\n\n        eq: (index) => {\n          if (index < 0) {\n            return __array[__array.length + index];\n          } else {\n            return __array[index];\n          }\n        },\n\n        forEach: (callback) => {\n          let value = undefined;\n          let i = -1;\n          const len = __array.length;\n          while (++i < len) {\n            value = callback.call(__array[i], __array[i], i);\n            if (value === false) {\n              break;\n            }\n          }\n        },\n\n        shift: () => __array.shift.apply(__array, arguments),\n\n        unshift: () => __array.unshift.apply(__array, arguments),\n\n        splice: () => __array.splice.apply(__array, arguments),\n\n        indexOf: () => __array.indexOf.apply(__array, arguments),\n\n        getData: () => __array,\n\n        purge: () => __array = []\n      };\n    };\n\n    let ChuiEventCache = {\n      elements: {}\n    };\n\n    /* jshint, evil: false, validthis:true, unused:false, loopfunc: false,\n    smarttabs: true, nonew: false */\n\n    /**\n     * Private method to set events on ChuiEventCache\n     */\n    const bind = function(element, event, callback, capturePhase) {\n      if (!element.id) element.id = chocolatechipjs.uuid();\n      if (!ChuiEventCache.elements[element.id]) {\n        ChuiEventCache.elements[element.id] = EventStack(); // jshint ignore:line\n      }\n      ChuiEventCache.elements[element.id].push({\n        event: event,\n        callback: callback\n      });\n      element.addEventListener(event, callback, capturePhase);\n    };\n\n\n    /**\n     * Delete items from event stack:\n     */\n    const deleteFromEventStack = function(toDelete, evtStck) {\n      let len = toDelete.length;\n      for (let i = 0; len > i; len--) {\n        evtStck.splice(toDelete[len - 1], 1);\n      }\n    };\n    /**\n     * Private method to unbind events on ChuiEventCache\n     */\n    const unbind = function(element, event, callback, capturePhase) {\n\n      const eventStack = ChuiEventCache.elements[element.id];\n      if (!eventStack) return;\n      let deleteOrder = [];\n\n      if (!event) {\n        deleteOrder = [];\n        eventStack.forEach((evt, idx) => {\n          element.removeEventListener(evt.event, evt.callback, evt.capturePhase);\n          deleteOrder.push(idx);\n        });\n\n        deleteFromEventStack(deleteOrder, eventStack);\n\n      } else if (!!event && !callback) {\n        deleteOrder = [];\n        eventStack.forEach((evt, idx) => {\n          if (evt.event === event) {\n            element.removeEventListener(evt.event, evt.callback, evt.capturePhase);\n            deleteOrder.push(idx);\n          }\n        });\n\n        deleteFromEventStack(deleteOrder, eventStack);\n\n      } else if (callback) {\n        deleteOrder = [];\n        eventStack.forEach((evt, idx) => {\n          if (callback === evt.callback) {\n            element.removeEventListener(evt.event, evt.callback, evt.capturePhase);\n            deleteOrder.push(idx);\n          }\n        });\n        deleteFromEventStack(deleteOrder, eventStack);\n      }\n    };\n\n\n    /**\n     * Set delegated events on ChuiEventCache\n     */\n\n    const delegate = (element, selector, event, callback, capturePhase) => {\n      let delegateElement = $(element).array[0];\n      $(element).forEach(ctx => {\n        $(ctx).on(event, (e) => {\n          let target = e.target;\n          if (e.target.nodeType === 3) {\n            target = e.target.parentNode;\n          }\n          $(ctx).find(selector).forEach(delegateElement => {\n            if (delegateElement === target) {\n              callback.call(delegateElement, e);\n            } else {\n              try {\n                const ancestor = $(target).closest(selector);\n                if (delegateElement === ancestor.array[0]) {\n                  callback.call(delegateElement, e);\n                }\n              } catch (err) {}\n            }\n          });\n        }, capturePhase);\n      });\n    };\n\n\n    /**\n     * Method to remove delegated events from ChuiEventCache:\n     */\n    const undelegate = (element, selector, event, callback, capturePhase) => {\n\n      unbind($(element).array[0], event, callback, capturePhase);\n    };\n\n    $.fn.extend({\n      on: function(event, selector, callback, capturePhase) {\n        if (!event) {\n          if ($.supressErrorMessages) return;\n          console.error(errors.noEventOrCallback);\n          return;\n        }\n        if (!selector) {\n          if ($.supressErrorMessages) return;\n          console.error(errors.noCallbackForEventBinding);\n          return;\n        }\n\n        if (!selector && /Object/img.test(event.constructor.toString())) {\n          this.forEach(element => {\n            for (let key in event) {\n              if (event.hasOwnProperty(key)) {\n                $(element).on(key, event[key]);\n              }\n            }\n          });\n        }\n        let ret = [];\n        let events = undefined;\n        if (typeof event === 'string') {\n          event = event.trim();\n          if (/\\s/.test(event)) {\n            events = event.split(' ');\n            this.forEach(ctx => {\n              events.forEach(evt => {\n                if (typeof selector === 'function') {\n                  bind(ctx, evt, selector, callback);\n                  ret.push(ctx);\n                } else {\n                  delegate(ctx, selector, evt, callback, capturePhase);\n                }\n              });\n            });\n          }\n        }\n        this.forEach(ctx => {\n          if (typeof selector === 'function') {\n            return bind(ctx, event, selector, callback);\n          } else {\n            delegate(ctx, selector, event, callback, capturePhase);\n          }\n        });\n        return this;\n      },\n\n      off: function(event, selector, callback, capturePhase) {\n        let ret = new DOMStack();\n        if (!this.size()) return ret;\n\n        this.forEach(function(ctx) {\n          if (typeof event === 'undefined') {\n            ret.push(ctx);\n            unbind(ctx);\n            return ret;\n          } else if (typeof selector === 'function' || !selector) {\n            unbind(ctx, event, selector, callback, capturePhase);\n            return this;\n          } else {\n            undelegate(ctx, selector, event, callback, capturePhase);\n            return this;\n          }\n        });\n      },\n\n      trigger: function(event) {\n        if (!event) {\n          if ($.supressErrorMessages) return;\n          console.error(errors.noEventToTrigger);\n          return;\n        }\n        if (!this.size()) return new DOMStack();\n        this.forEach(ctx => {\n          if (document.createEvent) {\n            const evtObj = document.createEvent('Events');\n            evtObj.initEvent(event, true, false);\n            ctx.dispatchEvent(evtObj);\n          }\n        });\n      }\n    });\n  })();\n\n\n  window.$ = window.chocolatechipjs = chocolatechipjs;\n\n  return $;\n})();\n\n  /**\n   * ChocolateChip-UI event aliases.\n   */\n  $.extend({\n    eventStart: null,\n    eventEnd: null,\n    eventMove: null,\n    eventCancel: null,\n    /**\n     * Define min-length for gesture detection:\n     */\n    gestureLength: 30\n  });\n  $(() => {\n    /**\n     * Setup Event Variables:\n     */\n    if ('ontouchstart' in window && /mobile/img.test(navigator.userAgent)) {\n      $.eventStart = 'touchstart';\n      $.eventEnd = 'touchend';\n      $.eventMove = 'touchmove';\n      $.eventCancel = 'touchcancel';\n      /** \n       * Mouse events for desktop: \n       */\n    } else {\n      $.eventStart = 'mousedown';\n      $.eventEnd = 'click';\n      $.eventMove = 'mousemove';\n      $.eventCancel = 'mouseout';\n    }\n  });\n\n  /**\n   * ChocolateChip-UI gestures.\n   */\n  (function() {\n    \"use strict\";\n    let touch = {};\n    let touchTimeout = undefined;\n    let swipeTimeout = undefined;\n    let tapTimeout = undefined;\n    const longTapDelay = 750;\n    let singleTapDelay = 150;\n    $.gestureLength = 50;\n    if ($.isAndroid) singleTapDelay = 200;\n    let longTapTimeout = undefined;\n\n    function parentIfText(node) {\n      return 'tagName' in node ? node : node.parentNode;\n    }\n\n    function swipeDirection(x1, x2, y1, y2) {\n      return Math.abs(x1 - x2) >=\n        Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'left' : 'right') : (y1 - y2 > 0 ? 'up' : 'down');\n    }\n\n    function longTap() {\n      longTapTimeout = null;\n      if (touch.last) {\n        try {\n          if (touch && touch.el) {\n            touch.el.trigger('longtap');\n            touch = {};\n          }\n        } catch (err) {};\n      }\n    }\n\n    function cancelLongTap() {\n      if (longTapTimeout) clearTimeout(longTapTimeout);\n      longTapTimeout = null;\n    }\n\n    function cancelAll() {\n      if (touchTimeout) clearTimeout(touchTimeout);\n      if (tapTimeout) clearTimeout(tapTimeout);\n      if (swipeTimeout) clearTimeout(swipeTimeout);\n      if (longTapTimeout) clearTimeout(longTapTimeout);\n      touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null;\n      touch = {};\n    }\n\n    /** \n     * Execute this after DOM loads: \n     */\n    $(() => {\n      let now = undefined;\n      let delta = undefined;\n      const body = $('body');\n      let twoTouches = false;\n\n      /** \n       * Capture start of event: \n       */\n      body.on($.eventStart, function(e) {\n        now = Date.now();\n        delta = now - (touch.last || now);\n        if (e.originalEvent) e = e.originalEvent;\n\n        if ($.eventStart === 'mousedown') {\n          touch.el = $(parentIfText(e.target));\n          if (e.target.nodeName === 'ripple') {\n            touch.el = $(el.target.parentNode);\n          }\n          touchTimeout && clearTimeout(touchTimeout);\n          touch.x1 = e.pageX;\n          touch.y1 = e.pageY;\n          twoTouches = false;\n\n        /** \n         * Detect two or more finger gestures: \n         */\n        } else {\n          if (e.touches.length === 1) {\n            touch.el = $(parentIfText(e.touches[0].target));\n            touchTimeout && clearTimeout(touchTimeout);\n            touch.x1 = e.touches[0].pageX;\n            touch.y1 = e.touches[0].pageY;\n            if (e.targetTouches.length === 2) {\n              twoTouches = true;\n            } else {\n              twoTouches = false;\n            }\n          }\n        }\n        \n        if (delta > 0 && delta <= 250) {\n          touch.isDoubleTap = true;\n        }\n        touch.last = now;\n        longTapTimeout = setTimeout(longTap, longTapDelay);\n      });\n\n      /** \n       * Capture event move: \n       */\n      body.on($.eventMove, e => {\n        if (e.originalEvent) e = e.originalEvent;\n        cancelLongTap();\n        if ($.eventMove === 'mousemove') {\n          touch.x2 = e.pageX;\n          touch.y2 = e.pageY;\n        } else {\n          /** \n           * One finger gesture: \n           */\n          if (e.touches.length === 1) {\n            touch.x2 = e.touches[0].pageX;\n            touch.y2 = e.touches[0].pageY;\n          }\n        }\n      });\n\n      /** \n       * Capture event end: \n       */\n      body.on($.eventEnd, e => {\n\n        cancelLongTap();\n        if (!!touch.el) {\n          /** \n           * Swipe detection: \n           */\n          if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > $.gestureLength) ||\n            (touch.y2 && Math.abs(touch.y1 - touch.y2) > $.gestureLength)) {\n            swipeTimeout = setTimeout(function() {\n              if (touch && touch.el) {\n                touch.el.trigger('swipe');\n                touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)));\n                touch = {};\n              }\n            }, 0);\n\n          /** \n           * Normal tap: \n           */\n          } else if ('last' in touch) {\n            /** \n             * Delay by one tick so we can cancel the 'tap' event if 'scroll' fires: \n             */\n            tapTimeout = setTimeout(() => {\n              /** \n               * Trigger double tap immediately: \n               */\n              if (touch && touch.isDoubleTap) {\n                if (touch && touch.el) {\n                  touch.el.trigger('doubletap');\n                  touch = {};\n                }\n\n              } else {\n                /** \n                 * Trigger tap after singleTapDelay: \n                 */\n                touchTimeout = setTimeout(() => {\n                  touchTimeout = null;\n                  if (touch && touch.el) {\n                    touch.el.trigger('tap');\n                    touch = {};\n                    return false;\n                  }\n                }, singleTapDelay);\n              }\n            }, 0);\n          }\n\n        } else {\n          return;\n        }\n      });\n      body.on('touchcancel', cancelAll);\n    });\n\n    /**\n     * Register events:\n     */\n    ['tap', 'doubletap', 'longtap', 'swipeleft', 'swiperight', 'swipeup', 'swipedown'].forEach(method => {\n      $.fn.extend({\n        method: function(callback) {\n          return this.on(method, callback);\n        }\n      });\n    });\n  })();\n\n  /**\n   * ChocolateChipJS data cache.\n   */\n  let CCDataCache = {\n    elements: {}\n  };\n  $.fn.extend({\n    data(key, value) {\n      if (!this.size()) return new DOMStack();\n      let val = undefined;\n      let id = undefined;\n      const ctx = this.array[0];\n      if (!ctx.id) {\n        ctx.id = $.uuid();\n      }\n      id = ctx.id;\n      if (!CCDataCache.elements[id]) {\n        CCDataCache.elements[id] = {};\n      }\n      if (key === 'undefined' || key === null) {\n        return;\n      }\n      if (value || value === 0) {\n        val = value;\n        let obj = {};\n        obj[key] = value;\n\n        CCDataCache.elements[id][key] = value;\n      } else {\n        if (!CCDataCache.elements[id]) return;\n        if (CCDataCache.elements[id][key] === 0) {\n          return CCDataCache.elements[id][key];\n        }\n        if (!CCDataCache.elements[id][key]) return;\n        return CCDataCache.elements[id][key];\n      }\n      return this;\n    },\n\n    removeData(key) {\n      if (!this.size()) return this;\n      this.forEach((element) => {\n        const id = element.id;\n        if (!id) return this;\n        if (!CCDataCache.elements[id]) {\n          return this;\n        }\n        if (!key) {\n          delete CCDataCache.elements[id];\n          return this;\n        }\n        if (Object.keys(CCDataCache.elements[id]).length === 0) {\n          delete CCDataCache.elements[id];\n        } else {\n          delete CCDataCache.elements[id][key];\n        }\n        return this;\n      });\n    }\n  });\n\n/**\n * ChocolateChip-UI types method.\n */\n$.extend({\n  type: type => {\n    switch (typeof type) {\n      case 'boolean':\n        return 'boolean';\n      case 'number':\n        return 'number';\n      case 'string':\n        return 'string';\n      case 'function':\n        return 'function';\n      case 'object':\n        if (Array.isArray(type)) {\n          return 'array';\n        } else if (Object.prototype.toString.call(type) === '[object Date]') {\n          return 'date';\n        } else if (Object.prototype.toString.call(type) === '[object Error]') {\n          return 'error';\n        } else if (Object.prototype.toString.call(type) === '[object RegExp]') {\n          return 'regexp';\n        } else if (Object.prototype.toString.call(type) === '[object Object]') {\n          return 'object';\n        }\n    }\n  }\n});\n\n/**\n * ChocolateChip-UI string methods.\n */\n$.extend({\n  camelize: string => {\n    if (typeof string !== 'string')\n      return;\n    return string.replace(/\\-(.)/g, (match, letter) => {\n      return letter.toUpperCase();\n    });\n  },\n\n  deCamelize: string => {\n    if (typeof string !== 'string')\n      return;\n    return string.replace(/([A-Z])/g, '-$1').toLowerCase();\n  },\n\n  capitalize: (string, all) => {\n    const self = this;\n    if (!string) {\n      return;\n    }\n    if (typeof string !== 'string')\n      return;\n    if (all) {\n      const str = string.split(' ');\n      let newstr = [];\n      str.forEach(item => {\n        return newstr.push(self.capitalize(item));\n      });\n      return newstr.join(' ');\n    } else {\n      return string.charAt(0).toUpperCase() + string.substring(1).toLowerCase();\n    }\n  }\n});\n\n/**\n * ChocolateChip-UI collection utilities.\n */\n$.fn.extend({\n  forEach(callback) {\n    this.each((idx, ctx) => {\n      callback.call(ctx, ctx, idx);\n    });\n  },\n\n  disable() {\n    if (!this.size()) return $();\n    this.forEach(node => {\n      node.classList.add('disabled');\n      node.disabled = true;\n      node.style.cursor = 'default';\n    });\n    return this;\n  },\n\n  enable() {\n    if (!this.size()) return $();\n    this.forEach(node => {\n      node.classList.remove('disabled');\n      node.removeAttribute('disabled');\n      node.style.cursor = 'auto';\n    });\n    return this;\n  },\n\n  iz(selector) {\n    const ret = $();\n    this.forEach(ctx => {\n      if ($(ctx).is(selector)) {\n        ret.push(ctx);\n      }\n    });\n    return ret;\n  },\n\n  iznt(selector) {\n    const ret = $();\n    this.each((_, ctx) => {\n      if (!$(ctx).is(selector)) {\n        ret.push(ctx);\n      }\n    });\n    return ret;\n  },\n\n  haz(selector) {\n    let ret = new DOMStack();\n    this.forEach(element => {\n      if ($(element).has(selector)[0]) {\n        ret.push(element);\n      }\n    });\n    return ret;\n  },\n\n  haznt(selector) {\n    let ret = new DOMStack();\n    this.forEach(element => {\n      if (!$(element).has(selector)[0]) {\n        ret.push(element);\n      }\n    });\n    return ret;\n  },\n\n  hazClass(className) {\n    if (className) {\n      return this.iz('.' + className);\n    } else {\n      return new DOMStack();\n    }\n  },\n\n  hazntClass(className) {\n    if (className) {\n      return this.iznt('.' + className);\n    } else {\n      return new DOMStack();\n    }\n  },\n\n  hazAttr(attribute) {\n    if (attribute) {\n      return this.iz('[' + attribute + ']');\n    } else {\n      return new DOMStack();\n    }\n  },\n\n  hazntAttr(attribute) {\n    if (attribute) {\n      return this.iznt('[' + attribute + ']');\n    } else {\n      return new DOMStack();\n    }\n  }\n});\n\n/**\n * ChocolateChip-UI - Validators.\n */\n\n/**\n * Set validity state of form elements: \n */\nconst setValidityStatus = (element, valid) => {\n  if (valid) {\n    $(element).prop('valid', true);\n    $(element).prop('invalid', false);\n    $(element).addClass('valid').removeClass('invalid');\n  } else {\n    $(element).prop('valid', false);\n    $(element).prop('invalid', true);\n    $(element).addClass('invalid').removeClass('valid');\n  }\n};\n\n/**\n * Used to check input validity: \n */\nconst checkValidity = (element, expression) => {\n  if (expression) {\n    setValidityStatus(element, true);\n  } else {\n    setValidityStatus(element, false);\n  }\n  return expression;\n};\n\n$.fn.extend({\n  isNotEmpty: function(ctx) {\n    if (this[0].nodeName !== 'INPUT') return;\n    return checkValidity(this, this[0].nodeName === 'INPUT' && this[0].value);\n  },\n\n  validateAlphabetic: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[A-Za-z]+$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(letters));\n    if (value) {\n      return checkValidity(this, value.match(letters));\n    }\n  },\n\n  validateText: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[A-Za-z\\W]+$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(letters));\n    if (value) {\n      return checkValidity(this, value.match(letters));\n    }\n  },\n\n  validateNumber: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const numbers = /^[+-]?\\d+(\\.\\d+)?$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(numbers));\n    if (value) {\n      return checkValidity(this, value.match(numbers));\n    }\n  },\n\n  validateAlphaNumeric: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[0-9a-zA-Z]+$/;\n    const value = this[0].nodeName === 'INPUT' && this[0].value;\n    checkValidity(this, value.match(letters));\n    if (value) {\n      return checkValidity(this, value.match(letters));\n    }\n  },\n\n  validateUserName: function(minimum) {\n    if (this[0].nodeName !== 'INPUT') return;\n    const letters = /^[a-zA-Z0-9]+$/;\n    const username = this[0].value;\n    if (!username) return checkValidity(this, username);\n    if (minimum && username.match(letters)) {\n      if (username.length >= minimum) {\n        return checkValidity(this, username);\n      } else {\n        return checkValidity(this, false);\n      }\n    } else {\n      return checkValidity(this, checkValidity(this, username.match(letters)));\n    }\n  },\n\n  validateEmail: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    const value = this[0].value;\n    const email = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (value) {\n      return checkValidity(this, value.match(email));\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validatePhoneNumber: function(int) {\n    if (this[0].nodeName !== 'INPUT') return;\n    let phone = undefined;\n    let phoneNumber = undefined;\n    const convertLettersToNumbers = value => {\n      let phonenumber = \"\";\n      value = value.toLowerCase();\n      const len = value.length;\n      for (let i = 0; i < len; i++) {\n        let character = value.charAt(i);\n        switch (character) {\n          case '0':\n            phonenumber += \"0\";\n            break;\n          case '1':\n            phonenumber += \"1\";\n            break;\n          case '2':\n            phonenumber += \"2\";\n            break;\n          case '3':\n            phonenumber += \"3\";\n            break;\n          case '4':\n            phonenumber += \"4\";\n            break;\n          case '5':\n            phonenumber += \"5\";\n            break;\n          case '6':\n            phonenumber += \"6\";\n            break;\n          case '7':\n            phonenumber += \"7\";\n            break;\n          case '8':\n            phonenumber += \"8\";\n            break;\n          case '9':\n            phonenumber += \"9\";\n            break;\n          case '-':\n            phonenumber += \"-\";\n            break;\n          case 'a':\n          case 'b':\n          case 'c':\n            phonenumber += \"2\";\n            break;\n          case 'd':\n          case 'e':\n          case 'f':\n            phonenumber += \"3\";\n            break;\n          case 'g':\n          case 'h':\n          case 'i':\n            phonenumber += \"4\";\n            break;\n          case 'j':\n          case 'k':\n          case 'l':\n            phonenumber += \"5\";\n            break;\n          case 'm':\n          case 'n':\n          case 'o':\n            phonenumber += \"6\";\n            break;\n          case 'p':\n          case 'q':\n          case 'r':\n          case 's':\n            phonenumber += \"7\";\n            break;\n          case 't':\n          case 'u':\n          case 'v':\n            phonenumber += \"8\";\n            break;\n          case 'w':\n          case 'x':\n          case 'y':\n          case 'z':\n            phonenumber += \"9\";\n            break;\n        }\n      }\n      return phonenumber;\n    };\n    if (this[0].value) {\n\n      /**\n       * International Numbers:\n       */\n      if (int) {\n        phoneNumber = this[0].value.replace(/[\\(\\)\\.\\-\\ ]/g, '');\n        return checkValidity(this, this.isNotEmpty() && !isNaN(phoneNumber));\n\n        /**\n         * North America (US and Canada):\n         */\n      } else {\n        phoneNumber = this[0].value.replace(/[\\(\\)\\.\\-\\ ]/g, '');\n        phoneNumber = convertLettersToNumbers(phoneNumber);\n        phone = /((\\(\\d{3}\\)?)|(\\d{3}))([\\s-./]?)(\\d{3})([\\s-./]?)(\\d{4})/;\n        return checkValidity(this, phoneNumber.match(phone));\n      }\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validateUrl: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    if (this[0].value) {\n      const url = /^(ftp|http|https):\\/\\/([w]{3}\\.)?(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/;\n      return checkValidity(this, this[0].value.match(url));\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validateAge: function(minimum) {\n    if (this[0].nodeName !== 'INPUT') return;\n    if (!minimum) return;\n    const age = this[0].value;\n    if (age) {\n      return checkValidity(this, age >= minimum);\n    } else {\n      return checkValidity(this, false);\n    }\n  },\n\n  validateCheckbox: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    if (this[0].nodeName === 'INPUT' && this[0].type === 'checkbox') {\n      return checkValidity(this, this[0].checked === true);\n    }\n  },\n\n  validateRadioButtons: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    let choice = false;\n    if (this[0].nodeName === 'INPUT' && this[0].type === 'radio') {\n      $.each(this, function(idx, button) {\n        if (button.checked === true) {\n          choice = true;\n        }\n      });\n      return checkValidity(this, choice);\n    }\n  },\n\n  validateSelectBox: function() {\n    if (this[0].nodeName === 'SELECT') {\n      return checkValidity(this, this[0].selectedIndex);\n    } else {\n      return;\n    }\n  },\n\n  validateSwitch: function() {\n    const checkbox = this.find('input[type=checkbox]')[0];\n    if (checkbox.checked) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  validateSelectList: function() {\n    const radio = this.find('input[type=radio]');\n    if (radio.iz('[checked]')[0]) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  validateMultiSelectList: function() {\n    const checkboxes = this.find('input[type=checkbox]');\n    let checked = false;\n    checkboxes.forEach(function(item) {\n      if ($(item).prop('checked')) {\n        checked = true;\n      }\n    });\n    if (checked) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n});\n\n$.extend({\n  validatePassword: function(input1, input2, minimum) {\n    if (minimum && $(input1).val().length < minimum || $(input2).val().length < minimum) {\n      $(input1).addClass('invalid').removeClass('valid');\n      $(input2).addClass('invalid').removeClass('valid');\n      return false;\n    } else {\n      const letters = /^(?=.*[a-zA-Z])(?=.*[0-9]).+$/;\n      if (!letters.test($(input1).val()) && !letters.test($(input2).val())) return false;\n      if ($(input1).val() === $(input2).val()) {\n        $(input1).removeClass('invalid').addClass('valid');\n        $(input2).removeClass('invalid').addClass('valid');\n      } else {\n        $(input1).addClass('invalid').removeClass('valid');\n        $(input2).addClass('invalid').removeClass('valid');\n      }\n      return $(input1).val() === $(input2).val();\n    }\n  },\n\n  validateWithRegex: function(input, regex) {\n    if (!regex) {\n      console.error('This method requires a regular expression.');\n      return;\n    }\n    const value = $(input).val();\n    if (value) {\n      return checkValidity(input, value.match(regex));\n    }\n  },\n\n  customValidators: [],\n\n  registerCustomValidator: function(name, regex) {\n    this.customValidators.push({name: name, regex: regex});\n  }\n});\n\n/**\n * ChocolateChip-UI serialize methods.\n */\n$.fn.extend({\n  serializeArray() {\n    let name = undefined;\n    let type = undefined;\n    let ret = [];\n    const add = value => {\n      if ($.type(value) === 'array') {\n        return value.forEach(add);\n      }\n      ret.push({\n        name: name,\n        value: value\n      });\n    };\n    if (this[0]) {\n      $.each([].slice.apply(this[0].elements), (idx, field) => {\n        type = field.type;\n        name = field.name;\n        if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n          !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n          ((type != 'radio' && type != 'checkbox') || field.checked)) {\n          add($(field).val());\n        }\n      });\n    }\n    return ret;\n  },\n\n  /**\n   * Serialize the values of a form: \n   */\n  serialize() {\n    let ret = [];\n    this.serializeArray().forEach(element => {\n      ret.push(encodeURIComponent(element.name) + '=' + encodeURIComponent(element.value));\n    });\n    return ret.join('&');\n  }\n});\n\n/**\n * ChocolateChip-UI param method.\n */\n$.extend({\n\n  /** \n   * Serialize an object for posting to server:\n   */\n  param(obj, traditional) {\n\n    /** \n     * Private function used by $.param:\n     */\n    function serialize(params, obj, traditional, scope) {\n      let type = undefined;\n      let array = $.type(obj) === 'array';\n      let hash = $.isEmptyObject(obj);\n\n      /** \n       * If it's an array of objects: \n       */\n      if ($.type(obj) === 'array') {\n        $.each(obj, (key, value) => {\n          type = $.type(value);\n          if (scope) {\n            key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']';\n          }\n          if (!scope && array) {\n            params.add(value.name, value.value);\n          } else if (type == \"array\" || (!traditional && type == \"object\")) {\n            serialize(params, value, traditional, key);\n          } else {\n            params.add(key, value);\n          }\n        });\n\n      /**\n       * Else its an object (use key/value loop): \n       */\n      } else if ($.type(obj) === 'object') {\n        for (let key in obj) {\n          type = $.type(obj[key]);\n          if (scope) {\n            key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']';\n          }\n          if (!scope && array) {\n            params.add(obj[key].name, obj[key].obj[key]);\n          } else if (type == \"array\" || (!traditional && type == \"object\")) {\n            serialize(params, obj[key], traditional, key);\n          } else {\n            params.add(key, obj[key]);\n          }\n        }\n      }\n    }\n    let params = [];\n    params.add = function(key, value) {\n      if ($.type(value) === 'function') value = value();\n      if (value === null) value = \"\";\n      this.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    };\n    serialize(params, obj, traditional);\n    return params.join('&').replace(/%20/g, '+');\n  }\n});\n\n/**\n * ChocolateChip-UI - Form Validation & JSON.\n */\n$.extend({\n  /**\n   * Setup Form object to convert data to JSON, and to validate form values:\n   */\n  Form: options => {\n    if (!options || $.type(options) !== 'array') return;\n\n    let __passed = false;\n    let __errors = [];\n    let __result = [];\n\n    /** \n     * Helper to validate form elements: \n     */\n    function validateElement(item) {\n      if (!item) return;\n      if (!__passed) {\n        __errors.push({\n          element: item.element,\n          type: item.type\n        });\n        if (item.callback) item.callback();\n      } else {\n        convertToObject($(item.element).attr('name'), $(item.element).val());\n      }\n    }\n\n    /** \n     * Helper to convert form element names to JSON: \n     */\n    function convertToObject(name, value) {\n      __result.push({\n        name: name,\n        value: value\n      });\n    }\n\n    /** \n     * Convert form names and values to JSON: \n     */\n    function convertObjectToJSON(data) {\n      const delimiter = '_';\n      let result = {};\n      let arrays = {};\n      data.forEach(item => {\n        const value = item.value;\n        if (value !== '') {\n          let name = item.name;\n          let nameParts = name.split(delimiter);\n          let currResult = result;\n          for (let j = 0; j < nameParts.length; j++) {\n            const namePart = nameParts[j];\n            let arrName = undefined;\n            if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1) {\n\n              arrName = namePart.substr(0, namePart.indexOf('['));\n              if (!currResult[arrName]) {\n                currResult[arrName] = [];\n              }\n              currResult[arrName].push(value);\n            } else {\n              if (namePart.indexOf('[') > -1) {\n                arrName = namePart.substr(0, namePart.indexOf('['));\n                const arrIdx = namePart.replace(/^[a-z]+\\[|\\]$/gi, '');\n                if (!arrays[arrName]) {\n                  arrays[arrName] = {};\n                }\n                if (!currResult[arrName]) {\n                  currResult[arrName] = [];\n                }\n                if (j === nameParts.length - 1) {\n                  currResult[arrName].push(value);\n                } else {\n                  if (!arrays[arrName][arrIdx]) {\n                    currResult[arrName].push({});\n                    arrays[arrName][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\n                  }\n                }\n                currResult = arrays[arrName][arrIdx];\n              } else {\n                if (j < nameParts.length - 1) {\n                  if (!currResult[namePart]) {\n                    currResult[namePart] = {};\n                  }\n                  currResult = currResult[namePart];\n                } else {\n                  currResult[namePart] = value;\n                }\n              }\n            }\n          }\n        }\n      });\n      return result;\n    }\n\n    /** \n     * Validate form elements: \n     */\n    options.forEach(item => {\n      if (!$(item.element)[0]) return;\n      switch (item.type) {\n        case 'notempty':\n          __passed = validateElement(item.element, item.type);\n          __errors.push({\n            element: item.element,\n            type: item.type\n          });\n          return;\n        case 'number':\n          __passed = $(item.element).validateNumber();\n          validateElement(item);\n          return;\n        case 'text':\n          __passed = $(item.element).validateText();\n          validateElement(item);\n          return;\n        case 'alphanumeric':\n          __passed = $(item.element).validateAlphaNumeric();\n          validateElement(item);\n          return;\n        case 'username':\n          __passed = $(item.element).validateUserName(item.min);\n          validateElement(item);\n          return;\n        case 'email':\n          __passed = $(item.element).validateEmail();\n          validateElement(item);\n          return;\n        case 'phone':\n          __passed = $(item.element).validatePhoneNumber();\n          validateElement(item);\n          return;\n        case 'url':\n          __passed = $(item.element).validateUrl();\n          validateElement(item);\n          return;\n        case 'age':\n          __passed = $(item.element).validateAge(item.min);\n          validateElement(item);\n          return;\n        case 'checkbox':\n          __passed = $(item.element).validateCheckbox();\n          if (__passed) {\n            validateElement(item);\n          }\n          return;\n        case 'radio':\n          __passed = $(item.element).validateRadioButtons();\n          validateElement(item);\n          return;\n        case 'selectbox':\n          __passed = $(item.element).validateSelectBox();\n          validateElement(item);\n          return;\n        case 'password':\n          __passed = $.validatePassword(item.element, item.element2, item.min);\n          __errors.push({\n            element: item.element,\n            element2: item.element2,\n            type: item.type\n          });\n          return;\n        case 'switch':\n          __passed = $(item.element).validateSwitch();\n          if (__passed) {\n            validateElement(item);\n          }\n          return;\n        case 'selectlist':\n          __passed = $(item.element).validateSelectList();\n          if (__passed) {\n            validateElement(item);\n          }\n        case 'multiselectlist':\n          __passed = $(item.element).validateMultiSelectList();\n          let inputs = undefined;\n          if (__passed) {\n            inputs = $(item.element).find('input[type=checkbox]');\n            inputs.forEach(item => {\n              if (item.checked) {\n                convertToObject(item.name, item.value);\n              }\n            });\n          }\n      }\n      if (item.type.match(/custom/)) { \n        const cv = $.customValidators.filter(validator => {\n          return (validator.name) === item.type;\n        });\n        if (cv) {\n          const result = $.validateWithRegex(item.element, cv[0].regex);\n          if (result) {\n            const el = $(item.element);\n            convertToObject(el[0].name, el[0].value);\n          } else {\n            __errors.push({\n              element: item.element,\n              type: item.type\n            });\n            if (item.callback) item.callback();\n          }\n        }\n      }\n    });\n\n\n\n    return {\n      getErrors() {\n        if (__errors.length) {\n          return __errors;\n        }\n      },\n\n      errors() {\n        if (__errors.length) {\n          return true;\n        }\n      },\n\n      get() {\n        return convertObjectToJSON(__result);\n      }\n    };\n  }\n});\n\n/**\n * ChocolateChip-UI  - Data Formatters.\n */\n\n$.extend({\n  /**\n   * Format Numbers for Thousands:\n   */\n  formatNumber(amount, separator, decimal) {\n    const sep = separator || \",\";\n    /** \n     * Allow the user to round a float to a whole number: \n     */\n    if (decimal === 0) {\n      const num = Math.round(amount);\n      return Number(num).toString().replace(/(?=(?:\\d{3})+$)(?!^)/g, sep);\n    }\n    if (decimal === undefined) {\n      /** \n       * Check if amount is a float: \n       */\n      if (typeof amount === 'number' && amount % 1 !== 0) {\n        return Number(amount).toString().replace(/\\d(?=(\\d{3})+\\.)/g, '$&' + sep);\n        /** \n         * Otherwise treat it as an integer: \n         */\n      } else {\n        return Number(amount).toString().replace(/(?=(?:\\d{3})+$)(?!^)/g, sep);\n      }\n      /** \n       * If a decimal value was provided, format it to that amount: \n       */\n    } else {\n      return Number(amount).toFixed(decimal).replace(/\\d(?=(\\d{3})+\\.)/g, '$&' + sep);\n    }\n  },\n\n  /**\n   * Return sum of numbers:\n   */\n  sum(arr) {\n    let ret = undefined;\n    if (Array.isArray(arr) && arr.length) {\n      ret = arr;\n    } else {\n      ret = [].slice.apply(arguments);\n    }\n    return ret.reduce(function(a, b) {\n      return a + b;\n    });\n  },\n\n  /**\n   * Format currency:\n   */\n  currency(amount, symbol, separator, decimal) {\n    const sym = symbol || \"$\";\n    const sep = separator || \",\";\n    const dec = decimal || 2;\n    let zero = false;\n    if (decimal === 0) {\n      zero = true;\n    }\n    /* Private function to format amounts: */\n    const formatNumber = function(amount, sep) {\n      /**\n       * A decimal value of '0' means we need to round the amount off before adding in thousands separators:\n       */\n      if (zero) {\n        const num = Math.round(amount);\n        return Number(num).toString().replace(/^0+/, '').replace(/(?=(?:\\d{3})+$)(?!^)/g, sep);\n      } else {\n        /**\n         * Otherwise, we can just add the thousands separators with the decimal placement provided by the user or the default:\n         */\n        return Number(amount).toFixed(dec).replace(/^0+/, '').replace(/\\d(?=(\\d{3})+\\.)/g, '$&' + sep);\n      }\n    };\n    return sym + formatNumber(amount, sep);\n  },\n\n  /**\n   * Format Time:\n   */\n  formatTime(time) {\n    const temp = time.split(':');\n    const temp2 = temp[0] + ':' + temp[1];\n    const ampm = time.split(' ')[1];\n    return temp2 + ' ' + ampm;\n  },\n\n  sortDate(date1, date2) {\n    return new Date(date1) - new Date(date2);\n  },\n\n  /**\n   * Sort Numbers:\n   */\n  sortNumbers(a, b) {\n    return a - b;\n  },\n\n  sortNumbersDescending(a, b) {\n    return b - a;\n  }\n});\n\n/**\n * ChocolateChip-UI - form to JSON.\n */  \n$.extend({\n  form2JSON(rootNode, delimiter) {\n    rootNode = typeof rootNode === 'string' ? $(rootNode)[0] : rootNode;\n    delimiter = delimiter || '.';\n    const result = {};\n    const arrays = {};\n    const getFieldValue = function(fieldNode) {\n      if (fieldNode.nodeName === 'INPUT') {\n        if (fieldNode.type.toLowerCase() === 'radio' || fieldNode.type.toLowerCase() === 'checkbox') {\n          if (fieldNode.checked) {\n            return fieldNode.value;\n          }\n        } else {\n          if (!fieldNode.type.toLowerCase().match(/button|reset|submit|image/i)) {\n            return fieldNode.value;\n          }\n        }\n      } else {\n        if (fieldNode.nodeName === 'TEXTAREA') {\n          return fieldNode.value;\n        } else {\n          if (fieldNode.nodeName === 'SELECT') {\n            return getSelectedOptionValue(fieldNode);\n          }\n        }\n      }\n      return '';\n    };\n    const getFormValues = rootNode => {\n      let result = [];\n      let currentNode = rootNode.firstChild;\n      while (currentNode) {\n        if (currentNode.nodeName.match(/INPUT|SELECT|TEXTAREA/i)) {\n          result.push({\n            name: currentNode.name,\n            value: getFieldValue(currentNode)\n          });\n        } else {\n          let subresult = getFormValues(currentNode);\n          result = result.concat(subresult);\n        }\n        currentNode = currentNode.nextSibling;\n      }\n      return result;\n    };\n    const getSelectedOptionValue = selectNode => {\n      const multiple = selectNode.multiple;\n      if (!multiple) {\n        return selectNode.value;\n      }\n      if (selectNode.selectedIndex > -1) {\n        let result = [];\n        $('option', selectNode).each(function(idx, item) {\n          if (item.selected) {\n            result.push(item.value);\n          }\n        });\n        return result;\n      }\n    };\n    const formValues = getFormValues(rootNode);\n    formValues.forEach(function(item) {\n      const value = item.value;\n      if (value !== '') {\n        let name = item.name;\n        const nameParts = name.split(delimiter);\n        let currResult = result;\n        for (let j = 0; j < nameParts.length; j++) {\n          const namePart = nameParts[j];\n          let arrName = undefined;\n          if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1) {\n            arrName = namePart.substr(0, namePart.indexOf('['));\n            if (!currResult[arrName]) {\n              currResult[arrName] = [];\n            }\n            currResult[arrName].push(value);\n          } else {\n            if (namePart.indexOf('[') > -1) {\n              arrName = namePart.substr(0, namePart.indexOf('['));\n              const arrIdx = namePart.replace(/^[a-z]+\\[|\\]$/gi, '');\n              if (!arrays[arrName]) {\n                arrays[arrName] = {};\n              }\n              if (!currResult[arrName]) {\n                currResult[arrName] = [];\n              }\n              if (j === nameParts.length - 1) {\n                currResult[arrName].push(value);\n              } else {\n                if (!arrays[arrName][arrIdx]) {\n                  currResult[arrName].push({});\n                  arrays[arrName][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\n                }\n              }\n              currResult = arrays[arrName][arrIdx];\n            } else {\n              if (j < nameParts.length - 1) {\n                if (!currResult[namePart]) {\n                  currResult[namePart] = {};\n                }\n                currResult = currResult[namePart];\n              } else {\n                currResult[namePart] = value;\n              }\n            }\n          }\n        }\n      }\n    });\n    return result;\n  }\n});\n\n/**\n * ChocolateChip-UI - View Factory.\n */\n(() => {\n  const ViewErrorMessages = {\n    en: {\n      noDataForViewRender: \"ChocolateChip-UI View Error: No data was provided for the view to render. If you want to render the view, please provide data, or redefine the view with a data source or model. Otherwise rendering will be skipped.\",\n      noElementForView: \"ChocolateChip-UI View Error: No element was provided for the view. Please provide an element in the view initialization so that we can access it.\",\n      noTemplateForView: \"ChocolateChip-UI View Error: No template was provided for this view. This means that you did not provide a template in the view initialization, or the element did not have any template in its markup.\",\n      viewElementHasNoTemplate: \"ChocolateChip-UI View Error: The element for this view has no template in its markup. Either correct the element by defining a template in the element's markup, or define a template in the view's initialization.\",\n      noElementToSetToTemplate: \"ChocolateChip-UI View Error: No element was provided to set to this view. Please provide one.\",\n      noTemplateToSetToView: \"ChocolateChip-UI View Error: You did not provide a template to set to this view. Please provide one.\",\n      noEventsToAdd: \"ChocolateChip-UI View Error: No event was provided to attach fo the view. Please provide an event to procede.\",\n      noDataToSetForView: \"ChocolateChip-UI View Error: No data was provided to set for the view. Please provide some data.\",\n      noModelToBindToView: \"ChocolateChip-UI View Error: No model was provided to bind the view to. Please provide a valid model to complete this operation.\",\n      viewHasNoModel: \"ChocolateChip-UI View Error: Could not get this view's model because it is not bound to one. You can use `bindModel()` to bind a model to this view.\",\n      viewHasNoData: \"ChocolateChip-UI View Error: This view has no data. Did you render it with data, or did you bind it to a model? Try using `getModel()` to see if this view is using a model.\",\n      viewHasNoTemplate: \"ChocolateChip-UI View Error: This view has no template. Either you created it without a template, or there was some problem parsing the template. Please check how this view is set up.\"\n    },\n    es: {\n      noDataForViewRender: \"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó datos para que la vista los utilice. Si desea renderizar la vista, proporcione datos o redefinir la vista con un valor para sus datos o un modelo de datos. De lo contrario, la vista no se renderizará.\",\n      noElementForView: \"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó ningún elemento para la vista. Por favor proporcione un elemento en la inicialización de la vista para que podamos acceder a él.\",\n      noTemplateForView: \"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó ninguna plantilla para esta vista. Esto significa que usted no proporcionó una plantilla en la vista de inicialización, o el elemento no tiene ninguna plantilla en su marcado.\",\n      viewElementHasNoTemplate: \"Hubo Error de Vista ChocolateChip-UI: : El elemento de esta vista no tiene ninguna plantilla en su marcado. O bien corrija el elemento por definir una plantilla en el marcado del elemento, o defina una plantilla en la inicialización de la vista misma.\",\n      noElementToSetToTemplate: \"Hubo Error de Vista ChocolateChip-UI: : No se proporcionó ningún elemento en el cual se renderizará la pantilla. Por favor proporcione un elemento.\",\n      noTemplateToSetToView: \"Hubo Error de Vista ChocolateChip-UI: No se proporcionó una plantilla para esta vista. Por favor proporcione una plantilla.\",\n      noEventsToAdd: \"Hubo Error de Vista ChocolateChip-UI: No se proporcionó ningún event para unir a la vista. Por favor, proporcione un evento para proceder.\",\n      noDataToSetForView: \"Hubo Error de Vista ChocolateChip-UI: No se proporcionó datos para la vista. Por favor proporcione algunos datos.\",\n      noModelToBindToView: \"Hubo Error de Vista ChocolateChip-UI: No se proporcionó un modelo para establecer un enlace entre él y la vista. Por favor proporcione un modelo válido para completar esta operación.\",\n      viewHasNoModel: \"Hubo Error de Vista ChocolateChip-UI: No pudimos acceder al modelo de esta vista porque no está asociada con uno. Puede realizar esto usando `bindModel()`.\",\n      viewHasNoData: \"Hubo Error de Vista ChocolateChip-UI: Esta vista no tiene datos. A caso no se renderizó con datos o no se asoció con ningún modelo. Trate de executar `getModel()` para averiguar si esta vista está usando un modelo.\",\n      viewHasNoTemplate: \"Hubo Error de Vista ChocolateChip-UI: Esta vista no tiene plantilla. Ó se creó la vista sin plantilla, ó hubo algún error al procesar la plantilla. Debe chequear cómo se definó la vista.\"\n    }\n  }\n\n  let errors = undefined;\n  if ($('html').attr('lang') == 'en') errors = ViewErrorMessages.en;\n  if ($('html').attr('lang') == 'es') errors = ViewErrorMessages.es;\n\n  $.extend({\n\n    /* jshint, evil: false, validthis:true, unused:false, smarttabs: true, nonew false */\n    view: {\n      index: 0\n    },\n\n    helpers: {},\n\n    defineHelper: callback => {\n      $.extend($.helpers, callback);\n    },\n\n    View: options => {\n      /**\n      options = {\n        element: undefined,\n        template: stringTemplate,\n        model: undefined,\n        variable: 'whatever',\n        events: [\n          {\n            element: selector || 'self',\n            event: 'click',\n            callback: function() {}\n          },\n          {\n            element: selector2 || 'self',\n            event: 'touchstart',\n            callback: function() {}\n          }\n        ]\n      }\n      */\n\n      /**\n       * Private Properties:\n       */\n      let __element = undefined;\n      let __origElement = undefined;\n      if (!options) options = {};\n      if (options && options.element) {\n        __origElement = options.element;\n        __element = $(options.element);\n      }\n      let __template = options.template;\n      let __data = options.data;\n      let __model = options.model;\n      let __index = options.index || 1;\n      let __rendered = false;\n      let __variable = options.variable || 'data';\n      let __events = options.events || [];\n      let __startIndexFrom = options.startIndexFrom || false;\n      const __re = /data-src/img;\n      let __safeHTML = options.safeHTML || false;\n      let __es6Template = options.es6Template || false;\n      let __noTemplate = options.noTemplate || false;\n      const __id = $.uuid();\n\n      /**\n       * Private Functions:\n       */\n      \n      let parsedTemplate = undefined;\n\n      const parseView = (template, variable) => {\n        if (!template) {\n          console.error(errors.viewElementHasNoTemplate)\n          return;\n        }\n        const interpolate = /\\{=([\\s\\S]+?)\\}/img;\n        variable = variable || 'data';\n        template.replace(\"'\", \"\\'\");\n        /* jshint ignore:start */\n        const Template = new Function(variable,\n          \"var p=[];\" + \"p.push('\" + template\n          .replace(/[\\r\\t\\n]/g, \" \")\n          .split(\"'\").join(\"\\\\'\")\n          .replace(interpolate, \"',$1,'\")\n          /**\n           * Executable:\n           */\n          .split('{{').join(\"');\")\n          .split('}}').join(\"p.push('\") + \"');\" +\n          \"return p.join('');\");\n        return Template;\n        /* jshint ignore:end */\n      };\n\n      /**\n       * Binding any events provided in View options: \n       */\n      const handleEvents = () => {\n        if (!__element) return;\n        if (__events.length) {\n          __events.forEach(item => {\n            if (item && item.element === 'self' || item && !item.element) {\n              __element.on(item.event, item.callback);\n            } else {\n              __element.on(item.event, item.element, item.callback);\n            }\n          });\n        }\n      };\n\n      /**\n       * Get template from element: \n       */\n      const extractTemplate = () => {\n        if (!__element || !__element.size() || __noTemplate) {\n          return;\n        }\n        if (__es6Template) return;\n        if (!__template) {\n          if (__element.children()[0] && __element.children().eq(0).is('script')) {\n            __template = __element.children('script').html();\n            __element.empty();\n          } else if (__element.children()[0] && __element.children().eq(0).is('template')) {\n            __template = __element.children('template').html();\n            __element.empty();\n          } else if (!__element[0].childNodes.length) {\n            console.error(errors.viewElementHasNoTemplate)\n            return;\n          } else {\n            if (__element[0] && __element[0].childNodes.length) {\n              if (!__template) __template = __element.html();\n            }\n            __element.empty();\n          }\n          if (__template) __template = __template.replace(__re, 'src');\n\n          parseView(__template, __variable);\n        } else {\n          __template = __template.replace(__re, 'src');\n          parseView(__template, __variable);\n        }\n      };\n      parsedTemplate = extractTemplate();\n\n      if (__events) {\n        handleEvents(__events);\n      }\n\n      /**\n       * Return closure to encapsulate methods & data:\n       */\n      const view = {};\n      let data = undefined;\n\n\n      const bindToModel = (model, view) => {\n        if (model) {\n          model.boundViews.push(view);\n        }\n      }\n\n      bindToModel(__model, view);\n\n      $.extend(view, {\n\n        id: __id,\n\n        render(data, append) {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return ;\n          }\n          function escapeNumber(arg) {\n            if ($.type(arg) === 'number') {\n              return String(arg);\n            } else {\n              return arg;\n            }\n          }\n          window.escapeNumber = escapeNumber;\n          data = escapeNumber(data);\n          __data = escapeNumber(__data);\n          if (!data && !__data && !__model) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noDataForViewRender);\n            return;\n          }\n          if (!data && __data) {\n            data = __data;\n          } else if (!data && __model) {\n            data = __model.get();\n          }\n\n          /**\n           * Private functions for the render method.\n           * These need access to the returned instance.\n           */\n\n          /**\n           * Uncloaks, checks index and loops data: \n           */\n          const renderIterableData = data => {\n            const Data = data ? data : __data;\n            __element.removeClass('cloak');\n            if (__element.data('index')) {\n              __index = Number(__element.data('index'));\n              $.view.index = Number(__element.data('index'));\n            } else {\n              __index = 1;\n              $.view.index = 1;\n            }\n            interateModelToTemplate(Data);\n          };\n\n          /**\n           * Check extracted template: \n           */\n          if (__template && $.type(__template) === 'string') {\n            parsedTemplate = parseView(__template, __variable);\n          }\n\n          /**\n           * If the user supplied data to render:\n           * If it's an array:\n           */\n          if ($.type(data) === 'array') {\n            $.view.index = __startIndexFrom || 1;\n            if (!append) __element.empty();\n            data.forEach(item => {\n              if (!__safeHTML) {\n                item = $.escapeHTML(item);\n              }\n              if (!parsedTemplate && !__noTemplate) {\n                if ($.supressErrorMessages) return;\n                console.error(errors.viewElementHasNoTemplate)\n                return;\n              }\n              __element.append(parsedTemplate(item)); // jshint ignore:line\n              $.view.index += 1;\n              __index += 1;\n            });\n            __rendered = true;\n            $.view.index = 0;\n            __element.removeClass('cloak');\n            return;\n\n            /**\n             * Else if it is an object: \n             */\n          } else if ($.type(data) === 'object' || $.type(data) === 'string' || $.type(data) === 'number') {\n            if (!parsedTemplate) {\n              if ($.supressErrorMessages) return;\n              console.error(errors.viewElementHasNoTemplate)\n              return;\n            }\n            $.view.index = __startIndexFrom || 1;\n            if (!append) __element.empty();\n            if (!__safeHTML) {\n              data = $.escapeHTML(data);\n            }\n            __element.append(parsedTemplate(data)); // jshint ignore:line\n            __element.removeClass('cloak');\n            __rendered = true;\n            return;\n          }\n        },\n\n        empty() {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return;\n          }\n          __element.empty();\n        },\n\n        resetIndex() {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return;\n          }\n          __index = 0;\n          __element.data('index', 0);\n          $.view.index = 0;\n        },\n\n        startIndexFrom(number) {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return;\n          }\n          if (number === 0 || (number && !isNaN(number))) {\n            __startIndexFrom = number;\n            $.view.index = number;\n            view.render();\n          }\n        },\n\n        getElement() {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return;\n          } else {\n            return __element;\n          }\n        },\n\n        setElement(element) {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return;\n          }\n          __element = $(element);\n          $(element).empty();\n          handleEvents();\n        },\n\n        getTemplate() {\n          if (!__template) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.viewHasNoTemplate)\n            return;\n          } else {\n            return __template;\n          }\n        },\n\n        setTemplate(template) {\n          if (!template) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noTemplateToSetToView)\n            return;\n          } else {\n            __template = template.replace(__re, 'src');\n            parsedTemplate = parseView(__template);\n          }\n        },\n\n        bindModel(model) {\n          if (!model) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noModelToBindToView);\n            return;\n          }\n          this.unbindModel(__model);\n          __model = model;\n          bindToModel(__model, view);\n        },\n\n        unbindModel() {\n          if (__model) {\n            const pos = __model.boundViews.findIndex(function(view) {\n              return view.id = __id;\n            })\n            __model.boundViews.splice(pos,1);\n          }\n        },\n\n        getModel() {\n          if (__model) {\n            return __model\n          } else {\n            if ($.supressErrorMessages) return;\n            console.error(errors.viewHasNoModel)\n          }\n        },\n\n        isRendered() {\n          return __rendered;\n        },\n\n        isEmpty() {\n          if (!__element) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noElementForView)\n            return;\n          }\n          if (__element[0].children.length) {\n            return false;\n          } else {\n            return true;\n          }\n        },\n\n        addEvent(events, replace) {\n          if (!events) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noEventsToAdd);\n            return;\n          }\n          if (replace) {\n            __events = events & events.length ? events : [events];\n          } else {\n            if (events && events.length) {\n              events.forEach(event => {\n                __events.push(event)\n              });\n            } else if (events) {\n              __events.push(events);\n            }\n          }\n          handleEvents();\n        },\n\n        /**\n         * options: event, element (for a delegated event), callback\n         */\n        off(event, element, callback) {\n          __element.off(event, element, callback);\n        },\n\n        safeHTML(boolean) {\n          if (boolean) {\n            __safeHTML = true;\n          }\n        },\n\n        isEscapingHTML() {\n          return !__safeHTML;\n        },\n\n        getData() {\n          if (__data) {\n            return __data\n          } else {\n            if ($.supressErrorMessages) return;\n            console.error(errors.viewHasNoData);\n            return;\n          }\n        },\n\n        setData(data) {\n          if (!data) {\n            if ($.supressErrorMessages) return;\n            console.error(errors.noDataToSetForView);\n            return;\n          }\n          if (data) {\n            __data = data;\n          }\n        },\n\n        mount() {\n          __element = $(__origElement);\n          handleEvents();\n        }\n\n      });\n      return view;\n    }\n  }); \n})();\n\n/**\n * ChocolateChip-UI - Component Factory.\n */\n$.extend({\n  Component: options => {\n    const comp = $.Component;\n    $[options.name] = () => {\n      comp.options = options;\n      delete comp.options.name\n      return $.View(comp.options);\n    };\n  }\n});\n\n/**\n * Promise Polyfill.\n */\n(function() {\n  /**\n   * Define polyfill for ES6 Promises: \n   */\n\n  let extend = undefined;\n  let cycle = undefined;\n  let queue = undefined;\n  extend = function(obj, name, val, config) {\n    return Object.defineProperty(obj, name, {\n      value: val,\n      writable: true,\n      configurable: config !== false\n    });\n  };\n  queue = (function() {\n    let first = undefined;\n    let last = undefined;\n    let item = undefined;\n    function Item(func, self) {\n      this.func = func;\n      this.self = self;\n      this.next = undefined;\n    }\n    return {\n      add(func, self) {\n        item = new Item(func, self);\n        if (last) {\n          last.next = item;\n        } else {\n          first = item;\n        }\n        last = item;\n        item = undefined;\n      },\n      unshift() {\n        let f = first;\n        first = last = cycle = undefined;\n        while (f) {\n          f.func.call(f.self);\n          f = f.next;\n        }\n      }\n    };\n  })();\n  function schedule(func, self) {\n    queue.add(func, self);\n    if (!cycle) {\n      cycle = setTimeout(queue.unshift);\n    }\n  }\n  /**\n   * Check that Promise is thenable: \n   */\n  function isThenable(obj) {\n    let _then = undefined;\n    let obj_type = typeof obj;\n    if (obj !== null &&\n      (obj_type === \"object\" || obj_type === \"function\")) {\n      _then = obj.then;\n    }\n    return typeof _then === \"function\" ? _then : false;\n  }\n  function notify() {\n    for (let i = 0; i < this.chain.length; i++) {\n      notifyIsolated(this, (this.state === 1) ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n    }\n    this.chain.length = 0;\n  }\n  function notifyIsolated(self, callback, chain) {\n    let ret = undefined;\n    let _then = undefined;\n    try {\n      if (callback === false) {\n        chain.reject(self.msg);\n      } else {\n        if (callback === true) {\n          ret = self.msg;\n        } else {\n          ret = callback.call(undefined, self.msg);\n        }\n        if (ret === chain.promise) {\n          chain.reject(new TypeError(\"Promise-chain cycle\"));\n        } else if (_then = isThenable(ret)) { // jshint ignore:line\n          _then.call(ret, chain.resolve, chain.reject);\n        } else {\n          chain.resolve(ret);\n        }\n      }\n    } catch (err) {\n      chain.reject(err);\n    }\n  }\n  function resolve(msg) {\n    let _then = undefined;\n    let deferred = undefined;\n    let self = this;\n    if (self.triggered) {\n      return;\n    }\n    self.triggered = true;\n    if (self.deferred) {\n      self = self.deferred;\n    }\n    try {\n      if (_then = isThenable(msg)) {  // jshint ignore:line\n        schedule(function() {\n          const deferred_wrapper = new MakeDeferred(self);\n          try {\n            _then.call(msg, function() { resolve.apply(deferred_wrapper, arguments); }, function() { reject.apply(deferred_wrapper, arguments); });\n          } catch (err) {\n            reject.call(deferred_wrapper, err);\n          }\n        });\n      } else {\n        self.msg = msg;\n        self.state = 1;\n        if (self.chain.length > 0) {\n          schedule(notify, self);\n        }\n      }\n    } catch (err) {\n      reject.call(new MakeDeferred(self), err);\n    }\n  }\n  function reject(msg) {\n    let self = this;\n    if (self.triggered) {\n      return;\n    }\n    self.triggered = true;\n    if (self.deferred) {\n      self = self.deferred;\n    }\n    self.msg = msg;\n    self.state = 2;\n    if (self.chain.length > 0) {\n      schedule(notify, self);\n    }\n  }\n  function iteratePromises(Constructor, arr, resolver, rejecter) {\n    for (let idx = 0; idx < arr.length; idx++) {\n      (function IIFE(idx) {\n        Constructor.resolve(arr[idx])\n          .then(function(msg) {\n          resolver(idx, msg);\n        }, rejecter);\n      })(idx);\n    }\n  }\n  function MakeDeferred(self) {\n    this.deferred = self;\n    this.triggered = false;\n  }\n  function Deferred(self) {\n    this.promise = self;\n    this.state = 0;\n    this.triggered = false;\n    this.chain = [];\n    this.msg = undefined;\n  }\n  function Promise(executor) {\n    if (typeof executor !== \"function\") {\n      throw new TypeError(\"Not a function\");\n    }\n    if (this.isValidPromise !== 0) {\n      throw new TypeError(\"Not a promise\");\n    }\n    /**\n     * Indicate the Promise is initialized:\n     */\n    this.isValidPromise = 1;\n    let deferred = new Deferred(this);\n    this.then = function(success, failure) {\n      let obj = {\n        success: typeof success === \"function\" ? success : true,\n        failure: typeof failure === \"function\" ? failure : false\n      };\n      /**\n       * `.then()` can be used against a different promise constructor for making a chained promise. \n       */\n      obj.promise = new this.constructor(function extractChain(resolve, reject) {\n        if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n          throw new TypeError(\"Not a function\");\n        }\n        obj.resolve = resolve;\n        obj.reject = reject;\n      });\n      deferred.chain.push(obj);\n      if (deferred.state !== 0) {\n        schedule(notify, deferred);\n      }\n      return obj.promise;\n    };\n    this.catch = function(failure) {\n      return this.then(undefined, failure);\n    };\n    try {\n      executor.call(undefined, function(msg) {\n        resolve.call(deferred, msg);\n      }, function(msg) {\n        reject.call(deferred, msg);\n      });\n    } catch (err) {\n      reject.call(deferred, err);\n    }\n  }\n  const PromisePrototype = extend({}, \"constructor\", Promise, false);\n  extend(Promise, \"prototype\", PromisePrototype, false);\n\n  /**\n   * Check if Promise is initialized: \n   */\n  extend(PromisePrototype, \"isValidPromise\", 0, false);\n  extend(Promise, \"resolve\", function(msg) {\n    const Constructor = this;\n\n    /**\n     * Make sure it is a valide Promise: \n     */\n    if (msg && typeof msg === \"object\" && msg.isValidPromise === 1) {\n      return msg;\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      resolve(msg);\n    });\n  });\n  extend(Promise, \"reject\", function(msg) {\n    return new this(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      reject(msg);\n    });\n  });\n  extend(Promise, \"all\", function(arr) {\n    const Constructor = this;\n\n    /**\n     * Make sure argument is an array: \n     */\n    if (Object.prototype.toString.call(arr) !== \"[object Array]\") {\n      return Constructor.reject(new TypeError(\"Not an array\"));\n    }\n    if (arr.length === 0) {\n      return Constructor.resolve([]);\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      const len = arr.length;\n      let msgs = new Array(len);\n      let count = 0;\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        msgs[idx] = msg;\n        if (++count === len) {\n          resolve(msgs);\n        }\n      }, reject);\n    });\n  });\n  extend(Promise, \"race\", function(arr) {\n    const Constructor = this;\n\n    /**\n     * Make sure argument is an array: \n     */\n    if (Object.prototype.toString.call(arr) !== \"[object Array]\") {\n      return Constructor.reject(new TypeError(\"Not an array\"));\n    }\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve !== \"function\" || typeof reject !== \"function\") {\n        throw new TypeError(\"Not a function\");\n      }\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        resolve(msg);\n      }, reject);\n    });\n  });\n\n  /**\n   * If native Promise exists in window, do not use this. \n   */\n  if (\"Promise\" in window && \"resolve\" in window.Promise && \"reject\" in window.Promise && \"all\" in window.Promise && \"race\" in window.Promise) {\n    return;\n  } else {\n\n    /**\n     * Otherwise do use this: \n     */\n    return window.Promise = Promise;\n  }\n})();\n\n/**\n * Fetch polyfill\n */\n(function() {\n\n  /**\n   *\n   * JSONP with API like fetch.\n   */\n  $.extend({\n    /* Container for jsonp methods: */\n    JSONPCallbacks: [],\n    /* JSONP method: */\n    jsonp: function(url, opts) {\n      var settings = {\n        timeout: 2000,\n        callbackName: 'callback',\n        clear: true\n      };\n      if (opts) {\n        $.extend(settings, opts);\n      }\n      /** \n       * Method to create callback: \n       */\n      function generateCallbackName() {\n        const callbackName = settings.callbackName + '_' + ($.JSONPCallbacks.length + 1);\n        $.JSONPCallbacks.push(callbackName);\n        return callbackName;\n      }\n      const callbackName = generateCallbackName();\n      /** \n       * Create and return Promise with result from request: \n       */\n      return new Promise(function(resolve, reject) {\n        let timeout = undefined;\n        window.jsonp = window.jsonp || {};\n        window.jsonp[callbackName] = function(response) {\n          resolve({\n            ok: true,\n            json: function() {\n              return Promise.resolve(response);\n            }\n          });\n          if (timeout) {\n            clearTimeout(timeout);\n          }\n        };\n        /** \n         * Create script tag: \n         */\n        const script = document.createElement('script');\n        script.async = true;\n        script.defer = true;\n        script.src = url + (url.indexOf('?') > -1 ? '&' : '?') + 'callback=jsonp.' + callbackName;\n        document.body.appendChild(script);\n        /** \n         * Delete script tag: \n         */\n        setTimeout(function() {\n          script.parentNode.removeChild(script);\n        });\n        /** \n         * Clear JSONP methods from window: \n         */\n        if (settings.clear) {\n          const pos = $.JSONPCallbacks.indexOf(callbackName);\n          $.JSONPCallbacks.splice(pos, 1);\n        }\n        /** \n         * Handle timeout: \n         */\n        timeout = setTimeout(function() {\n          reject(new Error('JSONP request to ' + url + ' timed out'));\n        }, settings.timeout);\n      });\n    },\n    /**\n     * Helper function for fetch Promises.\n     * Returns the respons as parsed JSON.\n     * Usage: .then($.json)\n     */\n    json: function(response) {\n      return response.json();\n    }\n  });\n  if (window && window.fetch) {\n    return;\n  }\n  const self = window;\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name');\n    }\n    return name.toLowerCase();\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value;\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    let list = this.map[name];\n    if (!list) {\n      list = [];\n      this.map[name] = list;\n    }\n    list.push(value);\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    const values = this.map[normalizeName(name)];\n    return values ? values[0] : null;\n  };\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || [];\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name));\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)];\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this);\n      }, this);\n    }, this);\n  };\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'));\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    });\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    const reader = new FileReader();\n    reader.readAsArrayBuffer(blob);\n    return fileReaderReady(reader);\n  }\n\n  function readBlobAsText(blob) {\n    const reader = new FileReader();\n    reader.readAsText(blob);\n    return fileReaderReady(reader);\n  }\n\n  const support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true;\n      } catch(e) {\n        return false;\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function Body() {\n    this.bodyUsed = false;\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (!body) {\n        this._bodyText = '';\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        /** \n         * Only support ArrayBuffers for POST method.\n         * Receiving ArrayBuffers happens via Blobs, instead.\n         */\n      } else {\n        throw new Error('unsupported BodyInit type');\n      }\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        const rejected = consumed(this);\n        if (rejected) {\n          return rejected;\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob);\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob');\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]));\n        }\n      };\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer);\n      };\n\n      this.text = function() {\n        const rejected = consumed(this);\n        if (rejected) {\n          return rejected;\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob);\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text');\n        } else {\n          return Promise.resolve(this._bodyText);\n        }\n      };\n    } else {\n      this.text = function() {\n        const rejected = consumed(this);\n        return rejected ? rejected : Promise.resolve(this._bodyText);\n      };\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode);\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse);\n    };\n\n    return this;\n  }\n\n  /** \n   * HTTP methods whose capitalization should be normalized. \n   */\n  const methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    const upcased = method.toUpperCase();\n    return (methods.indexOf(upcased) > -1) ? upcased : method;\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    let body = options.body;\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read');\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      if (!body) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = input;\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests');\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this);\n  };\n\n  function decode(body) {\n    const form = new FormData();\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        const split = bytes.split('=');\n        const name = split.shift().replace(/\\+/g, ' ');\n        const value = split.join('=').replace(/\\+/g, ' ');\n        form.append(decodeURIComponent(name), decodeURIComponent(value));\n      }\n    });\n    return form;\n  }\n\n  function headers(xhr) {\n    const head = new Headers();\n    const pairs = xhr.getAllResponseHeaders().trim().split('\\n');\n    pairs.forEach(function(header) {\n      const split = header.trim().split(':');\n      const key = split.shift().trim();\n      const value = split.join(':').trim();\n      head.append(key, value);\n    });\n    return head;\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = options.statusText;\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    });\n  };\n\n  Response.error = function() {\n    const response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response;\n  };\n\n  const redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code');\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      let request = undefined;\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input;\n      } else {\n        request = new Request(input, init);\n      }\n\n      const xhr = new XMLHttpRequest();\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL;\n        }\n\n        /* Avoid security warnings on getResponseHeader when not allowed by CORS */\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL');\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        const options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        const body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    });\n  };\n  self.fetch.polyfill = true;\n})();\n\n/** \n * Array extras for managing collections of objects.\n * Provides the following methods: find, findIndex,\n * pluck, difference, intersection, merge, unique.\n */\n\nif (!Array.prototype.find) {\n  $.extend(Array.prototype, {\n    find(predicate) {\n      if (this == null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      let list = Object(this);\n      let length = list.length >>> 0;\n      let thisArg = arguments[1];\n      let value = undefined;\n\n      for (let i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  })\n}\nif (!Array.prototype.findIndex) {\n  $.extend(Array.prototype, {\n    findIndex(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.findIndex called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      let list = Object(this);\n      let length = list.length >>> 0;\n      let thisArg = arguments[1];\n      let value = undefined;\n\n      for (let i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  })\n}\n\nif (!Array.prototype.pluck) {\n  $.extend(Array.prototype, {\n    pluck(p) {\n      return this.map(function(prop) {\n        return prop[p];\n      })\n    }\n  })\n}\n\nif (!Array.prototype.difference) {\n  $.extend(Array.prototype, {\n    difference(a) {\n      return this.filter(function(after) {\n        return !a.reduce(function(found, before) {\n          if (!found) {\n            found = true;\n            for (let key in before) {\n              if (before.hasOwnProperty(key)) {\n                  found = found && (before[key] === after[key]);\n              }\n            }\n          }\n          return found;\n        }, false);\n      });\n    }\n  })\n}\n\nif (!Array.prototype.intersection) {\n  $.extend(Array.prototype, {\n    intersection(array) {\n      const self = this;\n      const arr1 = self.difference(array);\n      const arr2 = array.difference(this);\n      const totalDiff = arr1.concat(arr2);\n      const total = self.concat(array);\n      return total.difference(totalDiff).unique()\n    }\n  })\n}\n\nif (!Array.prototype.mixin) {\n  $.extend(Array.prototype, {\n    mixin(array) {\n      return this.unique(this.concate(array));\n    }\n  })\n}\n\nif (!Array.prototype.unique) {\n  $.extend(Array.prototype, {\n    unique() {\n      const len = this.length;\n      let obj = {};\n      let ret = [];\n      for (let i = 0; i < len; i++) {\n        const arrayItem = JSON.stringify(this[i]);\n        const arrayItemValue = this[i];\n        if (obj[arrayItem] === undefined) {\n          ret.push(arrayItemValue);\n          obj[arrayItem] = 1;\n        } else {\n          obj[arrayItem]++;\n        }\n      }\n      return ret;\n    }\n  })\n}\n\n/**\n * ChocolateChip-UI Model Factory.\n */\n(() => {\n  const ModelErrorMessages = {\n    en: {\n      noPropertyOrDataError: \"ChocolateChip-UI Model Error: No property or data were provided to set on the model.\",\n      noPropertyToSet: \"ChocolateChip-UI Model Error: No data was provided to set on the model's property.\",\n      noPropertyToDelete: \"ChocolateChip-UI Model Error: No property was provided to delete from the model.\",\n      noObjectToMerge: \"ChocolateChip-UI Model Error: No object was provided to merge into the model's data.\",\n      incorrectDataForMerging: \"ChocolateChip-UI Model Error: An incorrect type of data was provided for merging into the model. You must use a proper object for this model.\",\n      noObjForMixin: \"ChocolateChip-UI Model Error: No object was passed to the mixin. Please provide one.\",\n      noCallbackForModelOn: \"ChocolateChip-UI Model Error: No callback was provided for the model `on` event. Without it the event cannot work. Please provide one.\",\n      noEventForModelOn: \"ChocolateChip-UI Model Error: No event was provided for the model's `on` handler. Without an event the handler cannot work. Please provide one an event and a callback to handle the event.\",\n      noEventForModelTrigger: \"ChocolateChip-UI Model Error: No event was provided for the model trigger. Without it no event can be triggered. Please provide one.\",\n      noPosForEventDeletion: \"ChocolateChip-UI Model Error: No position was provided for the callback to be deleted from the model events. Please provide one.\",\n      noPosForPropAt: \"ChocolateChip-UI Model Error: No position was provided for getting a property on the model's collection. Please provide one.\",\n      noPropForPropAt: \"ChocolateChip-UI Model Error: No property was provided. Without one we cannot get the property from the model collection. Please provide a property and the position in the collection to get it.\",\n      noValForPropEquals: \"ChocolateChip-UI Model Error: No value was provided to use for getting an object property. Please provide one.\",\n      noPropForPropEquals: \"ChocolateChip-UI Model Error: No property or value was provided. Without them we cannot get an object whose property equals some value in this model.\",\n      noPosForSetPropAt: \"ChocolateChip-UI Model Error: No position was provided for setting a property in the model collection. Please provide one.\",\n      noValueForSetPropAt: \"ChocolateChip-UI Model Error: No value or position was provided for setting an object by property in the model collection. Please provide a value and a position.\",\n      noPropForSetPropAt: \"ChocolateChip-UI Model Error: No property, value or position were provided for setting the value of an object in the model collection. Please provide a property, value and position to set on the model.\",\n      noValueForPropEquals: \"ChocolateChip-UI Model Error: No value was provided. With a value, we cannot find a matching object in the model collection. Please provide one\",\n      noPropForPropEquals: \"ChocolateChip-UI Model Error: No property or value were provided. Without these we cannot find a matching object in the model collection. Please provide both of them.\",\n      noDataToPushToModel: \"ChocolateChip-UI Model Error: No data was provided to push onto the model collection.\",\n      noDataForShiftToModel: \"ChocolateChip-UI Model Error: No data was provided to insert at the beginning of the model collection.\",\n      noEndForModelSlice: \"ChocolateChip-UI Model Error: No end value was provided to slice the model collection. Please provide a numeral value.\",\n      noStartModelForSlice: \"ChocolateChip-UI Model Error: No start value was provided for slicing the model collection. Please provide both a start and end numeral value so that we can slice the model collection for you.\",\n      noEndForModelSplice: \"ChocolateChip-UI Model Error: No end position was provided to splice the model collection. Please provide one.\",\n      noStartForModelSplice: \"ChocolateChip-UI Model Error: No start position was provided for splicing the model collection. Please provide a start and end position for splicing the model collection.\",\n      noDataToInsertInModel: \"ChocolateChip-UI Model Error: No data was provided to insert into the model collection. Was expecting an object, but found nothing. Please provide some an object of data.\",\n      noPosToInserInModel: \"ChocolateChip-UI Model Error: No position was provided to insert data into the model collection. Please provide a position and some data to insert in the model colleciton.\",\n      noPropForPlucking: \"ChocolateChip-UI Model Error: No property was provided to pluck from the model collection. Please provide a property.\",\n      noCallbackForModelFind: \"ChocolateChip-UI Model Error: No callback was provided as an argument for the find on the model collection. Please provide one.\",\n      noElementForIndexOf: \"ChocolateChip-UI Model Error: No element was provided for finding the index of an object in the model collection. Please provide one.\",\n      noDataToConcat: \"ChocolateChip-UI Model Error: No data was provided to concat to this model. Did you forget to provide the data?\",\n      noPropsForSortBy: \"ChocolateChip-UI Model Error: No property was provided for sorting. Without a property we cannot sort.\",\n      noEventForEventDeletion: \"ChocolateChip-UI Model Error: No event was provided to delete the callback for this model. Please provide both and event and an array position for the callback. An event can have more than one callback registered to it.\",\n      noCallbackForForEach: \"ChocolateChip-UI Model Error: No callback was provided for the forEach method. This is required.\",\n      noDataToReplaceInModel: \"ChocolateChip-UI Model Error: No data was provided to replace the data in the model. If you want to do so, please provide some data to complete this operation. Otherwise, if you are trying to empty the model, use `purge()`.\",\n      modelHasNoDataToReturn: \"ChocolateChip-UI Model Error: This model has no data associated with it. Perhaps you forgot to give it any data when you created it.\"\n    },\n    es: {\n      noPropertyOrDataError: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad ni datos para establecer el valor del modelo.\",\n      noPropertyToSet: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningunos datos para establecer el valor de una propiedad del modelo.\",\n      noPropertyToDelete: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad para eliminar del modelo.\",\n      noObjectToMerge: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó objeto de fundirse en los datos del modelo.\",\n      incorrectDataForMerging: \"Hubo Error de Modelo ChocolateChip-UI: Se proporcionó un tipo incorrecto de los datos con el fin de fundirse en el modelo. Debe utilizar un objeto adecuado para este modelo.\",\n      noObjForMixin: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún objeto al mixin. Por favor proporcione uno.\",\n      noCallbackForModelOn: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback para el event `on` del modelo. Sin ella el evento no puede funcionar. Por favor proporcione una.\",\n      noEventForModelOn: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún evento para la función del evento `on` del modelo.Sin un evento la función no puede realizarse. Por favor proporcione un evento.\",\n      noEventForModelTrigger: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún evento para el gatillo del modelo. Sin él no se puede disparar ningún evento. Por favor proporcione uno.\",\n      noPosForEventDeletion: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback la cual se puede eliminar de los eventos del modelo. Por favor proporcione una.\",\n      noPosForPropAt: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición para acceder a una propiedad en la colección del modelo. Por favor proporcione una.\",\n      noPropForPropAt: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninugna propiedad. Sin una no se puede acceder a una propiedad en la colección del modelo. Por favor proporcione una propiedad y una posición en la colección para acceder a ella.\",\n      noValForPropEquals: \"Hubo Error de Modelo ChocolateChip-UI: No se proporiconó ningún valor para acceder a una propiedad de un objeto. Por favor proprocione uno.\",\n      noPropForPropEquals: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningúna propiedad ni valor. Sin ellos no podemos acceder a un objeto que tenga propiedad del mismo valor en este modelo.\",\n      noPosForSetPropAt: \"Hubo Error de Modelo ChocolateChip-UI: No se proprocionó ninguna posición para establecer una propiedad en la colección del modelo. Por favor proporcione una.\",\n      noValueForSetPropAt: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninún valor ni posición para actualizar un objeto en la colección del modelo. Por favor proporcione un valor y una posición.\",\n      noPropForSetPropAt: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ninunga propiedad, valor ni posición para establecer el valor de un objeto en la colección del modelo. Por favor proporcione una propiedad, valor y posición para actualizar el objeto.\",\n      noValueForPropEquals: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún valor. Sin algún valor no podemos encontrar a un objeto idéntico en la colección del modelo. Por favor proporcione uno.\",\n      noPropForPropEquals: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad ni valor. Sin ellos no podemos encontrar un objeto de iqual valor en la colección del modelo. Por favor proporcione los dos.\",\n      noDataToPushToModel: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para añadir al fin de la colección del modelo.\",\n      noDataForShiftToModel: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninungos datos para agregar al inicio de la colección del modelo.\",\n      noEndForModelSlice: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún valor final para extraer de la colección del modelo. Por favor proporcione un valor numérico.\",\n      noStartModelForSlice: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún valor inicial para extraer datos de la colección del modelo. Por favor proporcione un valor numérico inicial así como un final para que podamos extraer los datos de la colección del modelo.\",\n      noEndForModelSplice: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición final para realizar una acción de «splice» en la colección del modelo. Por favor proporcione una.\",\n      noStartForModelSplice: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición inicial para realizar una acción de «splice» en la colección del modelo. Por favor proporcione una.\",\n      noDataToInsertInModel: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para insertar en la colección del modelo. Se esperaba un objeto, pero no se encontró nada. Por favor proporcione un objeto de datos.\",\n      noPosToInserInModel: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna posición para saber en dónde insertar los datos en la colección del modelo. Por favor proporcione una posición de valor numérico y unos datos para insertar en la colección del modelo.\",\n      noPropForPlucking: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad para extraerla de la colección del modelo. Por favor proporcione una propiedad.\",\n      noCallbackForModelFind: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback como parámetro a fin de realizar una búsqueda en la colección del modelo. Por favor proporcione una.\",\n      noElementForIndexOf: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningun element a fin de averiguar el índice de un objeto en la colección del modelo. Por favor proporcione una.\",\n      noDataToConcat: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para concatenar en este modelo. ¿Se le olvidó proporcionar los datos?\",\n      noPropsForSortBy: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna propiedad. Sin una no se puede ordenar los datos del modelo.\",\n      noEventForEventDeletion: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ningún evento a fin de eliminar la función callback de este modelo. Por favor proporcione tanto un evento como una posición en la colección para la callback que se quiere eliminar. Es posible que un evento tenga más de una callback registrada a él.\",\n      noCallbackForForEach: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionó ninguna función callback para el método «forEach». Ésta se requiere.\",\n      noDataToReplaceInModel: \"Hubo Error de Modelo ChocolateChip-UI: No se proporcionaron ningunos datos para reemplazar los del modelo. Si es lo que usted quiere hacer, por favor proporicone unos datos para realizar esta operación. En otro caso, si el propósito de esta operación es el de vaciar el modelo, use `purge()`.\",\n      modelHasNoDataToReturn: \"Hubo Error de Modelo ChocolateChip-UI: Este modelo no tiene datos suyos. Quizás se le olvidó asignarselos cuando lo creó.\"\n    }\n  };\n\n  let errors = undefined;\n  if ($('html').attr('lang') == 'en') errors = ModelErrorMessages.en;\n  if ($('html').attr('lang') == 'es') errors = ModelErrorMessages.es;\n\n  const dataStore = {\n    id: $.uuid()\n  };\n\n  class Model {\n    constructor (data) {\n      this.id = $.uuid();\n      this[dataStore] = data;\n      this.events = {};\n      this.stopped = false;\n      this.boundViews = [];\n    }\n\n    /**\n     * This method is used internally by the model to update any views bound to it. There is never a situation where you will need to use it. It gets invoked whenever you perform an operation that changes the model's data.\n     */\n    updateBoundViews() {\n      /* No bound views, so exit: */\n      if (!this.boundViews || !this.boundViews.length) {\n        return;\n      }\n\n      /** \n       * Loop thru bound views to render: \n       */\n      this.boundViews.forEach(function(view) {\n        view.render();\n      })\n    }\n\n    /**\n     * Set model state to `stopped`. Used to determine whether to execute a model event. \n     */\n    stop() {\n     this.stopped = true\n    }\n\n    /** \n     * Set model state to run: \n     */\n    start() {\n      this.stopped = false\n    }\n\n    /** \n     * Check if model is stopped; \n     */\n    isStopped() {\n      return this.stopped\n    }\n\n    /** \n     * Get the value of an object property.\n     * This only works when the model's data is an object.\n     * If used without parameter, will return all data from model, whether object or array. \n     */\n    get(property) {\n      if (property && $.type(this[dataStore]) === 'object') {\n        return this[dataStore][property];\n      } else {\n        return this[dataStore]\n      }\n    }\n\n    /** \n     * Set the value of an object property.\n     * This only works when the model's data is an object.\n     */\n    set(property, data) {\n      if (!property) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropertyOrDataError)\n        return;\n      } else if (!data) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropertyToSet + property)\n        return;\n      }\n      if ($.type(this[dataStore]) === 'object') {\n        this[dataStore][property] = data;\n        this.updateBoundViews();\n      }\n    }\n\n    /** \n     * Clear out the model's data.\n     * Works with models with objects or arrays.\n     */\n    purge() {\n      if ($.type(this[dataStore]) === 'object') {\n        this[dataStore] = {}\n      } else if ($.type(this[dataStore]) === 'array') {\n        this[dataStore] = [];\n      } else {\n        this[dataStore] = undefined;\n      }\n    }\n\n    /**\n     * Merge new object into model's object.\n     * This only works when the model's data is an object.\n     * Will replace any existing properties of the same name.\n     */\n    merge(obj) {\n      if (!obj) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noObjectToMerge);\n        return;\n      } else if ($.type(obj) !== 'object') {\n        if ($.supressErrorMessages) return;\n        console.error(errors.incorrectDataForMerging)\n      } else if ($.type(this[dataStore]) === 'object') {\n        for (let key in obj) {\n          this[dataStore][key] = obj[key];\n        }\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Mixin new object into model's object.\n     * This only works when the model's data is an object.\n     * This will not replace any existing properties of the same name.\n     * Only new properties will be added.\n     */\n    mixin(data) {\n      if (!data) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noObjForMixin);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'object') {\n        for (let key in data) {\n          /** \n           * Do not replace property if it exists: \n           */\n          if (!(key in this[dataStore])) {\n            this[dataStore][key] = data[key];\n            this.updateBoundViews();\n          }\n        }\n      } else if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].concat(data).unique();\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Replace the data of the model with the provided data.\n     * This works for models of an object or array.\n     */\n    replace(data, renderView) {\n      if (data) {\n        this[dataStore] = data;\n        this.updateBoundViews(this);\n      } else {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noDataToReplaceInModel)\n      }\n    }\n\n    /**\n     * Remove a property from a model's data.\n     * Only works if the data is an object.\n     */\n    remove(prop) {\n      if (!prop) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropertyToDelete);\n        return;\n      }\n      if ($.type(this[dataStore]) !== 'object') return;\n      delete this[dataStore][prop];\n      this.updateBoundViews();\n    }\n\n    /**\n     * Register an event on the model:\n     */\n    on(event, callback) {\n      if (this.stopped) return;\n      if (!callback) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noCallbackForModelOn);\n        return;\n      } else if (!event) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noEventForModelOn);\n        return;\n      }\n      if (!this.events[event]) {\n        this.events[event] = [callback];\n      } else {\n        this.events[event].push(callback)\n      }\n    }\n\n    /**\n     * Trigger an event on the model:\n     */\n    trigger(event, data) {\n      if (this.stopped) return;\n      if (!event) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noEventForModelTrigger);\n        return;\n      }\n      data != undefined ? data : {}\n      this.events[event].forEach(item => {\n          item(data);\n      });\n    }\n\n    /**\n     * Remove an event on the model.\n     * If no event is provided, all events will be removed.\n     */\n    off(event) {\n      if (!event) {\n        this.events = {};\n      } else {\n        delete this.events[event];\n      }\n    }\n\n    /**\n     * Array specific methods:\n     */\n\n    getPropAt(property, position) {\n      if (position === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPosForPropAt);\n        return;\n      } else if (!property) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropForPropAt);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore][position][property];\n      }\n    }\n\n    setPropAt(property, value, position) {\n      if (position === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPosForSetPropAt);\n        return;\n      } else if (!value) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noValueForSetPropAt);\n        return;\n      } else if (!property) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropForSetPropAt);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array') {\n        this[dataStore][position][property] = value;\n        this.updateBoundViews();\n      }\n    }\n\n    push(data) {\n      if (!data) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noDataToPushToModel);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].push(data);\n        this.updateBoundViews();\n      }\n    }\n\n    pop() {\n      if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].pop();\n        this.updateBoundViews();\n      }\n    }\n\n    unshift(data) {\n      if (!data) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noDataForShiftToModel);\n        return;\n      } else if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].unshift(data);\n        this.updateBoundViews();\n      }\n    }\n          \n    shift() {\n      if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].shift();\n        this.updateBoundViews();\n      }\n    }\n\n\n    slice(start, end) {\n      if (end === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noEndForModelSlice);\n        return;\n      } else if (start === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noStartModelForSlice);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore].slice(start, end)\n      }\n    }\n\n    splice(start, end, data) {\n      if (end === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noEndForModelSplice);\n        return;\n      } else if (start === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noStartForModelSplice);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array' && data) {\n        this[dataStore].splice(start, end, data);\n        this.updateBoundViews();\n      } else if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].splice(start, end);\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Instert an object into the model's array at the designated position:\n     */\n    insert(position, data) {\n      if (data === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noDataToInsertInModel);\n        return;\n      } else if (position === undefined) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPosToInserInModel);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array') {\n        this[dataStore].splice(position, 0, data);\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Get an array of the provided property values in the model's array:\n     */\n    pluck(property) {\n      if (!property) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropForPlucking);\n        return;\n      } else {\n        let ret = [];\n        if (this[dataStore] && this[dataStore].length) {\n          const len = this[dataStore].length;\n          for (let i = 0; i < len; i++) {\n            ret.push(this[dataStore][i][property]);\n          }\n          return ret;\n        }\n      }\n    }\n\n    /**\n     * \n     */\n    indexOf(element, startFrom) {\n      if (!element) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noElementForIndexOf);\n        return;\n      } else if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore].indexOf(element, startFrom);\n      }\n    }\n\n    /**\n     * This method lets you pass a callback that checks for a property or other state in the array's items and return the match. It returns the first match only.\n     */\n    find(callback) {\n      if (!callback) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noCallbackForModelFind);\n        return;\n      } else if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore].find(callback);\n      }\n    }\n\n    findIndex(callback) {\n      if (!callback) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noCallbackFoFindIndex);\n        return;\n      } else if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore].findIndex(callback);\n      }\n    }\n\n    forEach(callback) {\n      if (!callback) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noCallbackForForEach);\n        return;\n      }\n      if (this[dataStore] && this[dataStore].length) {\n        let value = undefined;\n        let i = -1;\n        const len = this[dataStore].length;\n        while (++i < len) {\n          value = callback.call(this[dataStore][i], this[dataStore][i], i);\n          if (value === false) {\n            break;\n          }\n        }\n      }\n    }\n\n    filter(...args) {\n      if (this[dataStore] && this[dataStore].length) {\n        return this[dataStore].filter.apply(this[dataStore], args);\n      }\n    }\n\n    map(...args) {\n      if (this[dataStore] && this[dataStore].length) {\n        return this[dataStore].map.apply(this[dataStore], args);\n      }\n    }\n\n    reverse() {\n      if (this[dataStore] && this[dataStore].length) {\n        this[dataStore].reverse();\n        this.updateBoundViews();\n      }\n    }\n\n    sort(compareFunction) {\n      if (this[dataStore] && this[dataStore].length) {\n        if (compareFunction) {\n          this[dataStore].sort(compareFunction);\n          this.updateBoundViews();\n        } else {\n          this[dataStore].sort();\n          this.updateBoundViews();\n        }\n      }\n    }\n\n    /**\n     * Sort the model's array based on passed properties. By default the ordering is ascendeing. By prefixing the property with a hyphen, the order will be descending. You can use more than one property separated by commas.\n     */\n    orderBy(...props) {\n      if (!props || !props.length) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noPropsForSortBy);\n        return;\n      }\n      const orderBy = (args) => {\n        return (a, b) => {\n          const sortByProperty = (property) => {\n            /** \n             * Default sort order: \n             */\n            let sortOrder = 1;\n            /** \n             * If user provided property with \"-\" prefix, make sort order descending: \n             */\n            if (property[0] === \"-\") {\n              sortOrder = -1;\n              /** \n               * Extract property from hyphen prefix: \n               */\n              property = property.substr(1);\n            }\n            /** \n             * Sort objects by provided properties:\n             */\n            return (a, b) => {\n              const result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n              return result * sortOrder;\n            };\n          };\n\n          /** \n           * Loop over all properties and sort objects based on those properties: \n           */\n          let i = 0;\n          let result = 0;\n          const numberOfProperties = props.length;\n          while (result === 0 && i < numberOfProperties) {\n            /** \n             * Use the private function to compare two values: \n             */\n            result = sortByProperty(props[i])(a, b);\n            i++;\n          }\n          return result;\n        };\n      };\n      if (this[dataStore] && this[dataStore].length) {\n        this[dataStore].sort(orderBy.apply(null, props));\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Concat and array of data to the model's array.\n     * After concating, it will remove any duplicates.\n     */\n    concat(data) {\n      if (!data) {\n        if ($.supressErrorMessages) return;\n        console.error(errors.noDataToConcat);\n        return;\n      }\n      if ($.type(this[dataStore]) === 'array') {\n        let temp = this[dataStore].concat(data);\n        this[dataStore] = temp;\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Remove any duplicates from the model's array:\n     */\n    unique() {\n      if ($.type(this[dataStore]) === 'array') {\n        let temp = this[dataStore].unique();\n        this[dataStore] = temp;\n        this.updateBoundViews();\n      }\n    }\n\n    /**\n     * Get an object out of the model's array based on its index:\n     */\n    eq(position) {\n      if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore][position]\n      }\n    } \n\n    /**\n     * Get the length of the model's array.\n     * Only works if the data is an array.\n     */\n    size() {\n      if ($.type(this[dataStore]) === 'array') {\n        return this[dataStore].length\n      }\n    }\n  }\n\n  $.extend({\n    Model: function(data) {\n      return new Model(data)\n    }\n  });\n\n})();\n\n/**\n * Check environment properties.\n */\n$.extend($, {\n  isiPhone: /iphone/img.test(navigator.userAgent),\n  isiPad: /ipad/img.test(navigator.userAgent),\n  isiPod: /ipod/img.test(navigator.userAgent),\n  isiOS: /ip(hone|od|ad)/img.test(navigator.userAgent),\n  isAndroid: (/android/img.test(navigator.userAgent) && !/trident/img.test(navigator.userAgent)),\n  isTouchEnabled: !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && 'createTouch' in document,\n  isOnline: navigator.onLine,\n  isStandalone: navigator.standalone,\n  isWebkit: (!/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /webkit/img.test(navigator.userAgent)),\n  isDesktop: (!/mobile/img.test(navigator.userAgent)),\n  isSafari: (!/edge/img.test(navigator.userAgent) && !/Chrome/img.test(navigator.userAgent) && /Safari/img.test(navigator.userAgent) && !/android/img.test(navigator.userAgent)),\n  isChrome: !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /Chrome/img.test(navigator.userAgent) && !((/samsung/img.test(navigator.userAgent) || /Galaxy Nexus/img.test(navigator.userAgent) || /HTC/img.test(navigator.userAgent) || /LG/img.test(navigator.userAgent)) && !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /android/i.test(navigator.userAgent) && /webkit/i.test(navigator.userAgent)),\n  isNativeAndroid: ((/samsung/img.test(navigator.userAgent) || /Galaxy Nexus/img.test(navigator.userAgent) || /HTC/img.test(navigator.userAgent) || /LG/img.test(navigator.userAgent)) && !/trident/img.test(navigator.userAgent) && !/edge/img.test(navigator.userAgent) && /android/i.test(navigator.userAgent) && /webkit/i.test(navigator.userAgent))\n});\n\n/**\n * Methods to handle color management and coversion.\n */\n$.extend({\n  /** \n   * Create a color object from provided color value.\n   * Handles three values:\n   * rgb(255,0,0) -- with or without spaces\n   * #ff0000\n   * #f00\n   * The returned object has two methods:\n   * myColor.toHex()\n   * myColor.toRGB()\n   *\n   * @constructor - Must use new keyword\n   * @param {string} color - A hex or rgb value.\n   * @return {object} ChuiColor\n   */\n  ChuiColor: function(color) {\n    this.ok = false;\n    /** \n     * console.log(color)\n     * Check for hex color value.\n     * String \"#\" if found.\n     */\n    if (color.charAt(0) == '#') {\n      color = color.substr(1,6);\n    }\n    color = color.toLowerCase();\n\n\n    /**\n     * Array of color format regex patterns.\n     * These will identify the format of the color provided above.\n     * The process function converts hex color values into decimal (rgb).\n     */\n    const colorRegex = [\n      {\n        /* Example: ['rgb(123, 234, 45)', 'rgb(255, 234, 245)'] */\n        re: /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/,\n        process: function(bits) {\n          return [\n            parseInt(bits[1]),\n            parseInt(bits[2]),\n            parseInt(bits[3])\n          ];\n        }\n      },\n      {\n        /* Example: ['#00ff00', '336699'] */\n        re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n        process: function(bits) {\n          return [\n            parseInt(bits[1], 16),\n            parseInt(bits[2], 16),\n            parseInt(bits[3], 16)\n          ];\n        }\n      },\n      {\n        /**\n         * Example: ['#fb0', 'f0f'] \n         */\n        re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n        process: function(bits) {\n          return [\n            parseInt(bits[1] + bits[1], 16),\n            parseInt(bits[2] + bits[2], 16),\n            parseInt(bits[3] + bits[3], 16)\n          ];\n        }\n      }\n    ];\n\n    /**\n     * Check for a match using each regex. \n     */\n    for (let i = 0; i < 3; i++) {\n      const re = colorRegex[i].re;\n      const processor = colorRegex[i].process;\n      const bits = re.exec(color);\n      if (bits) {\n        const channels = processor(bits);\n        this.r = channels[0];\n        this.g = channels[1];\n        this.b = channels[2];\n        this.ok = true;\n      }\n    }\n\n    /**\n     * Validate/cleanup values. \n     */\n    this.r = (this.r < 0 || isNaN(this.r)) ? 0 : ((this.r > 255) ? 255 : this.r);\n    this.g = (this.g < 0 || isNaN(this.g)) ? 0 : ((this.g > 255) ? 255 : this.g);\n    this.b = (this.b < 0 || isNaN(this.b)) ? 0 : ((this.b > 255) ? 255 : this.b);\n\n    this.toHex = function() {\n      let r = this.r.toString(16);\n      let g = this.g.toString(16);\n      let b = this.b.toString(16);\n      if (r.length == 1) r = '0' + r;\n      if (g.length == 1) g = '0' + g;\n      if (b.length == 1) b = '0' + b;\n      return '#' + r + g + b;\n    }\n\n    this.toRGB = function() {\n      return 'rgb(' + this.r +',' + this.g + ',' + this.b + ')';\n    }\n  },\n\n  /**\n   * Make global method to get brightness of provided color.\n   * This is based on the values of YIQ color formula.\n   * This method expects a color object created by $.ChuiColor.\n   */\n  getBrightness: function(color) {\n    if ($.type(color) === 'string') color = $.ChuiColor(color);\n    return (color.r * .299) + (color.g * .587) + (color.b * .114);           \n  },\n\n  /**\n   * Function to light a color.\n   * Expects a hex value as string and an integer as percent:\n   */\n  lightenColor: function(color, percent) {  \n    const num = parseInt(color.slice(1), 16);\n    const amt = Math.round(2.55 * percent);\n    let R = (num >> 16) + amt;\n    let G = (num >> 8 & 0x00FF) + amt;\n    let B = (num & 0x0000FF) + amt;\n    return \"#\" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);\n  },\n\n  /**\n   * Function to darken a color.\n   * Expects a hex value as string and an integer as percent:\n   */\n  darkenColor: function(color, percent) {  \n    const num = parseInt(color.slice(1), 16);\n    const amt = Math.round(2.55 * percent);\n    let R = (num >> 16) - amt;\n    let G = (num >> 8 & 0x00FF) - amt;\n    let B = (num & 0x0000FF) - amt;\n    return \"#\" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);\n  },\n\n  /**\n   * Method to calculate color contrast.\n   * It expects a hex or rgb value:\n   */\n  calculateBrightness: function(color) {\n    if ($.type(color) === 'object') color = color.toHex();\n    const kolor = new $.ChuiColor(color);\n    return $.getBrightness(kolor);\n  }\n});\n\n\n/**\n * ChocolateChip-UI Widget - Setup.\n */\n$(function () {\n  if (!/(mobile)|(ios)|(android)/img.test(navigator.userAgent)) {\n    $('body').addClass('isDesktop');\n  }\n  if ($('link[href*=ios]')[0]) {\n    $('body').addClass('themeIsiOS');\n    $.theme = 'ios';\n  } else if ($('link[href*=android]')[0]) {\n    $('body').addClass('themeIsAndroid');\n    $.theme = 'android';\n  }\n  $.dir = 'ltr';\n  if ($('html').attr('dir') === 'rtl') {\n    $.dir = 'rtl'\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Activity Indicator.\n */\n$.fn.extend({\n  /**\n   * Setup activitiy indicator:\n   */\n  Busy: function(options) {\n    let settings = {\n      size: 40,\n      color: '#666',\n    };\n    $.extend(settings, options);\n\n    const $this = this;\n    let spinner = undefined;\n    /**\n     * For iOS:\n     */\n    const iOSBusy = () => {\n      let small = undefined;\n      /**\n       * Smaller busy indicator (less tines):\n       */\n      if (parseInt(settings.size, 10) < 30) {\n        spinner = `<svg class='chui-busy small' width='${ settings.size }px' height='${ settings.size }px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'>  \n  <g x='0' y='0' width='100' height='100' fill='none' class='bk'>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(0 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(45 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(90 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(135 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(180 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(225 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(270 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(315 50 50) translate(0 -30)'></rect>\n  </g>\n</svg>`;\n        $this.append(spinner);\n      /**\n       * Larger busy indicator (more tines);\n       */\n      } else {\n        spinner = `<svg class='chui-busy' width='${ settings.size }px' height='${ settings.size }px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid' class='uil-default'> \n  <g x='0' y='0' width='100' height='100' fill='none'>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(0 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(30 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(60 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(90 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(120 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(150 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(180 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(210 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(240 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(270 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(300 50 50) translate(0 -30)'></rect>\n    <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='${ settings.color }' transform='rotate(330 50 50) translate(0 -30)'></rect>\n  </g>\n</svg>`;\n        $this.append(spinner);\n      }\n    };\n\n    /**\n     * For Android:\n     */\n    const androidBusy = () => {\n      settings.id = $.uuid();\n      let androidActivityIndicator = null;\n      if ($.isNativeAndroid) {\n        androidActivityIndicator = `<svg class=\"chui-busy\" version=\"1.1\" id=\"${ settings.id }\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\">\n  <g>\n    <path fill=\"none\" stroke=\"${ settings.color }\" stroke-width=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" d=\"M74.2,65c2.7-4.4,4.3-9.5,4.3-15c0-15.7-12.8-28.5-28.5-28.5S21.5,34.3,21.5,50c0,5.5,1.6,10.6,4.3,15\"/>\n  </g>\n  <polyline fill=\"none\" stroke=\"${ settings.color }\" stroke-width=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"89.4,56.1 74.3,65 65.4,49.9 \"/>\n</svg>`;\n\n        $this.append(androidActivityIndicator);\n        return;\n      } else {\n        androidActivityIndicator = `<svg id=\"${ settings.id }\" class=\"chui-busy\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\"><circle stroke=\"url(#SVGID_1_)\" cx=\"50\" cy=\"50\" r=\"28.5\"/></svg>`;\n        $this.append(androidActivityIndicator);\n        $this.addClass('hasActivityIndicator');\n        if (options.color) {\n          $('#' + settings.id).find('circle').css('stroke', options.color);\n        }\n      }\n      $('#' + settings.id).css({\n        'height': settings.size + 'px',\n        'width': settings.size + 'px'\n      });\n    };\n\n    /**\n     * Create Busy control for appropriate OS:\n     */\n    if ($.theme === 'android') {\n      androidBusy(options);\n    } else if ($.theme === 'ios') {\n      iOSBusy(options);\n    }\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Screen Blocker.\n */\n$.extend({\n\n  /**\n   * Cover screen:\n   */\n  Block: opacity => {\n    opacity = opacity ? ` style='opacity:${ opacity };'` : ` style='opacity: .5;'`;\n    if ($('.mask')[0]) return;\n    $('body').append(`<div class='mask'${ opacity }></div>`);\n    $('screen.current').attr('aria-hidden', true);\n  },\n\n  /**\n   * Uncover screen:\n   */\n  Unblock: () => {\n    $('.mask').remove();\n    $('screen.current').removeAttr('aria-hidden');\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Button functions.\n */\nconst chuiBackButtonSVG = `<svg id=\"chui-back-button-svg\" width=\"100px\" height=\"100px\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"chui-back-arrow\" stroke=\"#979797\">\n      <path d=\"M50.7822487,4.05872022 L5.60302012,49.1913445 L50.4625593,94.6779982\" id=\"back-arrow-bracket\"></path>\n      <path d=\"M6,49.368351 L95.8300018,49.368351\" id=\"back-arrow-shaft\"></path>\n    </g>\n  </g>\n</svg>`;\n\n$.fn.extend({\n  decorateBackButton: function() {\n    if ($(this).hasClass('back') || $(this).hasClass('backTo')) {\n      this.forEach(button => {\n        const buttonText = $(button).text();\n        $(button).html(`<span>${ buttonText }</span>`);\n        $(button).prepend(chuiBackButtonSVG);\n      });\n    }\n  }\n});\n$(function () {\n  $('.back').decorateBackButton();\n  $('.backTo').decorateBackButton();\n});\n\n/**\n * ChocolateChip-UI Widget - Center Elements.\n */\n$.fn.extend({\n  /**\n   * Center an Element on Screen\n   */\n  center: function(position) {\n    if (!this[0]) return;\n    const $this = $(this);\n    const parent = $this.parent();\n    if (position) {\n      $(this.css('position', position));\n    } else if ($this.css('position') === 'absolute') {\n      position = 'absolute';\n    } else {\n      position = 'relative';\n    }\n    let height = undefined;\n    let width = undefined;\n    let parentHeight = undefined;\n    let parentWidth = undefined;\n    if (position === 'absolute') {\n      height = $this[0].clientHeight;\n      width = $this[0].clientWidth;\n      parentHeight = parent[0].clientHeight;\n      parentWidth = parent[0].clientWidth;\n    } else {\n      height = parseInt($this.css('height'), 10);\n      width = parseInt($this.css('width'), 10);\n      parentHeight = parseInt(parent.css('height'), 10);\n      parentWidth = parseInt(parent.css('width'), 10);\n      $(this).css({\n        'margin-left': 'auto',\n        'margin-right': 'auto'\n      });\n    }\n    let tmpTop = undefined;\n    let tmpLeft = undefined;\n    if (parent[0].nodeName === 'body') {\n      tmpTop = ((window.innerHeight / 2) + window.pageYOffset) - height / 2 + 'px';\n      tmpLeft = ((window.innerWidth / 2) - (width / 2) + 'px');\n    } else {\n      tmpTop = (parentHeight / 2) - (height / 2) + 'px';\n      tmpLeft = (parentWidth / 2) - (width / 2) + 'px';\n    }\n    if (position !== 'absolute') tmpLeft = 0;\n    $this.css({\n      left: tmpLeft,\n      top: tmpTop\n    });\n    return $this;\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Edit List.\n */\n$.extend({\n  /**\n   * Setup an editable list, enabling reording of items and deletion:\n   */\n  EditList: function(options) {\n    /**\n      options = {\n        editLabel: labelName,\n        doneLabel: labelName,\n        deleteLabel: labelName,\n        cancelLabel: cancelName,\n        callback: callback (Tapping \"Done\" fires this),\n        deletable: false (no deletables),\n        movable: false (no movables),\n        model: myModel,\n        modelProp: 'id',\n        view: myView\n      }\n    */\n    const settings = {\n      editLabel: 'Edit',\n      doneLabel: 'Done',\n      deleteLabel: 'Delete',\n      cancelLabel: 'Cancel',\n      callback: $.noop,\n      deletable: true,\n      movable: true,\n      model: undefined,\n      modelProp: 'id',\n      view: undefined\n    };\n\n    let __data = [];\n    if (!options) {\n      return;\n    }\n    $.extend(settings, options);\n    const __model = settings.model || false;\n\n    if (!settings.deletable && !settings.movable) {\n      return;\n    }\n    const __view = settings.view;\n\n    if (options) $.extend(settings, options);\n\n    let deleteButton = undefined;\n    let editButton = undefined;\n    let deletionIndicator = undefined;\n    let button = undefined;\n    let dispelDeletable = 'swiperight';\n    let enableDeletable = 'swipeleft';\n    let moveUpIndicator = undefined;\n    let moveDownIndicator = undefined;\n    let element = settings.element;\n    let deleteLabel = undefined;\n\n    let dir = $('html').attr('dir');\n    dir = dir ? dir.toLowerCase() : '';\n    if (dir === 'rtl') {\n      dispelDeletable = 'swipeleft';\n      enableDeletable = 'swiperight';\n    }\n\n    if (settings.deletable) {\n      deleteButton = `<button class=\"delete\">\n  <label>${ settings.deleteLabel }</label>\n  <svg width=\"27px\" height=\"30px\" viewBox=\"0 0 27 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n      <g id=\"delete-icon\" fill=\"#3A3A3A\">\n        <g transform=\"translate(3.000000, 1.000000)\">\n          <path d=\"M1,6 L20,6 L20,24.9986131 C20,26.6562333 18.6639569,28 16.9998779,28 L4.00012207,28 C2.3432004,28 1,26.6569187 1,24.9986131 L1,6 Z M4,9 L5,9 L5,25 L4,25 L4,9 Z M8,9 L9,9 L9,25 L8,25 L8,9 Z M12,9 L13,9 L13,25 L12,25 L12,9 Z M16,9 L17,9 L17,25 L16,25 L16,9 Z\" id=\"can\"></path><path d=\"M0,4.96611425 L0,1.67759301 L5.1776507,1.7511163 L6.482399,0 L14.5847825,0 L15.8789491,1.7511163 L21,1.7511163 L21,4.9447157 L0,4.96611425 L0,4.96611425 Z\" id=\"lid\"></path>\n        </g>\n      </g>\n    </g>        \n  </svg>      \n</button>`;\n      deletionIndicator = `<span class=\"deletion-indicator\">\n  <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n      <g id=\"deletion-indicator\">\n        <g id=\"ios-indicator\">\n          <circle id=\"ios-circle\" fill=\"#FF0000\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\n          <path d=\"M3.5,10 L16.5,10\" id=\"ios-bar\" stroke=\"#FFFFFF\" stroke-width=\"2\" stroke-linecap=\"square\"></path>\n        </g>\n        <path d=\"M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332\" id=\"checkmark\" stroke=\"#FA0303\" stroke-width=\"2\"></path>\n      </g>\n    </g>\n  </svg>\n</span>`;\n      $(element).addClass('deletable');\n    }\n    if (settings.movable) {\n      moveUpIndicator = `<span class='move-up'>\n  <svg width=\"22px\" height=\"22px\" viewBox=\"0 0 22 22\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n      <g id=\"move-indicator\">\n        <circle id=\"circle\" cx=\"11\" cy=\"11\" r=\"10\"></circle>\n        <path d=\"M4,13.9645823 L10.9316382,5.94630319 L17.795297,13.9073417\" id=\"move-up\"></path>\n      </g>\n    </g>\n  </svg>\n</span>`;\n      moveDownIndicator = `<span class='move-down'>\n  <svg width=\"22px\" height=\"22px\" viewBox=\"0 0 22 22\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n      <g id=\"move-indicator\">\n        <circle id=\"circle\" cx=\"11\" cy=\"11\" r=\"10\"></circle>\n        <path d=\"M4.0421421,7.98172087 L10.912246,16 L17.7960071,8.1103389\" id=\"move-down\"></path>\n      </g>\n    </g>\n  </svg>\n</span>`;\n      $(element).addClass('editable');\n    }\n\n    editButton = `<button class=\"edit\">${ settings.editLabel }</button>`;\n    const screen = $(element).closest('screen');\n    const nav = $(element).closest('screen').find('nav');\n    nav.append(editButton);\n    nav.find('.back').hide();\n    nav.prepend(`<button class=\"cancel\">${ settings.cancelLabel }</button>`);\n    nav.find('.cancel').hide();\n    $.AdjustNavbarLayout($(element).closest('screen'));\n\n    button = $(element).closest('screen').find('.edit');\n    $(element).find('li').forEach(function (ctx) {\n      if (!$(ctx).has('.deletion-indicator').length) {\n        if (settings.deletable) {\n          $(ctx).prepend(deletionIndicator);\n        }\n        if (settings.movable) {\n          $(ctx).append(moveDownIndicator);\n          $(ctx).append(moveUpIndicator);\n        }\n        if (settings.deletable) {\n          $(ctx).append(deleteButton);\n        }\n      }\n    });\n\n    /**\n     * Callback to setup indicator interactions:\n     */\n    const setupDeletability = function setupDeletability(callback, list, button) {\n      $(function () {\n\n        /**\n         * Check for view and update its template:\n         */\n        if (__view) {\n          const temp = $('<div></div>');\n          temp[0].insertAdjacentHTML('afterbegin', __view.getTemplate());\n          temp.find('li').prepend(deletionIndicator);\n          temp.find('li').append(moveDownIndicator);\n          temp.find('li').append(moveUpIndicator);\n          const template = temp.html();\n          __view.setTemplate(template);\n        }\n\n        button.on('tap', function () {\n          const $this = this;\n\n          /**\n           * When button is in \"Edit\" state:\n           */\n          if (this.classList.contains('edit')) {\n            $(list).addClass('editing');\n            setTimeout(function () {\n              $this.classList.remove('edit');\n              $this.classList.add('done');\n              $($this).text(settings.doneLabel);\n              $(list).addClass('showIndicators');\n              $($this).siblings('.back').hide();\n              $($this).siblings('.cancel').show();\n              $.AdjustNavbarLayout(screen);\n            });\n\n            /**\n             * When button is in \"Done\" state:\n             */\n          } else if (this.classList.contains('done')) {\n            $(list).removeClass('editing');\n            /**\n             * Execute callback if edit was performed:\n             */\n            setTimeout(function () {\n              $this.classList.remove('done');\n              $this.classList.add('edit');\n              $($this).text(settings.editLabel);\n              $(list).removeClass('showIndicators');\n              $(list).find('li').removeClass('selected');\n              $($this).siblings('.cancel').hide();\n              $.AdjustNavbarLayout(screen);\n            });\n            const movedItems = [];\n            $(list).find('li').forEach(function (ctx, idx) {\n              __data.push($(ctx).attr('data-id'));\n            });\n\n            /**\n             * Reorder model based on user choice:\n             */\n            if (__model) {\n              (function () {\n                let __newarray = [];\n                __data.filter(function (item) {\n                  const ret = __model.filter(function (b) {\n                    return b[settings.modelProp] === item;\n                  });\n                  __newarray.push(ret[0]);\n                });\n                __data = [];\n                __model.purge();\n                __model.replace(__newarray, false);\n                __newarray = [];\n              })();\n            }\n            if ($(list).data('list-edit')) {\n              callback.call(callback, __model);\n            }\n          }\n          setTimeout(function () {\n            $.AdjustNavbarLayout(screen);\n          });\n        });\n\n        /**\n         * Handle deletion indicators:\n         */\n        $(list).off('tap', '.deletion-indicator');\n        $(list).on('tap', '.deletion-indicator', function () {\n          if ($(this).closest('li').hasClass('selected')) {\n            $(this).closest('li').removeClass('selected');\n            return;\n          } else {\n            $(this).closest('li').addClass('selected');\n          }\n        });\n\n        /**\n         * Handle swipe gestures:\n         */\n        $(list).on(dispelDeletable, 'li', function () {\n          /**\n           * If no deletables, disable swipes:\n           */\n          if (!settings.deletable) return;\n          /**\n           * Else reveal delete button:\n           */\n          $(this).removeClass('selected');\n        });\n\n        $(list).on(enableDeletable, 'li', function () {\n          /**\n           * If no deletables, disable swipes:\n           */\n          if (!settings.deletable) return;\n          /**\n           * Else reveal delete button:\n           */\n          $(this).addClass('selected');\n        });\n\n        /**\n         * Move list item up:\n         */\n        $(list).on('tap', '.move-up', function (e) {\n          const _this = this;\n\n          let item = $(this).closest('li');\n          if (item.is('li:first-child')) {\n            return;\n          } else {\n            (function () {\n              /**\n               * Mark list as edited:\n               */\n              $(list).data('list-edit', true);\n              item = $(_this).closest('li');\n              const prev = item.prev();\n              /**\n               * Clone the items to replace the transitioned ones alter:\n               */\n              const itemClone = item.clone();\n              const prevClone = prev.clone();\n              const height = item[0].offsetHeight;\n              item.css({\n                \"-webkit-transform\": 'translate3d(0,-' + height + 'px,0)',\n                \"transform\": 'translate3d(0,-' + height + 'px,0)'\n              });\n\n              prev.css({\n                \"-webkit-transform\": 'translate3d(0,' + height + 'px,0)',\n                \"transform\": 'translate3d(0,' + height + 'px,0)'\n              });\n              setTimeout(function () {\n                $.replace(prevClone, item);\n                $.replace(itemClone, prev);\n                /**\n                 * Remove Android ripple from moved list item.\n                 */\n                $('ripple-sheath').remove();\n              }, 250);\n            })();\n          }\n        });\n\n        /**\n         * Move list item down:\n         */\n        $(list).on('tap', '.move-down', function (e) {\n          const item = $(this).closest('li');\n          const next = item.next();\n          if (item.is('li:last-child')) {\n            return;\n          } else {\n            (function () {\n              /**\n               * Clone the items to replace the transitioned ones alter:\n               */\n              const itemClone = item.clone();\n              const nextClone = next.clone();\n              /**\n               * Mark list as edited:\n               */\n              $(list).data('list-edit', true);\n\n              const height = item[0].offsetHeight;\n              item.css({\n                '-webkit-transform': 'translate3d(0,' + height + 'px,0)',\n                transform: 'translate3d(0,' + height + 'px,0)'\n              });\n              next.css({\n                \"-webkit-transform\": 'translate3d(0,-' + height + 'px,0)',\n                \"transform\": 'translate3d(0,-' + height + 'px,0)'\n              });\n              setTimeout(function () {\n                \n                $.replace(nextClone, item);\n                $.replace(itemClone, next);\n                /**\n                 * Remove Android ripple from moved list item.\n                 */\n                $('ripple-sheath').remove();\n              }, 250);\n            })();\n          }\n        });\n\n        /**\n         * Handle deletion of list item:\n         */\n        $(list).on('tap', '.delete', function () {\n          const $this = this;\n          const listItem = $(this).parent();\n\n          /**\n           * Mark list as edited:\n           */\n          $(list).data('list-edit', true);\n          let direction = '-1200%';\n          if ($('html').attr('dir') === 'rtl') direction = '1000%';\n          $(this).siblings().css({\n            '-webkit-transform': 'translate3d(' + direction + ',0,0)',\n            '-webkit-transition': 'all 1s ease-out',\n            'transform': 'translate3d(' + direction + ',0,0)',\n            'transition': 'all 1s ease-out'\n          });\n\n          setTimeout(function () {\n            listItem.remove();\n          }, 500);\n        });\n\n        /**\n         * Cancel edits:\n         */\n        nav.find('.cancel').on('tap', function () {\n          nav.find('.back').show();\n          $(this).hide();\n          __view.render();\n          nav.find('.done').addClass('edit').removeClass('done').text(settings.editLabel);\n          $(list).removeClass('showIndicators');\n          $(list).find('li').removeClass('selected');\n          $(this).hide();\n          $(list).find('li').append(deleteButton);\n        });\n      });\n    };\n    /**\n     * Initialize the editable list:\n     */\n    setupDeletability(settings.callback, element, button);\n\n    return {\n      getModel: function getModel() {\n        return __model;\n      },\n\n      getView: function getView() {\n        return __view;\n      }\n    };\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Multi-Select List.\n */\n$.extend({\n  /**\n   * Setup a multi-select list:\n   */\n  MultiSelectList: options => {\n    if (!options || !options.element) return;\n    let settings = {\n      element: undefined,\n      selected: [],\n      name: $.uuid(),\n      callback: $.noop,\n      model: undefined\n    };\n    let __selection = [];\n    $.extend(settings, options);\n    let selections = settings.selected;\n    const name = settings.name;\n    const list = $(settings.element);\n    list.addClass('multi-select-list');\n    list.find('li').forEach(function(ctx, idx) {\n      let value = ctx.getAttribute(\"data-select\") !== null ? ctx.getAttribute(\"data-select\") : \"\";\n      selections.forEach(function(item) {\n        if (item.index === idx) {\n          __selection.push({\n            index: idx,\n            value: value\n          });\n        }\n      });\n\n      ctx.setAttribute('role', 'checkbox');\n      $(ctx).removeClass('selected').find('input').removeAttr('checked');\n      $(ctx).prepend(`<aside>\n        <span class=\"multi-selection-indicator\">\n          <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n            <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"multi-select-icon\" stroke=\"#979797\">\n              <g id=\"multi-select-circle-+-mulit-select-checkmark\" transform=\"translate(2.000000, 2.000000)\">\n                <circle id=\"multi-select-circle\" cx=\"13\" cy=\"13\" r=\"13\"></circle>\n                <path d=\"M4.71521456,15.9877529 L13.0000002,20.7028494 L19.977049,5.70284941\" id=\"mulit-select-checkmark\"></path>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </aside>`);\n      $(ctx).append(`<input type=\"checkbox\" name=\"${ name }\" value=\"${ value }\">`);\n      if (selections.length) {\n        selections.forEach(function(sel) {\n          if (sel === idx) {\n            ctx.setAttribute('aria-checked', 'true');\n            ctx.classList.add('selected');\n            $(ctx).find('input').prop('checked', true).attr('value', value);\n            __selection.push({\n              index: sel,\n              value: value\n            });\n          }\n        });\n\n      }\n    });\n\n    list.on('tap', 'li', function() {\n      const item = $(this);\n      if (item.hasClass('selected')) {\n        item.removeClass('selected').removeAttr('aria-checked');\n        item.find('input').removeProp('checked');\n        let dataObj = {\n          index: item.index(),\n          value: item.attr('data-select')\n        }\n        let pos = undefined;\n        __selection.forEach(function(item, idx) {\n          if (item.index === dataObj.index && item.value === dataObj.value) {\n            pos = idx;\n          }\n        });\n        __selection.splice(pos, 1);\n\n        settings.callback.apply(this, arguments);\n      } else {\n        __selection.push({\n          index: item.index(),\n          value: item.attr('data-select')\n        });\n        __selection.unique();\n        item.addClass('selected');\n        item.attr('aria-checked', true);\n        item.find('input').prop('checked', true);\n\n        settings.callback.apply(this, arguments);\n      }\n\n    });\n\n    return {\n      getSelection: () => __selection\n    };\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Adjust Navbar for iOS.\n */\n$(() => {\n\n  /**\n   * Method to center H1 in Navbar.\n   * Check on widths of siblings:\n   */\n  $.extend({\n\n    AdjustNavbarLayout: function(screen) {\n      if (!$('link[href*=ios]')[0]) return;\n      if (document.body && document.body.hasAttribute('nocenterheader')) {\n        return;\n      }\n      screen = $(screen);\n      if (!screen[0]);\n      const h1 = screen.find('h1');\n      const siblings = h1.siblings();\n      let whichSide = undefined;\n      let oppositeSide = undefined;\n      const rtl = $('html').attr('dir') === 'rtl';\n      let amount = 0;\n      let hidden = false;\n      let visibleSibling = undefined;\n\n      const calculateLongest = function calculateLongest(a, b) {\n        let widthA = a[0].clientWidth;\n        let widthB = b[0].clientWidth;\n        if (!widthA) {\n          widthA = 0;\n          whichSide = 'margin-right';\n          oppositeSide = 'margin-left';\n          if (rtl) {\n            whichSide = 'margin-left';\n            oppositeSide = 'margin-right';\n          }\n        }\n        if (!widthB) {\n          widthB = 0;\n          whichSide = 'margin-left';\n          oppositeSide = 'margin-right';\n          if (rtl) {\n            whichSide = 'margin-right';\n            oppositeSide = 'margin-left';\n          }\n        }\n        if (widthB > widthA) {\n          whichSide = 'margin-left';\n          oppositeSide = 'margin-right';\n          if (rtl) {\n            whichSide = 'margin-right';\n            oppositeSide = 'margin-left';\n          }\n          amount = widthB - widthA;\n        } else if (widthA > widthB) {\n          whichSide = 'margin-right';\n          oppositeSide = 'margin-left';\n          if (rtl) {\n            whichSide = 'margin-left';\n            oppositeSide = 'margin-right';\n          }\n          amount = widthA - widthB;\n        } else {\n          amount = 0;\n        }\n      };\n\n      function handleOneSibling(sib) {\n        const sibling = sib || h1.siblings();\n        amount = sibling[0].clientWidth;\n        if (sibling.is(':first-child')) {\n          whichSide = 'margin-right';\n          oppositeSide = 'margin-left';\n          if (rtl) {\n            whichSide = 'margin-left';\n            oppositeSide = 'margin-right';\n          }\n        } else if (sibling.is(':last-child')) {\n          whichSide = 'margin-left';\n          oppositeSide = 'margin-right';\n          if (rtl) {\n            whichSide = 'margin-right';\n            oppositeSide = 'margin-left';\n          }\n        }\n      }\n\n      /**\n       * If one sibling:\n       */\n      if (siblings.length === 1) {\n        handleOneSibling();\n\n        /**\n         * If two siblings:\n         */\n      } else if (siblings.length === 2) {\n          siblings.forEach(function (item) {\n            if ($(item).css('display') === 'none') {\n              hidden = true;\n            } else {\n              visibleSibling = $(item);\n            }\n          });\n          if (hidden) {\n            handleOneSibling(visibleSibling);\n          } else {\n            calculateLongest(siblings.eq(0), siblings.eq(1));\n          }\n\n          /**\n           * H1 is alone:\n           */\n      } else {\n        whichSide = 'margin-left';\n        oppositeSide = 'margin-right';\n        amount = 0;\n      }\n      let props = {};\n      props[whichSide] = amount;\n      props[oppositeSide] = 0;\n      let sibwidth = 0;\n      if (siblings.size()) {\n        siblings.forEach(function (item) {\n          sibwidth += $(item)[0].clientWidth;\n        });\n      }\n      let headerWidth = screen.find('nav').width() / 2;\n      if (sibwidth + 20 > headerWidth) {\n        h1.css({\n          'margin-left': 0,\n          'margin-right': 0\n        });\n      } else {\n        h1.css(props);\n      }\n    }\n  });\n  setTimeout(function() {\n    $('screen').forEach(function(screen) {\n      $.AdjustNavbarLayout(screen);\n    });\n  });\n});\n\n/**\n * ChocolateChip-UI Widget - Navigation Module.\n */\n\n$(() => {\n  /**\n   * Private variable to track navigation state:\n   */\n  let isNavigating = false;\n  /**\n   * get screen by id:\n   */\n  const getScreen = screen => $('#' + screen);\n\n  /**\n   * Handle state of screens:\n   */\n  const makeScreenCurrent = screen => {\n    screen = $(screen);\n    screen.addClass('current');\n    screen.removeClass('previous');\n    screen.removeClass('next');\n  };\n  const makeScreenPrevious = screen => {\n    screen = $(screen);\n    screen.removeClass('current');\n    screen.removeClass('next');\n    screen.addClass('previous');\n  };\n  const makeScreenNext = screen => {\n    screen = $(screen);\n    screen.removeClass('current');\n    screen.removeClass('previous');\n    screen.addClass('next');\n  };\n\n  $.extend({\n\n    /**\n     * Navigate to Specific Article\n     */\n    GoToScreen: destination => {\n      if ($.isNavigating) return;\n      $.isNavigating = true;\n      setTimeout(function () {\n        $.isNavigating = false;\n      }, 500);\n      $.ChuiRoutes.push(destination);\n      const currentScreen = $.screens.getCurrent();\n      const destinationScreen = function () {\n        let temp = undefined;\n        const regex = /:/img;\n        temp = regex.test(destination) ? destination.split(':')[0] : destination;\n        return getScreen(temp);\n      }();\n      if (currentScreen[0]) currentScreen[0].scrollTop = 0;\n      if (destinationScreen[0]) destinationScreen[0].scrollTop = 0;\n      makeScreenPrevious(currentScreen);\n      makeScreenCurrent(destinationScreen);\n      $.Router.dispatch(destination);\n    },\n\n    /**\n     * Navigate Back to Previous Article\n     */\n    GoBack: () => {\n      if ($.isNavigating) return;\n      $.isNavigating = true;\n      const currentScreen = $.screens.getCurrent();\n      $.ChuiRoutes.pop();\n      const destination = $.ChuiRoutes[$.ChuiRoutes.length - 1];\n      const destinationScreen = function () {\n        let temp = undefined;\n        const regex = /:/img;\n        temp = regex.test(destination) ? destination.split(':')[0] : destination;\n        return getScreen(temp);\n      }();\n      if (currentScreen[0]) currentScreen[0].scrollTop = 0;\n      if (destinationScreen[0]) destinationScreen[0].scrollTop = 0;\n      makeScreenNext(currentScreen);\n      makeScreenCurrent(destinationScreen);\n      $.Router.dispatch(destination);\n      setTimeout(function () {\n        $.isNavigating = false;\n      }, 500);\n    },\n\n    isNavigating: false,\n\n    /**\n     * Navigate Back to Non-linear Article\n     */\n    GoBackToScreen: destination => {\n      const position = $.ChuiRoutes.findIndex(function(dest) {\n        return dest = destination\n      });\n      const destinationScreen = getScreen(destination);\n      let temp = undefined;\n      while ($.ChuiRoutes.length > position + 1) {\n        temp = $.ChuiRoutes.pop();\n        temp = getScreen(temp);\n        makeScreenNext(temp);\n      }\n      makeScreenCurrent(destinationScreen);\n      $.Router.dispatch(destination);\n    }\n  });\n\n  /**\n   * Initialize Back Buttons:\n   */\n  $('body').on('tap', '.back', function () {\n    if (this.hasAttribute('disabled')) return;\n    $.GoBack();\n  });\n\n  /**\n   * Handle navigation events:\n   */\n  const handleNavigationEvent = element => {\n    element = $(element);\n    if ($.isNavigating) return;\n    if (!element.hazAttr('data-goto')[0]) return;\n    if (element.closest('ul').is('.deletable')) return;\n    let destination = element.attr('data-goto');\n    if (!destination) return;\n    element.addClass('selected');\n    setTimeout(function () {\n      element.removeClass('selected');\n    }, 1000);\n    /**\n     * Handle navigation:\n     */\n    $.GoToScreen(destination);\n  };\n\n  $('body').on('tap', 'li', function () {\n    handleNavigationEvent($(this));\n  });\n  \n  $('body').on('doubletap', 'li', function () {\n    if (!$.isNavigating) {\n      handleNavigationEvent($(this));\n    }\n  });\n});\n\n/**\n * ChocolateChip-UI Widget - Paging.\n */\n$.extend({\n  /**\n   * Setup a paging control:\n   */\n  Paging: options => {\n    if (!options || !options.element) return;\n    const screen = $(options.element);\n    const pager = '<div class=\"pager\">\\n\\\n    <button class=\"previous\">\\n\\\n      <svg width=\"24px\" height=\"36px\" viewBox=\"0 0 24 36\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"pagination-icons\" stroke=\"#979797\"><path d=\"M19.7729197,3 L4.25431067,17.8699971 L19.7729196,32.9558941\" id=\"page-previous\"></path></g></g></svg>\\n\\\n    </button>\\n\\\n    <button class=\"next\">\\n\\\n      <svg width=\"24px\" height=\"36px\" viewBox=\"0 0 24 36\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"pagination-icons\" stroke=\"#979797\"><path d=\"M4.08862955,3.06871359 L20.0261609,18.0528447 L4.08862956,32.9999994\" id=\"page-next\"></path></g></g></svg>\\n\\\n    </button>\\n\\\n    </div>';\n\n    $(screen).find('nav').append(pager);\n\n    const currentSection = $(screen).find('section');\n\n    const articles = function() {\n      return currentSection.find('article').length;\n    };\n    $.AdjustNavbarLayout(screen);\n\n    /**\n     * Handle paging forward:\n     */\n    const pageForward = pagerButton => {\n      if (articles() < 2) return;\n      pagerButton.prev().removeClass('selected');\n      pagerButton.addClass('selected');\n      let currentArticle = undefined;\n      if (pagerButton[0] && pagerButton[0].classList.contains('disabled')) return;\n      currentArticle = currentSection.find('article.current');\n      if (currentArticle.index() === articles() - 1) {\n        /**\n         * Start again!\n         */\n        currentArticle.removeClass('current').addClass('next');\n        currentArticle.siblings().removeClass('previous').addClass('next');\n        currentSection.find('article').eq(0).addClass('current').removeClass('previous').removeClass('next');\n      } else {\n        currentArticle.removeClass('current').addClass('previous');\n        currentArticle.next().removeClass('next').addClass('current');\n      }\n      setTimeout(function() {\n        pagerButton.removeClass('selected');\n      }, 250);\n    };\n\n    const pageBack = pagerButton => {\n      if (articles() === 1) return;\n      pagerButton.next().removeClass('selected');\n      pagerButton.addClass('selected');\n      let currentArticle = undefined;\n      currentArticle = currentSection.find('article.current');\n\n      if (currentArticle.index() === 0) {\n        currentArticle.removeClass('current');\n        currentArticle.siblings().eq(-1).addClass('current').removeClass('next');\n        currentArticle.siblings().eq(-1).siblings().removeClass('next').addClass('previous');\n      } else {\n        currentArticle.removeClass('current').addClass('next');\n        currentArticle.prev().removeClass('previous').addClass('current');\n      }\n      setTimeout(() => {\n        pagerButton.removeClass('selected');\n      }, 250);\n    };\n\n    $('.pager').on($.eventStart, 'button:last-of-type', () => {\n      pageForward($(this));\n    });\n    $('.pager').on($.eventStart, 'button:first-of-type', () => {\n      pageBack($(this));\n    });\n\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Popover.\n */\n$.extend({\n  /**\n   * Setup a popover (dropdown menu):\n   */\n  Popover: options => {\n    /**\n      id: myUniqueID,\n      title: 'Great',\n      callback: myCallback,\n    */\n    options = options || {};\n    let settings = {\n      id: $.uuid(),\n      callback: $.noop,\n      title: '',\n    };\n    $.extend(settings, options);\n    if (options && options.content) {\n      settings.content = options.content;\n    } else {\n      settings.content = '';\n    }\n    const header = `<header><h1>${ settings.title }</h1></header>`;\n    const popover = `<div class=\"popover\" id=\"${ settings.id }\">${ header }<section></section></div>`;\n    const popoverID = '#' + settings.id;\n\n    /**\n     * Calculate position of popover relative to the button that opened it:\n     */\n    const __calcPopPos = element => {\n      const offset = $(element).offset();\n      let left = offset.left;\n      let calcLeft = undefined;\n      let calcTop = undefined;\n      let popover = $(popoverID);\n      const popoverOffset = popover.offset();\n      calcLeft = popoverOffset.left;\n      calcTop = offset.top + $(element)[0].clientHeight;\n      if ((popover.width() + offset.left) > window.innerWidth) {\n        popover.css({\n          'left': ((window.innerWidth - popover.width()) - 20) + 'px',\n          'top': (calcTop) + 25 + 'px'\n        });\n      } else {\n        popover.css({\n          'left': left + 'px',\n          'top': (calcTop - 30) + 'px'\n        });\n      }\n    };\n\n    if ($('.mask')[0]) {\n      $.ClosePopover();\n      $('body').Unblock();\n      return;\n    }\n    $.Block('.5');\n    $('body').append(popover);\n    if ($('body').hasClass('themeIsAndroid')) {\n      setTimeout(() => {\n        $(popoverID).addClass('opened');\n      }, 200);\n    }\n    $(popoverID).data('triggerEl', settings.trigger);\n    $(popoverID).find('section').append(settings.content);\n    settings.callback.call(settings.callback, settings.trigger);\n    __calcPopPos(settings.trigger);\n\n  },\n\n  AlignPopover: () => {\n    let popover = $('.popover');\n    if (!popover.length) return;\n    const triggerID = popover.data('triggerEl');\n    const offset = $(triggerID).offset();\n    const left = offset.left;\n    if (($(popover).width() + offset.left) > window.innerWidth) {\n      popover.css({\n        'left': ((window.innerWidth - $(popover).width()) - 20) + 'px'\n      });\n    } else {\n      popover.css({\n        'left': left + 'px'\n      });\n    }\n  },\n\n  ClosePopover: () => {\n    $.Unblock();\n    $('.popover').css({transform: 'scaleY(0)'});\n    setTimeout(() => {\n      $('.popover').off();\n      $('.popover').remove();\n    }, 100);\n  }\n});\n\n$(() => {\n  /**\n   * Reposition popovers on window resize:\n   */\n  window.onresize = () => {\n    $.AlignPopover();\n  };\n  // const events = \"$.eventStart singletap $.eventEnd\";\n  $('body').on($.eventStart, '.mask', e => {\n    // if ($('.popover')[0]) {\n    //   if (e && e.nodeType === 1) return;\n    // } else {\n      // alert('closing popover')\n      $.ClosePopover();\n    // }\n  });\n});\n\n/**\n * ChocolateChip-UI Widget - Popup.\n */\n$.extend({\n  /**\n   * Setup  a popup dialog:\n   */\n  Popup: function(options) {\n    /**\n    options {\n      id: 'alertID',\n      title: 'Alert',\n      message: 'This is a message from me to you.',\n      cancelButton: 'Cancel',\n      continueButton: 'Go Ahead',\n      width: '100px',\n      callback: function() { // do something },\n      empty: true\n    }\n    */\n    if (!options) return;\n    let settings = {};\n    settings.id = $.uuid();\n    settings.content = true;\n    $.extend(settings, options);\n    let width = '';\n    if (settings.width) {\n      width = `style=\"width:${settings.width}px;\"`;\n    }\n\n    const id = settings.id;\n    const title = settings.title ? `<header><h1>${settings.title}</h1></header>` : '';\n    const message = settings.message ? `<p role=\"note\">${options.message}</p>` : '';\n    const cancelButton = options.cancelButton ? `<button class=\"cancel\" role=\"button\">${settings.cancelButton}</button>` : '';\n    const continueButton = settings.continueButton ? `<button class=\"continue\" role=\"button\">${settings.continueButton}</button>` : '';\n    const callback = settings.callback || $.noop;\n    let popup = undefined;\n    if (settings.empty) {\n      popup = `<div id=\"${id}\" class=\"popup\"><div ${width} class=\"dialog\" role=\"alertdialog\"></div></div>`;\n    } else {\n      popup = `<div class=\"popup\" id=\"${id}\"><div class=\"dialog\" role=\"alertdialog\"><div class=\"panel\">${title}${message}</div><footer>${cancelButton}${continueButton}</footer></div></div>`;\n    }\n\n    $('body').append(popup);\n    if (settings.empty) {\n      $('.dialog').css({\n        \"display\": \"-webkit-flex\",\n        \"-webkit-justify-content\": \"center\", \n        \"-webkit-align-items\": \"center\", \n        \"display\": \"flex\",\n        \"justify-content\": \"center\", \n        \"align-items\": \"center\"\n      })\n    }\n    if (callback && continueButton) {\n      $('#' + id).find('.continue').on('tap', function () {\n        const $this = $(this);\n        if ($.isAndroid || $.isChrome) {\n          $this.addClass('selected');\n          setTimeout(function () {\n            $this.removeClass('selected');\n            $('.popup').ClosePopup();\n            callback.call(callback);\n          }, 300);\n        } else {\n          $('#' + id).ClosePopup();\n          callback.call(callback);\n        }\n      });\n      $('#' + id).find('.cancel').on('tap', function () {\n        const $this = $(this);\n        if ($.isAndroid || $.isChrome) {\n          $this.addClass('selected');\n          setTimeout(function () {\n            $this.removeClass('selected');\n            $('#' + id).ClosePopup();\n          }, 300);\n        } else {\n          $('#' + id).ClosePopup();\n        }\n      });\n    }\n\n    $('.popup').on('tap', function (e) {\n      $(this).removeClass('opened')\n    });\n  },\n\n});\n$.fn.extend({\n  /**\n   * Show Popup:\n   */\n  ShowPopup: function ShowPopup() {\n    const self = $(this);\n    self.removeClass('forPopup')\n    self.addClass('opened');\n    setTimeout(function() {\n      self.find('.popup').addClass('opened')\n    }, 0)\n  },\n\n  /**\n   * Close Popup:\n   */\n  ClosePopup: function ClosePopup() {\n    const self = $(this);\n    self.removeClass('opened');\n    self.find('.popup').removeClass('opened')\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Range Input.\n */\n$.fn.extend({\n  /**\n   * Setup a range input:\n   */\n  Range: function() {\n    if (this[0].nodeName !== 'INPUT') return;\n    let input = $(this);\n    let newPlace = undefined;\n    const width = input.width();\n    const newPoint = (input.val() - input.attr(\"min\")) / (input.attr(\"max\") - input.attr(\"min\"));\n    let offset = -1.3;\n    if (newPoint < 0) {\n      newPlace = 0;\n    } else if (newPoint > 1) {\n      newPlace = width;\n    } else {\n      newPlace = width * newPoint + offset;\n      offset -= newPoint;\n    }\n    if ($.theme === 'android') {\n      input.css({\n        'background-size': Math.round(newPlace) + 'px 3px, 100% 3px'\n      });\n    } else {\n      input.css({\n        'background-size': Math.round(newPlace) + 'px 10px'\n      });\n    }\n  }\n});\n$(() => {\n  $('input[type=range]').forEach(ctx => {\n    $(ctx).Range();\n  });\n  $('body').on('input', 'input[type=range]', function() {\n    $(this).Range();\n  });\n});\n\n/**\n * ChocolateChip-UI Widget - Router.\n */\n$.extend({\n  /**\n   * Define Router:\n   */\n  ChuiRoutes: [],\n\n  Router: () => {\n\n    return {\n      addRoute: options => {\n        if ($.type(options) === 'array') {\n          options.forEach(item => $.on(item.route, item.callback));\n        }\n      },\n\n      getFullRoute: () => $.ChuiRoutes.join('/'),\n\n      getCurrentLoc: () => {\n        const temp = this.getFullRoute().split('/');\n        return temp[temp.length - 1];\n      },\n\n      dispatch: route => {\n        let temp = undefined;\n        let id = undefined;\n        if (route.match(/\\:/)) {\n          temp = route.split(':');\n          id = temp[1];\n          route = temp[0];\n        }\n        $.send(route);\n      },\n\n      pushRoute: route => $.ChuiRoutes.push(route),\n\n      popRoute: () => $.ChuiRoutes.pop(),\n\n      unshiftRoute: route => $.ChuiRoutes.unshift(route),\n\n      shiftRoute: () => $.ChuiRoutes.shift(),\n\n      insert: (position, route) => {\n        if ($.ChuiRoutes.length >= position) {\n          $.ChuiRoutes.push(route);\n        } else {\n          $.ChuiRoutes.splice(position, 0, route);\n        }\n      },\n\n      eq: function eq(number) {\n        if ($.ChuiRoutes.length && number < 0) {\n          return $.ChuiRoutes[$.ChuiRoutes.length - 1];\n        } else if ($.ChuiRoutes.length && !isNaN(number) && number > -1) {\n          return $.ChuiRoutes[number];\n        }\n      },\n\n      indexOf: route => $.ChuiRoutes.indexOf(route),\n\n      remove: (route, baseRouteOnly) => {\n        if (baseRouteOnly) {\n          const index = $.ChuiRoutes.indexOf(route);\n          $.ChuiRoutes.splice(index, 1);\n\n        } else {\n          $.ChuiRoutes.forEach(r => {\n            if (r && route === r.split(':')[0]) {\n              const index = $.ChuiRoutes.indexOf(r);\n              $.ChuiRoutes.splice(index, 1);\n            }\n          });\n        }\n      },\n\n      mount: function() {\n        if ($('screen').size() && !$.ChuiRoutes.length) {\n          $.ChuiRoutes.push($('screen')[0].id);\n        }\n      }\n    };\n  }\n});\n\n$.extend($.Router, {\n  dispatch: route => {\n    if (!route) return;\n    let temp = undefined;\n    let id = undefined;\n    if (route.match(/\\:/)) {\n      temp = route.split(':');\n      id = temp[1];\n      route = temp[0];\n    }\n    $.send(route, id)\n  }\n});\n\n$.extend($.ChuiRoutes, {\n  getFullRoute: function getFullRoute() {\n    return this.join('/');\n  }\n});\n\n$(() => {\n  /**\n   * Set up initial route:\n   */\n  if ($('screen').size() && !$.ChuiRoutes.length) {\n    $.ChuiRoutes.push($('screen')[0].id);\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Screens.\n */\n$(() => {\n  /**\n   * Interface for the app's screens:\n   */\n  $.extend({\n    screens: $('screen')\n  });\n  $.extend($.screens, {\n    getCurrent: function() {\n      return this.hazClass('current');\n    },\n\n    getNext: function() {\n      return this.hazClass('next');\n    },\n\n    getPrevious: function() {\n      return this.hazClass('previous');\n    }\n  });\n});\n\n/**\n * ChocolateChip-UI Widget - Segmented Buttons.\n */\n$(() => {\n  $.extend({\n    /**\n     * Setup a segmented button:\n     */\n    Segmented: function(options) {\n      if (!options || !options.element) return;\n      /**\n        options = {\n          element: '#segmentHolder'\n          labels : ['first','second','third'],\n          selected: 0,\n          callback: function() { alert('Boring!'); }\n        }\n      */\n      let settings = {\n        selected: 0,\n        callback: $.noop\n      };\n      $.extend(settings, options);\n\n      let segmented = undefined;\n      const labels = (settings.labels) ? settings.labels : [];\n      let __selection = undefined;\n      let __element = settings.element;\n\n      function createSegmentedButton() {\n        let androidSelectionIndicator = '';\n        if ($.theme = 'android') {\n          androidSelectionIndicator = '<span class=\"androidSelectionBorder\"></span>';\n        }\n        let __segmented = ['<div class=\"segmented\">'];\n        labels.forEach(function(ctx, idx) {\n          if (settings.selected === idx) {\n            __segmented.push('<button role=\"radio\" aria-checked=\"true\" class=\"selected\">');\n            __selection = idx;\n          } else {\n            __segmented.push('<button role=\"radio\">');\n          }\n\n          __segmented.push(ctx);\n          __segmented.push('</button>');\n        });\n        __segmented.push(androidSelectionIndicator + '</div>');\n        segmented = __segmented.join('');\n        $(settings.element).append(segmented);\n\n\n      }\n      createSegmentedButton();\n\n      /**\n       * For Android Material Design:\n       */\n      let androidSelectionBorder = undefined;\n      if ($.theme === 'android') {\n        androidSelectionBorder = $(__element).find('.androidSelectionBorder');\n        let selectedButton = $(__element).find('button').eq(settings.selected);\n        let width = selectedButton.width();\n        let left = selectedButton.offset().left -16;\n        if ($.dir === 'rtl') {\n          left = selectedButton.offset().left +16;\n        }\n        androidSelectionBorder.css({width: width + 'px', left: left + 'px'});\n      }\n\n      const callback = settings.callback;\n      $(__element).on('tap', '.segmented > button', function(e) {\n        let $this = $(this);\n        if (this.parentNode.classList.contains('paging')) return;\n        $this.siblings('button').removeClass('selected');\n        $this.siblings('button').removeAttr('aria-checked');\n        $this.addClass('selected');\n        __selection = $this.index();\n        __element = $(this);\n        $this.attr('aria-checked', true);\n        callback.call(this, e);\n\n        /**\n         * For Android Material Design:\n         */\n        if ($.theme === 'android') {\n          let width = $this.width();\n          let left = $this.offset().left -16;\n          if ($.dir === 'rtl') {\n            left = $this.offset().left +16;\n          }\n          androidSelectionBorder.css({width: width + 'px', left: left + 'px'});\n        }\n      });\n\n      return {\n        getSelection: function() {\n          return {\n            index: __selection,\n            element: __element\n          }\n        }\n      }\n    }\n  });\n});\n\n/**\n * ChocolateChip-UI Widget - Select List.\n */\n$.extend({\n  /**\n   * Setup a select list:\n   */\n  SelectList: function(options) {\n    if (!options || !options.element) return;\n    let settings = {\n      element: undefined,\n      selected: undefined,\n      name: $.uuid(),\n      callback: $.noop,\n      model: undefined\n    };\n    let __selection = {};\n\n    $.extend(settings, options);\n    const name = settings.name;\n    let list = $(settings.element);\n    list.addClass('select-list');\n    list.find('li').forEach((ctx, idx) => {\n      const value = ctx.getAttribute(\"data-select\") !== null ? ctx.getAttribute(\"data-select\") : \"\";\n      ctx.setAttribute('role', 'radio');\n      $(ctx).removeClass('selected').find('input').removeAttr('checked');\n      $(ctx).append(`<aside>\n          <span class=\"selection-indicator\">\n            <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n              <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g id=\"selection-indicator\">\n                  <path d=\"M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332\" id=\"checkmark\" stroke=\"#007AFF\" stroke-width=\"2\"></path>\n                  <circle id=\"outer-circle\" stroke=\"#007AFF\" stroke-width=\"2\" cx=\"10\" cy=\"10\" r=\"9\"></circle><circle id=\"inner-circle\" fill=\"#007AFF\" cx=\"10\" cy=\"10\" r=\"5\"></circle>\n                </g>\n              </g>\n            </svg>\n          </span>\n        </aside>`);\n      if (settings.selected === idx) {\n        ctx.setAttribute('aria-checked', 'true');\n        ctx.classList.add('selected');\n        if (!$(ctx).find('input')[0]) {\n          $(ctx).append(`<input type=\"radio\" checked=\"checked\" name=\"${ name }\" value=\"${ value }\">`);\n        } else {\n          $(ctx).find('input').prop('checked', true).attr('value', value);\n        }\n        __selection = {\n          index: settings.selected,\n          value: value\n        };\n      } else {\n        if (!$(ctx).find('input')[0]) {\n          $(ctx).append(`<input type=\"radio\" name=\"${ name }\" value=\"${ value }\">`);\n        }\n      }\n    });\n    list.on('tap', 'li', function() {\n      const item = $(this);\n      __selection = {\n        index: item.index(),\n        value: item.find('input').val()\n      };\n      item.siblings('li').removeClass('selected');\n      item.siblings('li').removeAttr('aria-checked');\n      item.siblings('li').find('input').removeProp('checked');\n      item.addClass('selected');\n      item.attr('aria-checked', true);\n      item.find('input').prop('checked', true);\n      settings.callback.apply(this, arguments);\n    });\n\n    return {\n      getSelection: () => __selection\n    };\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Sheets.\n */\n$.extend({\n  /**\n   * Create a sliding sheet:\n   */\n  Sheet: options => {\n    /**\n      var options {\n        id : 'starTrek',\n        background: 'transparent',\n        handle: false,\n        slideDown: false // default is slideUp\n      }\n    */\n    if (!options) return;\n    let settings = {\n      id: $.uuid(),\n      background: '',\n      handle: true,\n      slideFrom: false\n    };\n\n    $.extend(settings, options);\n\n    if (settings.background) settings.background = ' style=\"background-color:' + settings.background + '\" ';\n    if (settings.slideFrom === 'top') {\n      settings.slideDown = ' class=\"slideDown\" ';\n    } else {\n      settings.slideFrom = '';\n    }\n    if (settings.handle === false) settings.handle = '';\n    else settings.handle = '<chui-sheet-handle><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 76 27\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:butt;stroke-linejoin:butt;stroke-miterlimit:1.41421;\"><g id=\"sheet-handle\" transform=\"matrix(1,0,0,1,-29.7966,-15.7797)\"><path id=\"sheet-handle-path\" d=\"M36.25,26.242L67.645,34.215L98.176,25.789\" style=\"fill:none;\"/></g></svg></chui-sheet-handle>';\n\n    const sheet = `<sheet id=\"${ settings.id }\"${ settings.slideDown }${ settings.background }>${ settings.handle }<section></section></sheet>`;\n\n    $('body').append(sheet);\n\n    $('#' + settings.id).find('chui-sheet-handle').on($.eventStart, () => {\n      $.HideSheet('#' + settings.id);\n    });\n  },\n  ShowSheet: id => {\n    let sheet = id ? id : '.sheet';\n    $('screen.current').addClass('blurred');\n    if ($.isAndroid || $.isChrome) {\n      $(sheet).css('display', 'block');\n      setTimeout(function() {\n        $(sheet).addClass('opened');\n      }, 20);\n    } else {\n      $(sheet).addClass('opened');\n    }\n  },\n  HideSheet: id => {\n    $(id).removeClass('opened');\n    $('screen.current').addClass('removeBlurSlow');\n    setTimeout(() => {\n      $('screen').removeClass('blurred');\n      $('screen').removeClass('removeBlurSlow');\n    }, 500);\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Slide Out Menu.\n */\n$.extend({\n  /**\n   * Setup a slide out menu:\n   */\n  SlideOut: () => {\n    const slideoutID = $.uuid();\n    const buttonID = $.uuid();\n    const slideOutButton = $(`<button id=\"${ buttonID }\" class=\"slide-out-button\"></button>`);\n    const slideOut = `<slideout id=\"${ slideoutID }\"><section></section></slideout>`;\n    $('body').prepend(slideOut);\n    $('body').append(slideOutButton);\n    /**\n     * Get Slide Out & Slide Out button:\n     */\n    let slideout = $(`#${ slideoutID }`);\n    let slideOutBtn = $(`#${ buttonID }`);\n\n    /**\n     * Set up state for Slide Out and screens:\n     */\n    slideout.attr('aria-hidden', true);\n    $(\"screens\").attr('aria-hidden', true);\n    $(\"screens\").eq(0).addClass('show').attr('aria-hidden', \"false\");\n\n    /**\n     * Handle Slide Out button events:\n     */\n    slideOutBtn.on('tap', function() {\n      $(this).toggleClass('focused');\n      if (slideout.hasClass('open')) {\n        slideout.removeClass('open');\n        slideout.removeAttr('aria-hidden');\n        $('button.back').removeClass('disabled').removeProp('disabled');\n        $('button.backTo').removeClass('disabled').removeProp('disabled');\n      } else {\n        slideout.addClass('open')\n        slideout.attr('aria-hidden', true);\n        $('button.back').addClass('disabled').prop('disabled', true);\n        $('button.backTo').addClass('disabled').prop('disabled', true);\n      }\n    });\n\n    $(`#${ slideoutID }`).on('tap', 'li', function() {\n      let menuItems = slideout.find('li[data-show]');\n      slideout.attr('aria-hidden', 'true')\n\n      /**\n       * Toggle Slide Out button:\n       */\n      slideOutBtn.toggleClass('focused');\n      \n      $('button.back').removeClass('disabled').removeProp('disabled');\n      $('button.backTo').removeClass('disabled').removeProp('disabled');\n\n      /**\n       * This list item shows a single screen:\n       */\n      menuItems.hazClass('selected').removeClass('selected');\n      $.screens.hazClass('show').removeClass('show').attr('aria-hidden', true);\n      const screenToShow = '#' + $(this).attr('data-show').split(':')[0];\n      /**\n       * Account for presence of navigation list state:\n       */\n      setTimeout(function() {\n        $(screenToShow)[0].classList.remove('next');\n      }, 200);\n      $(screenToShow)[0].classList.add('show')\n      $(screenToShow).attr('aria-hidden', false);\n      $('screen.current').addClass('next').removeClass('current');\n      $('screen.previous').addClass('next').removeClass('previous');\n      /**\n       * Get route to dispatch:\n       */\n      $.Router.dispatch($(this).attr('data-show'));\n      if ($.ChuiRoutes.length > 1) $.ChuiRoutes.pop()\n\n      /**\n       * Close slide out:\n       */\n      slideout.removeClass('open');\n    });\n\n    return {\n      populate: options => {\n        const slideout = $(`#${ slideoutID }`);\n        if (!slideout[0]) return;\n        if (!options) {\n          return;\n        } else {\n          slideout.find('section').append('<ul class=\"list\"></ul>');\n          let list = slideout.find('ul');\n          options.forEach(ctx => {\n            for (let key in ctx) {\n              if (key === 'header') {\n                list.append('<li class=\"menu-header\"><h2>' + ctx[key] + '</h2></li>');\n              } else {\n                list.append('<li data-show=\"' + key + '\"><h3>' + ctx[key] + '</h3></li>');\n              }\n            }\n          });\n          slideout.find('li').eq(0).addClass('selected');\n        }\n      }\n    };\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Stepper.\n */\n$.extend({\n  /**\n   * Create a stepper:\n   */\n  Stepper: options => {\n    if (!options) return;\n    if (!options.element) return;\n    if (!options.min) return;\n    if (!options.max) return;\n\n    let stepper = $(options.element);\n    const min = options.min;\n    const max = options.max;\n    const defaultValue = options.defaultValue ? options.defaultValue : options.min;\n    let increaseSymbol = '+';\n    let decreaseSymbol = '-';\n    const decreaseButton = '<button class=\"decrease\"><span>-</span></button>';\n    const label = `<label>${ defaultValue }</label><input type=\"text\" value=\"${ defaultValue }\">`;\n    const increaseButton = '<button class=\"increase\"><span>+</span></button>';\n    stepper.append(decreaseButton + label + increaseButton);\n    stepper.data('data-value', {\n      min: min,\n      max: max,\n      defaultValue: defaultValue\n    });\n\n    const increaseStepperValue = function() {\n      const currentValue = stepper.find('input').val();\n      const value = stepper.data('data-value');\n      const max = value.max;\n      let newValue = undefined;\n      newValue = parseInt(currentValue, 10) + 1;\n      stepper.find('button:first-of-type').removeAttr('disabled');\n      stepper.find('label').text(newValue);\n      stepper.find('input')[0].value = newValue;\n      if (newValue === max) {\n        $(this).attr('disabled', 'disabled');\n      }\n    };\n\n    const decreaseStepperValue = function() {\n      const currentValue = stepper.find('input').val();\n      const value = stepper.data('data-value');\n      let newValue = undefined;\n      newValue = parseInt(currentValue, 10) - 1;\n      stepper.find('button:last-of-type').removeAttr('disabled');\n      stepper.find('label').text(newValue);\n      stepper.find('input')[0].value = newValue;\n      if (newValue === min) {\n        $(this).attr('disabled', 'disabled');\n      }\n    };\n\n    stepper.find('button:last-of-type').on($.eventStart, function() {\n      increaseStepperValue.call(this, stepper);\n    });\n\n    stepper.find('button:first-of-type').on($.eventStart, function() {\n      decreaseStepperValue.call(this, stepper);\n    });\n\n    return {\n      getValue: () => {\n        return stepper.find('input').val();\n      }\n    }\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Switches.\n */\n$.extend({\n  /**\n   * Create a switch control:\n   */\n  Switch: options => {\n    if (!options || !options.element) return;\n    let __checked = false;\n    let settings = {\n      element: undefined,\n      name: undefined,\n      value: undefined,\n      checked: false,\n      onCallback: $.noop,\n      offCallback: $.noop\n    };\n\n    $.extend(settings, options);\n    let __selection = {\n      checked: __checked,\n      value: settings.value\n    };\n\n    let __element = $(settings.element);\n    __checked = settings.checked;\n\n    /**\n     * Abrstract swipe for left-to-right and right-to-left:\n     */\n    let swipeOn = \"swiperight\";\n    let swipeOff = \"swipeleft\";\n    if (document.documentElement.dir === \"rtl\") {\n      swipeOn = \"swipeleft\";\n      swipeOff = \"swiperight\";\n    }\n\n    let checkState = settings.checked ? ' checked' : '';\n    const __switch = `<em></em><input type=\"checkbox\" name=\"${ settings.name }\" ${ checkState } value=\"${ settings.value }\">`;\n\n    __element.append(__switch);\n\n    if (__checked) {\n      __element.addClass('checked');\n      __element.attr('role', 'checkbox');\n    }\n\n    __element.on('tap', function() {\n      const checkbox = this.querySelector('input');\n      if (this.classList.contains('checked')) {\n        this.classList.remove('checked');\n        this.setAttribute('aria-checked', false);\n        checkbox.removeAttribute('checked');\n        __selection.checked = false;\n        __checked = false;\n        settings.offCallback.call(this);\n      } else {\n        this.classList.add('checked');\n        checkbox.setAttribute('checked', 'checked');\n        this.setAttribute('aria-checked', true);\n        __selection.checked = true;\n        __checked = true;\n        settings.onCallback.call(this);\n      }\n    });\n    __element.on(swipeOn, function() {\n      const checkbox = this.querySelector('input');\n      if (this.classList.contains('checked')) {\n        this.classList.remove('checked');\n        this.setAttribute('aria-checked', false);\n        checkbox.removeAttribute('checked');\n        __selection.checked = true;\n        __checked = true;\n        settings.offCallback.call(this);\n      }\n    });\n    __element.on(swipeOff, function() {\n      const checkbox = this.querySelector('input');\n      if (!this.classList.contains('checked')) {\n        this.classList.add('checked');\n        checkbox.setAttribute('checked', 'checked');\n        this.setAttribute('aria-checked', true);\n        __selection.checked = false;\n        __checked = false;\n        settings.onCallback.call(this);\n      }\n    });\n\n    return {\n      getValue: () => {\n        return __selection;\n      }\n    };\n  }\n});\n\n/**\n * ChocolateChip-UI Widget - Tab Bar.\n */\n$.extend({\n  /**\n   * Creates a Tab Bar for Toggling Articles:\n   */\n  TabBar: options => {\n    /**\n    var options = {\n      id: 'mySpecialTabbar',\n      labels: [\"Refresh\", \"Add\", \"Info\", \"Downloads\", \"Favorite\"],\n      icons: [\"refresh\", \"add\", \"info\", \"downloads\", \"favorite\"],\n      screens: [],\n      selected: 2,\n      showIcons: false // set to true for Android\n    }\n    */\n    if (!options) return;\n    let id = $.uuid();\n    let settings = {\n      selected: 0\n    };\n    $.extend(settings, options);\n    if (!settings.icons.length) {\n      settings.icons = settings.labels;\n    }\n    if (!settings.id) {\n      settings.id = id;\n    } else {\n      id = settings.id;\n    }\n\n    /**\n     * Private variable to keep track of screens:\n     */\n    let __tabbarScreens = $();\n\n    let screens = $();\n    const screenPrefix = '#';\n\n    if (settings.screens) {\n      settings.screens.forEach(function (screen) {\n        if (!/screenPrefix/img.test(screen)) {\n          __tabbarScreens.push($(screenPrefix + screen)[0]);\n          $(screenPrefix + screen).addClass('tabScreen');\n        } else {\n          __tabbarScreens.concat($(screen)[0]);\n          $(screen).addClass('tabScreen');\n        }\n      });\n    } else {\n      settings.labels.forEach(function (screen, idx) {\n        __tabbarScreens.push(screens.eq(idx));\n      });\n    }\n    let selectedScreen = undefined;\n    let androidSelectionIndicator = '';\n    if ($.theme === 'android') {\n      androidSelectionIndicator = '<span class=\"androidSelectionBorder\"></span>';\n    }\n    const showIcons = settings.showIcons ? ' class=\"showIcons\" ' : '';\n\n    /**\n     * Helper: Set Screen to Current:\n     */\n    const setToCurrent = element => {\n      $(element).removeClass('previous').removeClass('next').addClass('current');\n      $(element).attr('aria-hidden', 'false');\n    };\n\n    /**\n     * Helper: Set Screen to Next:\n     */\n    const setToNext = element => {\n      $(element).removeClass('current').addClass('next');\n      $(element).attr('aria-hidden', 'true');\n    };\n\n    /**\n     * Create tabs:\n     */\n    const makeTab = (label, icon, idx) => {\n      let tab = '<button role=\"tab\" class=\"' + icon;\n      if (settings.selected === idx) {\n        tab += ' selected';\n      }\n      tab += '\"';\n      if (settings.screens && settings.screens.length) {\n        tab += ` data-id=\"${ settings.screens[idx] }\"`;\n      }\n      tab += `><span class=\"icon\"></span><label>${ settings.labels[idx] }</label></button>`;\n      return tab;\n    };\n    /**\n     * Create tab bar:\n     */\n    let tabbarTmpl = $(`<tabbar role=\"tabpanel\"${ showIcons }>${ androidSelectionIndicator }</tabbar>`);\n    tabbarTmpl[0].id = settings.id;\n    tabbarTmpl.addClass('tabbar');\n\n    setToNext($('screen'));\n    selectedScreen = $('screen').eq(settings.selected);\n    setToCurrent(selectedScreen);\n\n    if (settings.labels.length) {\n      settings.labels.forEach(function (label, idx) {\n        tabbarTmpl.append(makeTab(label, settings.icons[idx], idx));\n      });\n    }\n\n    /**\n     * Append tabbar to page:\n     */\n    $('body').prepend(tabbarTmpl);\n\n    /**\n     * Get id of appended tab bar:\n     */\n    const tabbar = $('#' + settings.id);\n    const selectedTabButton = tabbar.find('button.selected');\n\n\n    /**\n     * Private variables to manage tab bar: \n     */\n    const __tabbarButtons = tabbar.find('button');\n    const __selectedTabbarButton = __tabbarButtons.eq(settings.selected);\n    const __selectedTabbarScreen = __tabbarScreens.eq(settings.selected);\n\n    /**\n     * For Android Material Design:\n     */\n    const androidSelectionBorder = tabbar.find('.androidSelectionBorder');\n    function handleTabSelectionForAndroid(tab) {\n      let width = $(tab).width();\n      let left = $(tab).offset().left;\n      androidSelectionBorder.css({width: width + 'px', left: left + 'px'});\n    }\n    if ($.theme === 'android') {\n      handleTabSelectionForAndroid(selectedTabButton);\n    }\n\n    /**\n     * Setup events on tabs:\n     */\n    $(() => {\n\n      $.ChuiRoutes = [];\n      $.ChuiRoutes.push(__tabbarScreens.eq(settings.selected)[0].id);\n\n      const tabbarButtons = tabbar.find('button');\n      $.Router.dispatch(__selectedTabbarScreen[0].id);\n      tabbarButtons.forEach(function (button, idx) {\n        $(button).data('chui-route', __tabbarScreens.eq(idx)[0].id);\n      });\n\n      /**\n       * Tap on tab:\n       */\n      tabbar.on('tap', 'button', function () {\n        const tab = $(this);\n        const routes = tab.data('chui-route').split('/');\n        const fullRoute = $.ChuiRoutes.join('/');\n        let navRoutesFull = tab.data('chui-route');\n        const navRoutes = navRoutesFull.split('/');\n\n        /**\n         * This tab holds a navigation list:\n         */\n        if (routes.length > 1) {\n          __tabbarButtons.hazClass('selected').data('chui-route', fullRoute);\n          __tabbarButtons.hazClass('selected').removeClass('selected').addClass('next');\n          navRoutesFull = $(this).data('chui-route');\n          /**\n           * Set this tab to `selected`:\n           */\n          tab.addClass('selected');\n          /**\n           * Deal with previously selected tab and screen:\n           */\n          $('screens').removeClass('current').addClass('next').attr('aria-hidden', true);\n          $('screens').removeClass('previous').addClass('next').attr('aria-hidden', true);\n          const navRoutes = navRoutesFull.split('/');\n          navRoutes.forEach( function(route, idx) {\n            const routing = route.split(':');\n            let whichRoute = routing[0];\n            if (idx !== routes.length - 1) {\n              $('#' + whichRoute).removeClass('next').addClass('previous').attr('aria-hidden', true);\n            } else {\n              $('#' + whichRoute).removeClass('next').addClass('current').attr('aria-hidden', false);\n            }\n          });\n          /**\n           * Take care of routes:\n           */\n          $.ChuiRoutes = routes;\n          $.Router.dispatch(routes[routes.length - 1]); \n\n          /**\n           * Handle Android ripple effect:\n           */\n          if ($.theme === 'android') {\n            handleTabSelectionForAndroid(tab);\n          }\n\n          /**\n           * This tab has a single screen:\n           */\n        } else {\n          const screen = $('screen').eq(tab.index());\n          __tabbarButtons.hazClass('selected').data('chui-route', fullRoute);\n          __tabbarButtons.hazClass('selected').removeClass('selected').addClass('next');\n          /**\n           * Deal with previously selected tab and screen:\n           */\n          $('screen').removeClass('current').addClass('next').attr('aria-hidden', true);\n          $('screen').removeClass('previous').addClass('next').attr('aria-hidden', true);\n          /**\n           * Set this tab to `selected`:\n           */\n          tab.addClass('selected');\n          if ($.theme === 'android') {\n            handleTabSelectionForAndroid(tab);\n          }\n\n          routes.forEach(function (route, idx) {\n            const routing = route.split(':');\n            const whichRoute = routing[0];\n            if (idx !== routes.length - 1) {\n              $('#' + whichRoute).removeClass('next').addClass('previous').attr('aria-hidden', true);\n            } else {\n              $('#' + whichRoute).removeClass('next').addClass('current').attr('aria-hidden', false);\n            }\n          });\n          \n          /**\n           * Take care of routes:\n           */\n          $.ChuiRoutes = routes;\n          $.Router.dispatch(fullRoute);\n        }\n      });\n    });\n\n    return {\n      getSelectedTab: () => {\n        return __selectedTabbarButton;\n      },\n\n      getSelectedScreen: () => {\n        return __selectedTabbarScreen;\n      },\n\n      setSelectedTab: (position) => {\n        tabbar.find('button').iz('.selected').removeClass('selected').addClass('next');\n        tabbar.children('button').eq(position).addClass('selected');\n        setToNext(__tabbarScreens.iz('.current')[0]);\n        setToCurrent(__tabbarScreens.eq(position)[0]);\n      }\n    };\n  }\n});\n\n/**\n * Android Ripple Effect - Triggered when Android theme is detected.\n */\n$(function() {\n\n  if ($.theme === 'android') {\n    $('body').on($.eventStart, \"button, ul.editing > li, li[data-show], li[data-select], li[data-goto], chui-sheet-handle, switch, .popover li\", function(e) {\n\n      let target = this;\n      \n      /**\n       * If item is disabled, do nothing.\n       */\n      if (target.hasAttribute(\"disabled\") || target.classList.contains(\"disabled\")) {\n        return;\n      }\n      \n      /**\n       * Get dimensions of target:\n       */\n      const offset = $(target).offset();\n      let w = Math.min(this.offsetWidth, 160);\n      let h = Math.min(this.offsetHeight, 160);\n      const d = Math.max(w, h);\n      /**\n       * Set width and height to whichever is greater:\n       */\n      w = d;\n      h = d;\n\n      const x = e.pageX - offset.left;\n      const y = e.pageY - offset.top;\n\n      let navBkColor = undefined;\n      let backgroundColor = undefined;\n\n      /**\n       * Create ripple sheath and append to target:\n       */\n      const ripple = $('<ripple-sheath></ripple-sheath>');\n      $(target).append(ripple);\n\n      /**\n       * Check if button  is in navbar.\n       * If it is, get navbar background color and base ripple on that:\n       */\n\n      if (target.nodeName === 'BUTTON' && target.classList.contains('slide-out-button')) {\n        let navBkColor = $('nav').eq(0).css('background-color');\n        backgroundColor = new $.ChuiColor(navBkColor).toHex();\n      } else if ((target.nodeName === 'BUTTON' && $(target).closest('nav')[0])) {\n        navBkColor = $(target).closest('nav').css('background-color');\n        backgroundColor = new $.ChuiColor(navBkColor).toHex();\n\n      } else {\n        backgroundColor = $(this).css('background-color');\n        if (!backgroundColor || backgroundColor === 'rgba(0, 0, 0, 0)') {\n          backgroundColor = '#fff'\n        }\n      }\n\n      /**\n       * Handle ripple color:\n       */\n      let rippleColor = '#fff';\n      const brightness = $.calculateBrightness(backgroundColor);\n      if (brightness > 195) {\n        rippleColor = '#aaa';\n      } else {\n        rippleColor = '#fff';\n      }\n\n      /**\n       * If ripple sheath has custom color for ripple, use that:\n       */\n      if (target.dataset.rippleColor) {\n        rippleColor = target.dataset.rippleColor\n      }\n      \n      /**\n       * Create expanding ripple effect:\n       */\n      const rippleWave = $('<ripple-wave></ripple-wave>');\n      rippleWave.css({\n        \"background-color\": rippleColor,\n        width: h + 'px',\n        height: h + 'px',\n        left: x - (h/2) + 'px',\n        top: y - (h/2) + 'px',\n      });\n\n      /**\n       * Append to ripple, then delete:\n       */\n      ripple.append(rippleWave);\n      setTimeout(function() {\n        ripple.remove();\n      }, 1000);\n    });\n  }\n});\n$.extend({\n  Box: (function (globalObject) {\n    /**\n     * IndexedDB Driver:\n     */\n    (function () {\n      const self = this;\n      let indexedDB = indexedDB || globalObject.indexedDB || globalObject.webkitIndexedDB || globalObject.mozIndexedDB || globalObject.OIndexedDB || globalObject.msIndexedDB;\n      if (!indexedDB) {\n        return;\n      }\n\n      const DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\n      let supportsBlobs;\n      let dbContexts;\n      const toString = Object.prototype.toString;\n\n      function _binStringToArrayBuffer(bin) {\n        const length = bin.length;\n        const buf = new ArrayBuffer(length);\n        const arr = new Uint8Array(buf);\n        for (let i = 0; i < length; i++) {\n          arr[i] = bin.charCodeAt(i);\n        }\n        return buf;\n      }\n\n      function _checkBlobSupportWithoutCaching(txn) {\n        return new Promise(function(resolve) {\n          const blob = createBlob(['']);\n          txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n          txn.onabort = function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n          };\n\n          txn.oncomplete = function() {\n            const matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            const matchedEdge = navigator.userAgent.match(/Edge\\//);\n            resolve(matchedEdge || !matchedChrome ||\n              parseInt(matchedChrome[1], 10) >= 43);\n          };\n        }).catch(function() {\n          return false;\n        });\n      }\n\n      function _checkBlobSupport(idb) {\n        if (typeof supportsBlobs === 'boolean') {\n          return Promise.resolve(supportsBlobs);\n        }\n        return _checkBlobSupportWithoutCaching(idb).then(function(value) {\n          supportsBlobs = value;\n          return supportsBlobs;\n        });\n      }\n\n      function _deferReadiness(dbInfo) {\n        const dbContext = dbContexts[dbInfo.name];\n        const deferredOperation = {};\n\n        deferredOperation.promise = new Promise(function(resolve) {\n          deferredOperation.resolve = resolve;\n        });\n\n        dbContext.deferredOperations.push(deferredOperation);\n\n        if (!dbContext.dbReady) {\n          dbContext.dbReady = deferredOperation.promise;\n        } else {\n          dbContext.dbReady = dbContext.dbReady.then(function() {\n            return deferredOperation.promise;\n          });\n        }\n      }\n\n      function _advanceReadiness(dbInfo) {\n        const dbContext = dbContexts[dbInfo.name];\n        const deferredOperation = dbContext.deferredOperations.pop();\n\n        if (deferredOperation) {\n          deferredOperation.resolve();\n        }\n      }\n\n      function _getConnection(dbInfo, upgradeNeeded) {\n        return new Promise(function(resolve, reject) {\n\n          if (dbInfo.db) {\n            if (upgradeNeeded) {\n              _deferReadiness(dbInfo);\n              dbInfo.db.close();\n            } else {\n              return resolve(dbInfo.db);\n            }\n          }\n\n          const dbArgs = [dbInfo.name];\n\n          if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n          }\n\n          const openreq = idb.open.apply(idb, dbArgs);\n\n          if (upgradeNeeded) {\n            openreq.onupgradeneeded = function(e) {\n              const db = openreq.result;\n              try {\n                db.createObjectStore(dbInfo.storeName);\n                if (e.oldVersion <= 1) {\n                  db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                }\n              } catch (ex) {\n                if (ex.name === 'ConstraintError') {\n                  console.warn('The database \"' + dbInfo.name + '\"' +\n                    ' has been upgraded from version ' + e.oldVersion +\n                    ' to version ' + e.newVersion +\n                    ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                } else {\n                  throw ex;\n                }\n              }\n            };\n          }\n\n          openreq.onerror = function() {\n            reject(openreq.error);\n          };\n\n          openreq.onsuccess = function() {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n          };\n        });\n      }\n\n      function _getOriginalConnection(dbInfo) {\n        return _getConnection(dbInfo, false);\n      }\n\n      function _getUpgradedConnection(dbInfo) {\n        return _getConnection(dbInfo, true);\n      }\n\n      function _isUpgradeNeeded(dbInfo, defaultVersion) {\n        if (!dbInfo.db) {\n          return true;\n        }\n\n        const isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n        const isDowngrade = dbInfo.version < dbInfo.db.version;\n        const isUpgrade = dbInfo.version > dbInfo.db.version;\n\n        if (isDowngrade) {\n          if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' +\n              ' can\\'t be downgraded from version ' + dbInfo.db.version +\n              ' to version ' + dbInfo.version + '.');\n          }\n          dbInfo.version = dbInfo.db.version;\n        }\n\n        if (isUpgrade || isNewStore) {\n          if (isNewStore) {\n            const incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n              dbInfo.version = incVersion;\n            }\n          }\n          return true;\n        }\n        return false;\n      }\n\n      function _encodeBlob(blob) {\n        return new Promise(function(resolve, reject) {\n          const reader = new FileReader();\n          reader.onerror = reject;\n          reader.onloadend = function(e) {\n            const base64 = btoa(e.target.result || '');\n            resolve({\n              __local_forage_encoded_blob: true,\n              data: base64,\n              type: blob.type\n            });\n          };\n          reader.readAsBinaryString(blob);\n        });\n      }\n\n      function _decodeBlob(encodedBlob) {\n        const arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n        return createBlob([arrayBuff], {type: encodedBlob.type});\n      }\n\n      function _isEncodedBlob(value) {\n        return value && value.__local_forage_encoded_blob;\n      }\n\n      function _fullyReady(callback) {\n        const self = this;\n\n        const promise = self._initReady().then(function() {\n          let dbContext = dbContexts[self._dbInfo.name];\n\n          if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n          }\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n      }\n\n      function _initStorage(options) {\n        const self = this;\n        const dbInfo = {\n          db: null\n        };\n\n        if (options) {\n          for (let i in options) {\n            dbInfo[i] = options[i];\n          }\n        }\n\n        if (!dbContexts) {\n          dbContexts = {};\n        }\n\n        let dbContext = dbContexts[dbInfo.name];\n\n        if (!dbContext) {\n          dbContext = {\n            forages: [],\n            db: null,\n            dbReady: null,\n            deferredOperations: []\n          };\n          dbContexts[dbInfo.name] = dbContext;\n        }\n\n        dbContext.forages.push(self);\n\n        if (!self._initReady) {\n          self._initReady = self.ready;\n          self.ready = _fullyReady;\n        }\n\n        const initPromises = [];\n\n        function ignoreErrors() {\n          return Promise.resolve();\n        }\n\n        for (let j = 0; j < dbContext.forages.length; j++) {\n          const forage = dbContext.forages[j];\n          if (forage !== self) {\n            initPromises.push(forage._initReady().catch(ignoreErrors));\n          }\n        }\n\n        const forages = dbContext.forages.slice(0);\n\n        return Promise.all(initPromises).then(function() {\n          dbInfo.db = dbContext.db;\n          return _getOriginalConnection(dbInfo);\n        }).then(function(db) {\n          dbInfo.db = db;\n          if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            return _getUpgradedConnection(dbInfo);\n          }\n          return db;\n        }).then(function(db) {\n          dbInfo.db = dbContext.db = db;\n          self._dbInfo = dbInfo;\n          for (let k = 0; k < forages.length; k++) {\n            let forage = forages[k];\n            if (forage !== self) {\n              forage._dbInfo.db = dbInfo.db;\n              forage._dbInfo.version = dbInfo.version;\n            }\n          }\n        });\n      }\n\n      function get(key, callback) {\n        const self = this;\n\n        if (typeof key !== 'string') {\n          console.warn(key +\n            ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n              .objectStore(dbInfo.storeName);\n            const req = store.get(key);\n\n            req.onsuccess = function() {\n              let value = req.result;\n              if (value === undefined) {\n                value = null;\n              }\n              if (_isEncodedBlob(value)) {\n                value = _decodeBlob(value);\n              }\n              resolve(value);\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function each(iterator, callback) {\n        const self = this;\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n              .objectStore(dbInfo.storeName);\n\n            const req = store.openCursor();\n            let iterationNumber = 1;\n\n            req.onsuccess = function() {\n              const cursor = req.result;\n\n              if (cursor) {\n                let value = cursor.value;\n                if (_isEncodedBlob(value)) {\n                  value = _decodeBlob(value);\n                }\n                const result = iterator(value, cursor.key,\n                  iterationNumber++);\n\n                if (result !== void(0)) {\n                  resolve(result);\n                } else {\n                  cursor.continue();\n                }\n              } else {\n                resolve();\n              }\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n\n        return promise;\n      }\n\n      function set(key, value, callback) {\n        const self = this;\n\n        if (typeof key !== 'string') {\n          console.warn(key +\n            ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          let dbInfo;\n          self.ready().then(function() {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n              return _checkBlobSupport(dbInfo.db).then(function(blobSupport) {\n                if (blobSupport) {\n                  return value;\n                }\n                return _encodeBlob(value);\n              });\n            }\n            return value;\n          }).then(function(value) {\n            const transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n            const store = transaction.objectStore(dbInfo.storeName);\n\n            if (value === null) {\n              value = undefined;\n            }\n\n            transaction.oncomplete = function() {\n              if (value === undefined) {\n                value = null;\n              }\n\n              resolve(value);\n            };\n            transaction.onabort = transaction.onerror = function() {\n              const err = req.error ? req.error : req.transaction.error;\n              reject(err);\n            };\n\n            const req = store.put(value, key);\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function remove(key, callback) {\n        const self = this;\n\n        if (typeof key !== 'string') {\n          console.warn(key +\n            ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n            const store = transaction.objectStore(dbInfo.storeName);\n            const req = store.delete(key);\n            transaction.oncomplete = function() {\n              resolve();\n            };\n\n            transaction.onerror = function() {\n              reject(req.error);\n            };\n\n            transaction.onabort = function() {\n              const err = req.error ? req.error : req.transaction.error;\n              reject(err);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function clear(callback) {\n        const self = this;\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n            const store = transaction.objectStore(dbInfo.storeName);\n            const req = store.clear();\n\n            transaction.oncomplete = function() {\n              resolve();\n            };\n\n            transaction.onabort = transaction.onerror = function() {\n              const err = req.error ? req.error : req.transaction.error;\n              reject(err);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function length(callback) {\n        const self = this;\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n              .objectStore(dbInfo.storeName);\n            const req = store.count();\n\n            req.onsuccess = function() {\n              resolve(req.result);\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function key(n, callback) {\n        const self = this;\n\n        const promise = new Promise(function(resolve, reject) {\n          if (n < 0) {\n            resolve(null);\n\n            return;\n          }\n\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n              .objectStore(dbInfo.storeName);\n\n            let advanced = false;\n            const req = store.openCursor();\n            req.onsuccess = function() {\n              const cursor = req.result;\n              if (!cursor) {\n                resolve(null);\n\n                return;\n              }\n\n              if (n === 0) {\n                resolve(cursor.key);\n              } else {\n                if (!advanced) {\n                  advanced = true;\n                  cursor.advance(n);\n                } else {\n                  resolve(cursor.key);\n                }\n              }\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function keys(callback) {\n        const self = this;\n\n        const promise = new Promise(function(resolve, reject) {\n          self.ready().then(function() {\n            const dbInfo = self._dbInfo;\n            const store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n              .objectStore(dbInfo.storeName);\n\n            const req = store.openCursor();\n            const keys = [];\n\n            req.onsuccess = function() {\n              const cursor = req.result;\n\n              if (!cursor) {\n                resolve(keys);\n                return;\n              }\n\n              keys.push(cursor.key);\n              cursor.continue();\n            };\n\n            req.onerror = function() {\n              reject(req.error);\n            };\n          }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      const asyncStorage = {\n        _driver: 'asyncStorage',\n        _initStorage: _initStorage,\n        each: each,\n        get: get,\n        set: set,\n        remove: remove,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n      };\n\n      /**\n       * Export driver:\n       */\n      this.asyncStorage = asyncStorage;\n      globalObject.asyncStorage = asyncStorage;\n    }).call(window);\n\n    /**\n     * WebSQL Driver:\n     */\n    (function () {\n      const globalObject = this;\n      const openDatabase = this.openDatabase;\n      if (!openDatabase) {\n        return;\n      }\n\n      function __initStorage(options) {\n        const self = this;\n        let dbInfo = {\n          db: null\n        };\n\n        if (options) {\n          for (let i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n          }\n        }\n\n        const dbInfoPromise = new Promise(function (resolve, reject) {\n          try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n          } catch (e) {\n            return self.setDriver(self.LOCALSTORAGE).then(function () {\n              return self.__initStorage(options);\n            }).then(resolve)['catch'](reject);\n          }\n\n          dbInfo.db.transaction(function (t) {\n            t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.boxName + ' (id INTEGER PRIMARY KEY, key unique, value)', [], function () {\n              self.__dbInfo = dbInfo;\n              resolve();\n            }, function (t, error) {\n              reject(error);\n            });\n          });\n        });\n\n        return new Promise(function (resolve, reject) {\n          resolve(chuiBoxSerializer);\n        }).then(function (lib) {\n          dbInfo.serializer = lib;\n          return dbInfoPromise;\n        });\n      }\n\n      function get(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('SELECT * FROM ' + dbInfo.boxName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                let result = results.rows.length ? results.rows.item(0).value : null;\n                if (result) {\n                  result = dbInfo.serializer.deserialize(result);\n                }\n                resolve(result);\n              }, \n              function (t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function each(iterator, callback) {\n        const self = this;\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('SELECT * FROM ' + dbInfo.boxName, [], function (t, results) {\n                const rows = results.rows;\n                const length = rows.length;\n\n                for (let i = 0; i < length; i++) {\n                  const item = rows.item(i);\n                  let result = item.value;\n                  if (result) {\n                    result = dbInfo.serializer.deserialize(result);\n                  }\n                  result = iterator(result, item.key, i + 1);\n                  if (result !== undefined) {\n                    resolve(result);\n                    return;\n                  }\n                }\n\n                resolve();\n              }, function (t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function set(key, value, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            if (value === undefined) {\n              value = null;\n            }\n\n            const originalValue = value;\n            const dbInfo = self.__dbInfo;\n\n            dbInfo.serializer.serialize(value, function (value, error) {\n              if (error) {\n                reject(error);\n              } else {\n                dbInfo.db.transaction(function (t) {\n                  t.executeSql('INSERT OR REPLACE INTO ' + dbInfo.boxName + ' (key, value) VALUES (?, ?)', [key, value], function () {\n                    resolve(originalValue);\n                  }, function (t, error) {\n                    reject(error);\n                  });\n                }, function (sqlError) {\n                  if (sqlError.code === sqlError.QUOTA_ERR) {\n                    reject(sqlError);\n                  }\n                });\n              }\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function remove(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('DELETE FROM ' + dbInfo.boxName + ' WHERE key = ?', [key], function () {\n                resolve();\n              }, function (t, error) {\n\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function clear(callback) {\n        const self = this;\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('DELETE FROM ' + dbInfo.boxName, [], function () {\n                resolve();\n              }, function (t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function size(callback) {\n        const self = this;\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('SELECT COUNT(key) as c FROM ' + dbInfo.boxName, [], function (t, results) {\n                const result = results.rows.item(0).c;\n\n                resolve(result);\n              }, function (t, error) {\n\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function key(n, callback) {\n        const self = this;\n\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('SELECT key FROM ' + dbInfo.boxName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                const result = results.rows.length ? results.rows.item(0).key : null;\n                resolve(result);\n              }, function (t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function keys(callback) {\n        const self = this;\n        const promise = new Promise(function (resolve, reject) {\n          self.ready().then(function () {\n            const dbInfo = self.__dbInfo;\n            dbInfo.db.transaction(function (t) {\n              t.executeSql('SELECT key FROM ' + dbInfo.boxName, [], function (t, results) {\n                const keys = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                  keys.push(results.rows.item(i).key);\n                }\n                resolve(keys);\n\n              }, function (t, error) {\n                reject(error);\n              });\n            });\n          })['catch'](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function executeCallback(promise, callback) {\n        if (callback) {\n          promise.then(function (result) {\n            callback(null, result);\n          }, function (error) {\n            callback(error);\n          });\n        }\n      }\n\n      const webSQLStorage = {\n        __driver: 'webSQLStorage',\n        __initStorage: __initStorage,\n        each: each,\n        get: get,\n        set: set,\n        remove: remove,\n        clear: clear,\n        size: size,\n        key: key,\n        keys: keys\n      };\n\n      /**\n       * Export driver:\n       */\n      this.webSQLStorage = webSQLStorage;\n      globalObject.webSQLStorage = webSQLStorage;\n    }).call(window);\n\n    /**\n     * localStorage Driver:\n     */\n    (function () {\n      const globalObject = this;\n      let localStorage = null;\n      try {\n        if (!this.localStorage || !('set' in this.localStorage)) {\n          return;\n        }\n        localStorage = this.localStorage;\n      } catch (e) {\n        return;\n      }\n\n      function __initStorage(options) {\n        const self = this;\n        const dbInfo = {};\n        if (options) {\n          for (var i in options) {\n            dbInfo[i] = options[i];\n          }\n        }\n\n        dbInfo.keyPrefix = dbInfo.name + '/';\n\n        if (dbInfo.boxName !== self.__defaultConfig.boxName) {\n          dbInfo.keyPrefix += dbInfo.boxName + '/';\n        }\n\n        self.__dbInfo = dbInfo;\n\n        return new Promise(function (resolve, reject) {\n          resolve(chuiBoxSerializer);\n        }).then(function (lib) {\n          dbInfo.serializer = lib;\n          return Promise.resolve();\n        });\n      }\n\n      function clear(callback) {\n        const self = this;\n        const promise = self.ready().then(function () {\n          const keyPrefix = self.__dbInfo.keyPrefix;\n\n          for (let i = localStorage.length - 1; i >= 0; i--) {\n            const _key = localStorage.key(i);\n\n            if (_key.indexOf(keyPrefix) === 0) {\n              localStorage.remove(_key);\n            }\n          }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function get(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = self.ready().then(function () {\n          const dbInfo = self.__dbInfo;\n          let result = localStorage.get(dbInfo.keyPrefix + key);\n          if (result) {\n            result = dbInfo.serializer.deserialize(result);\n          }\n          return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function each(iterator, callback) {\n        const self = this;\n\n        const promise = self.ready().then(function () {\n          const dbInfo = self.__dbInfo;\n          const keyPrefix = dbInfo.keyPrefix;\n          const keyPrefixLength = keyPrefix.length;\n          const length = localStorage.length;\n          let iterationNumber = 1;\n\n          for (var i = 0; i < length; i++) {\n            const _key2 = localStorage.key(i);\n            if (_key2.indexOf(keyPrefix) !== 0) {\n              continue;\n            }\n            let value = localStorage.get(_key2);\n            if (value) {\n              value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, _key2.substring(keyPrefixLength), iterationNumber++);\n            if (value !== undefined) {\n              return value;\n            }\n          }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function key(n, callback) {\n        const self = this;\n        const promise = self.ready().then(function () {\n          const dbInfo = self.__dbInfo;\n          let result = undefined;\n          try {\n            result = localStorage.key(n);\n          } catch (error) {\n            result = null;\n          }\n\n          if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n          }\n          return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function keys(callback) {\n        const self = this;\n        const promise = self.ready().then(function () {\n          const dbInfo = self.__dbInfo;\n          const length = localStorage.length;\n          const keys = [];\n\n          for (let i = 0; i < length; i++) {\n            if (localStorage.key(i).indexOf(dbInfo.keyPrefix) === 0) {\n              keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));\n            }\n          }\n          return keys;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function size(callback) {\n        const self = this;\n        const promise = self.keys().then(function (keys) {\n          return keys.length;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function remove(key, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = self.ready().then(function () {\n          const dbInfo = self.__dbInfo;\n          localStorage.remove(dbInfo.keyPrefix + key);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function set(key, value, callback) {\n        const self = this;\n        if (typeof key !== 'string') {\n          globalObject.console.warn(key + ' used as a key, but it is not a string.');\n          key = String(key);\n        }\n\n        const promise = self.ready().then(function () {\n          if (value === undefined) {\n            value = null;\n          }\n          const originalValue = value;\n\n          return new Promise(function (resolve, reject) {\n            const dbInfo = self.__dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n              if (error) {\n                reject(error);\n              } else {\n                try {\n                  localStorage.set(dbInfo.keyPrefix + key, value);\n                  resolve(originalValue);\n                } catch (e) {\n                  if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                    reject(e);\n                  }\n                  reject(e);\n                }\n              }\n            });\n          });\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n      }\n\n      function executeCallback(promise, callback) {\n        if (callback) {\n          promise.then(function (result) {\n            callback(null, result);\n          }, function (error) {\n            callback(error);\n          });\n        }\n      }\n\n      const localStorageWrapper = {\n        __driver: 'localStorageWrapper',\n        __initStorage: __initStorage,\n        each: each,\n        get: get,\n        set: set,\n        remove: remove,\n        clear: clear,\n        size: size,\n        key: key,\n        keys: keys\n      };\n\n      /**\n       * Export driver:\n       */\n      this.localStorageWrapper = localStorageWrapper;\n      window.localStorageWrapper = localStorageWrapper;\n    }).call(window);\n\n    /**\n     * Blob Serializer:\n     */\n    (function () {\n      const BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n      const BLOB_TYPE_PREFIX = '~~chui_box_type~';\n      const BLOB_TYPE_PREFIX_REGEX = /^~~chui_box_type~([^~]+)~/;\n      const SERIALIZED_MARKER = '__lfsc__:';\n      const SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n      const TYPE_ARRAYBUFFER = 'arbf';\n      const TYPE_BLOB = 'blob';\n      const TYPE_INT8ARRAY = 'si08';\n      const TYPE_UINT8ARRAY = 'ui08';\n      const TYPE_UINT8CLAMPEDARRAY = 'uic8';\n      const TYPE_INT16ARRAY = 'si16';\n      const TYPE_INT32ARRAY = 'si32';\n      const TYPE_UINT16ARRAY = 'ur16';\n      const TYPE_UINT32ARRAY = 'ui32';\n      const TYPE_FLOAT32ARRAY = 'fl32';\n      const TYPE_FLOAT64ARRAY = 'fl64';\n      const TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n      const globalObject = this;\n\n      function __createBlob(parts, properties) {\n        parts = parts || [];\n        properties = properties || {};\n\n        try {\n          return new Blob(parts, properties);\n        } catch (err) {\n          if (err.name !== 'TypeError') {\n            throw err;\n          }\n\n          const BlobBuilder = globalObject.BlobBuilder || globalObject.MSBlobBuilder || globalObject.MozBlobBuilder || globalObject.WebKitBlobBuilder;\n\n          const builder = new BlobBuilder();\n          for (let i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n          }\n          return builder.getBlob(properties.type);\n        }\n      }\n\n      function serialize(value, callback) {\n        let valueString = '';\n        if (value) {\n          valueString = value.toString();\n        }\n\n        if (value && (value.toString() === '[object ArrayBuffer]' || value.buffer && value.buffer.toString() === '[object ArrayBuffer]')) {\n          let buffer = undefined;\n          let marker = SERIALIZED_MARKER;\n\n          if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n          } else {\n            buffer = value.buffer;\n\n            if (valueString === '[object Int8Array]') {\n              marker += TYPE_INT8ARRAY;\n            } else if (valueString === '[object Uint8Array]') {\n              marker += TYPE_UINT8ARRAY;\n            } else if (valueString === '[object Uint8ClampedArray]') {\n              marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueString === '[object Int16Array]') {\n              marker += TYPE_INT16ARRAY;\n            } else if (valueString === '[object Uint16Array]') {\n              marker += TYPE_UINT16ARRAY;\n            } else if (valueString === '[object Int32Array]') {\n              marker += TYPE_INT32ARRAY;\n            } else if (valueString === '[object Uint32Array]') {\n              marker += TYPE_UINT32ARRAY;\n            } else if (valueString === '[object Float32Array]') {\n              marker += TYPE_FLOAT32ARRAY;\n            } else if (valueString === '[object Float64Array]') {\n              marker += TYPE_FLOAT64ARRAY;\n            } else {\n              callback(new Error('Failed to get type for BinaryArray'));\n            }\n          }\n\n          callback(marker + bufferToString(buffer));\n        } else if (valueString === '[object Blob]') {\n          const fileReader = new FileReader();\n\n          fileReader.onload = function () {\n            const str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n          };\n\n          fileReader.readAsArrayBuffer(value);\n        } else {\n          try {\n            callback(JSON.stringify(value));\n          } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n          }\n        }\n      }\n\n      function deserialize(value) {\n        if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n          return JSON.parse(value);\n        }\n        let serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n        const type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n        let blobType = undefined;\n        if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n          const matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n          blobType = matcher[1];\n          serializedString = serializedString.substring(matcher[0].length);\n        }\n        const buffer = stringToBuffer(serializedString);\n\n        switch (type) {\n          case TYPE_ARRAYBUFFER:\n            return buffer;\n          case TYPE_BLOB:\n            return __createBlob([buffer], {\n              type: blobType\n            });\n          case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n          case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n          case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n          case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n          case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n          case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n          case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n          case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n          case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n          default:\n            throw new Error('Unkown type: ' + type);\n        }\n      }\n\n      function stringToBuffer(serializedString) {\n        let bufferLength = serializedString.length * 0.75;\n        const len = serializedString.length;\n        let i = undefined;\n        let p = 0;\n        var encoded1 = undefined,\n            encoded2 = undefined,\n            encoded3 = undefined,\n            encoded4 = undefined;\n        if (serializedString[serializedString.length - 1] === '=') {\n          bufferLength--;\n          if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n          }\n        }\n        const buffer = new ArrayBuffer(bufferLength);\n        const bytes = new Uint8Array(buffer);\n\n        for (i = 0; i < len; i += 4) {\n          encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n          encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n          encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n          encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n          /*jslint bitwise: true */\n          bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n          bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n          bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n        }\n        return buffer;\n      }\n\n      function bufferToString(buffer) {\n        const bytes = new Uint8Array(buffer);\n        let base64String = '';\n        let i = undefined;\n\n        for (i = 0; i < bytes.length; i += 3) {\n          /*jslint bitwise: true */\n          base64String += BASE_CHARS[bytes[i] >> 2];\n          base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n          base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n          base64String += BASE_CHARS[bytes[i + 2] & 63];\n        }\n        if (bytes.length % 3 === 2) {\n          base64String = base64String.substring(0, base64String.length - 1) + '=';\n        } else if (bytes.length % 3 === 1) {\n          base64String = base64String.substring(0, base64String.length - 2) + '==';\n        }\n        return base64String;\n      }\n\n      const chuiBoxSerializer = {\n        serialize: serialize,\n        deserialize: deserialize,\n        stringToBuffer: stringToBuffer,\n        bufferToString: bufferToString\n      };\n\n      /**\n       * Export driver:\n       */\n      this.chuiBoxSerializer = chuiBoxSerializer;\n      window.chuiBoxSerializer = chuiBoxSerializer;\n    }).call(window);\n\n    /**\n     * ChocolateChip-UI Box Implementation:\n     */\n    const CustomDrivers = {};\n    const DriverType = {\n      INDEXEDDB: 'asyncStorage',\n      LOCALSTORAGE: 'localStorageWrapper',\n      WEBSQL: 'webSQLStorage'\n    };\n    const DefaultDriverOrder = [DriverType.INDEXEDDB, DriverType.WEBSQL, DriverType.LOCALSTORAGE];\n    const LibraryMethods = ['clear', 'get', 'each', 'key', 'keys', 'size', 'remove', 'set'];\n\n    const DefaultConfig = {\n      description: '',\n      driver: DefaultDriverOrder.slice(),\n      name: 'chuibox',\n      size: 4980736,\n      boxName: 'keyvaluepairs',\n      version: 1.0\n    };\n\n    const driverSupport = (function (self) {\n      const indexedDB = indexedDB || self.indexedDB || self.webkitIndexedDB || self.mozIndexedDB || self.OIndexedDB || self.msIndexedDB;\n      const result = {};\n      result[DriverType.WEBSQL] = !!self.openDatabase;\n      result[DriverType.INDEXEDDB] = !!(function () {\n        if (typeof self.openDatabase !== 'undefined' && self.navigator && self.navigator.userAgent && /Safari/.test(self.navigator.userAgent) && !/Chrome/.test(self.navigator.userAgent)) {\n          return false;\n        }\n        try {\n          return indexedDB && typeof indexedDB.open === 'function' && typeof self.IDBKeyRange !== 'undefined';\n        } catch (e) {\n          return false;\n        }\n      })();\n\n      result[DriverType.LOCALSTORAGE] = !!(function () {\n        try {\n          return self.localStorage && 'set' in self.localStorage && self.localStorage.set;\n        } catch (e) {\n          return false;\n        }\n      })();\n\n      return result;\n    })(window);\n\n    const isArray = Array.isArray || function (arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n\n    function callWhenReady(chuiBoxInstance, libraryMethod) {\n      chuiBoxInstance[libraryMethod] = function () {\n        const __args = arguments;\n        return chuiBoxInstance.ready().then(function () {\n          return chuiBoxInstance[libraryMethod].apply(chuiBoxInstance, __args);\n        });\n      };\n    }\n\n    function extend() {\n      for (let i = 1; i < arguments.length; i++) {\n        const arg = arguments[i];\n\n        if (arg) {\n          for (let key in arg) {\n            if (arg.hasOwnProperty(key)) {\n              if (isArray(arg[key])) {\n                arguments[0][key] = arg[key].slice();\n              } else {\n                arguments[0][key] = arg[key];\n              }\n            }\n          }\n        }\n      }\n\n      return arguments[0];\n    }\n\n    function isLibraryDriver(driverName) {\n      for (let driver in DriverType) {\n        if (DriverType.hasOwnProperty(driver) && DriverType[driver] === driverName) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    const ChuiBox = (function () {\n      function ChuiBox(options) {\n\n        this.INDEXEDDB = DriverType.INDEXEDDB;\n        this.LOCALSTORAGE = DriverType.LOCALSTORAGE;\n        this.WEBSQL = DriverType.WEBSQL;\n\n        this.__defaultConfig = extend({}, DefaultConfig);\n        this.__config = extend({}, this.__defaultConfig, options);\n        this.__driverSet = null;\n        this.__initDriver = null;\n        this.__ready = false;\n        this.__dbInfo = null;\n\n        this.__wrapLibraryMethodsWithReady();\n        this.setDriver(this.__config.driver);\n      }\n\n      ChuiBox.prototype.config = function (options) {\n        if (typeof options === 'object') {\n          if (this.__ready) {\n            return new Error(\"Can't call config() after chuibox \" + 'has been used.');\n          }\n          for (let i in options) {\n            if (i === 'boxName') {\n              options[i] = options[i].replace(/\\W/g, '_');\n            }\n\n            this.__config[i] = options[i];\n          }\n          if ('driver' in options && options.driver) {\n            this.setDriver(this.__config.driver);\n          }\n\n          return true;\n        } else if (typeof options === 'string') {\n          return this.__config[options];\n        } else {\n          return this.__config;\n        }\n      };\n\n      ChuiBox.prototype.defineDriver = function (driverObject, callback, errorCallback) {\n        const promise = new Promise(function (resolve, reject) {\n          try {\n            const _ret = (function () {\n              const driverName = driverObject.__driver;\n              const complianceError = new Error('Custom driver not compliant; see ChocolateChip-UI Box documentation');\n              const namingError = new Error('Custom driver name already in use: ' + driverObject.__driver);\n              if (!driverObject.__driver) {\n                reject(complianceError);\n                return {\n                  v: undefined\n                };\n              }\n              if (isLibraryDriver(driverObject.__driver)) {\n                reject(namingError);\n                return {\n                  v: undefined\n                };\n              }\n\n              const customDriverMethods = LibraryMethods.concat('__initStorage');\n              for (let i = 0; i < customDriverMethods.length; i++) {\n                const customDriverMethod = customDriverMethods[i];\n                if (!customDriverMethod || !driverObject[customDriverMethod] || typeof driverObject[customDriverMethod] !== 'function') {\n                  reject(complianceError);\n                  return {\n                    v: undefined\n                  };\n                }\n              }\n\n              let supportPromise = Promise.resolve(true);\n              if ('__support' in driverObject) {\n                if (driverObject.__support && typeof driverObject.__support === 'function') {\n                  supportPromise = driverObject.__support();\n                } else {\n                  supportPromise = Promise.resolve(!!driverObject.__support);\n                }\n              }\n\n              supportPromise.then(function (supportResult) {\n                driverSupport[driverName] = supportResult;\n                CustomDrivers[driverName] = driverObject;\n                resolve();\n              }, reject);\n            })();\n\n            if (typeof _ret === 'object') return _ret.v;\n          } catch (e) {\n            reject(e);\n          }\n        });\n\n        promise.then(callback, errorCallback);\n        return promise;\n      };\n\n      ChuiBox.prototype.driver = function () {\n        return this.__driver || null;\n      };\n\n      ChuiBox.prototype.getDriver = function (driverName, callback, errorCallback) {\n        const self = this;\n        const getDriverPromise = (function () {\n          if (isLibraryDriver(driverName)) {\n            switch (driverName) {\n              case self.INDEXEDDB:\n                return new Promise(function (resolve, reject) {\n                  resolve(asyncStorage);\n                });\n              case self.LOCALSTORAGE:\n                return new Promise(function (resolve, reject) {\n                  resolve(localStorageWrapper);\n                });\n              case self.WEBSQL:\n                return new Promise(function (resolve, reject) {\n                  resolve(webSQLStorage);\n                });\n            }\n          } else if (CustomDrivers[driverName]) {\n            console.log('Using: ' + driverName);\n            return Promise.resolve(CustomDrivers[driverName]);\n          }\n\n          return Promise.reject(new Error('Driver not found.'));\n        })();\n\n        getDriverPromise.then(callback, errorCallback);\n        return getDriverPromise;\n      };\n\n      ChuiBox.prototype.getSerializer = function (callback) {\n        const serializerPromise = new Promise(function (resolve, reject) {\n          resolve(chuiBoxSerializer);\n        });\n        if (callback && typeof callback === 'function') {\n          serializerPromise.then(function (result) {\n            callback(result);\n          });\n        }\n        return serializerPromise;\n      };\n\n      ChuiBox.prototype.ready = function (callback) {\n        const self = this;\n\n        const promise = self.__driverSet.then(function () {\n          if (self.__ready === null) {\n            self.__ready = self.__initDriver();\n          }\n\n          return self.__ready;\n        });\n\n        promise.then(callback, callback);\n        return promise;\n      };\n\n      ChuiBox.prototype.setDriver = function (drivers, callback, errorCallback) {\n        const self = this;\n\n        if (!isArray(drivers)) {\n          drivers = [drivers];\n        }\n\n        const supportedDrivers = this.__getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n          self.__config.driver = self.driver();\n        }\n\n        function initDriver(supportedDrivers) {\n          return function () {\n            var currentDriverIndex = 0;\n\n            function driverPromiseLoop() {\n              while (currentDriverIndex < supportedDrivers.length) {\n                const driverName = supportedDrivers[currentDriverIndex];\n                currentDriverIndex++;\n\n                self.__dbInfo = null;\n                self.__ready = null;\n\n                return self.getDriver(driverName).then(function (driver) {\n                  self.__extend(driver);\n                  setDriverToConfig();\n\n                  self.__ready = self.__initStorage(self.__config);\n                  return self.__ready;\n                })['catch'](driverPromiseLoop);\n              }\n\n              setDriverToConfig();\n              const error = new Error('No available storage method found.');\n              self.__driverSet = Promise.reject(error);\n              return self.__driverSet;\n            }\n\n            return driverPromiseLoop();\n          };\n        }\n\n        const oldDriverSetDone = this.__driverSet !== null ? this.__driverSet['catch'](function () {\n          return Promise.resolve();\n        }) : Promise.resolve();\n\n        this.__driverSet = oldDriverSetDone.then(function () {\n          const driverName = supportedDrivers[0];\n          self.__dbInfo = null;\n          self.__ready = null;\n\n          return self.getDriver(driverName).then(function (driver) {\n            self.__driver = driver.__driver;\n            setDriverToConfig();\n            self.__wrapLibraryMethodsWithReady();\n            self.__initDriver = initDriver(supportedDrivers);\n          });\n        })['catch'](function () {\n          setDriverToConfig();\n          const error = new Error('No available storage method found.');\n          self.__driverSet = Promise.reject(error);\n          return self.__driverSet;\n        });\n\n        this.__driverSet.then(callback, errorCallback);\n        return this.__driverSet;\n      };\n\n      ChuiBox.prototype.supports = function (driverName) {\n        return !!driverSupport[driverName];\n      };\n\n      ChuiBox.prototype.__extend = function (libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n      };\n\n      ChuiBox.prototype.__getSupportedDrivers = function (drivers) {\n        var supportedDrivers = [];\n        for (let i = 0, len = drivers.length; i < len; i++) {\n          const driverName = drivers[i];\n          if (this.supports(driverName)) {\n            supportedDrivers.push(driverName);\n          }\n        }\n        return supportedDrivers;\n      };\n\n      ChuiBox.prototype.__wrapLibraryMethodsWithReady = function () {\n        for (let i = 0; i < LibraryMethods.length; i++) {\n          callWhenReady(this, LibraryMethods[i]);\n        }\n      };\n\n      ChuiBox.prototype.createInstance = function (options) {\n        return new ChuiBox(options);\n      };\n\n      return ChuiBox;\n    })();\n\n    const chuiBox = new ChuiBox();\n    return chuiBox;\n  })(window)\n});"],"sourceRoot":"/source/"}