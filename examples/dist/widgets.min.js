"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_templateObject=_taggedTemplateLiteral(['\n      <aside class="deletion-indicator">\n        <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="deletion-indicator">\n              <g id="ios-indicator">\n                <circle id="ios-circle" fill="#FF0000" cx="10" cy="10" r="10"></circle>\n                <path d="M3.5,10 L16.5,10" id="ios-bar" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>\n              </g>\n              <path d="M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332" id="checkmark" stroke="#FA0303" stroke-width="2"></path>\n            </g>\n          </g>\n        </svg>\n      </aside>'],['\n      <aside class="deletion-indicator">\n        <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="deletion-indicator">\n              <g id="ios-indicator">\n                <circle id="ios-circle" fill="#FF0000" cx="10" cy="10" r="10"></circle>\n                <path d="M3.5,10 L16.5,10" id="ios-bar" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>\n              </g>\n              <path d="M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332" id="checkmark" stroke="#FA0303" stroke-width="2"></path>\n            </g>\n          </g>\n        </svg>\n      </aside>']),_templateObject2=_taggedTemplateLiteral(['\n      <button class="delete">\n        <label>','</label>\n        <svg width="27px" height="30px" viewBox="0 0 27 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="delete-icon" fill="#3A3A3A">\n              <g transform="translate(3.000000, 1.000000)">\n                <path d="M1,6 L20,6 L20,24.9986131 C20,26.6562333 18.6639569,28 16.9998779,28 L4.00012207,28 C2.3432004,28 1,26.6569187 1,24.9986131 L1,6 Z M4,9 L5,9 L5,25 L4,25 L4,9 Z M8,9 L9,9 L9,25 L8,25 L8,9 Z M12,9 L13,9 L13,25 L12,25 L12,9 Z M16,9 L17,9 L17,25 L16,25 L16,9 Z" id="can"></path><path d="M0,4.96611425 L0,1.67759301 L5.1776507,1.7511163 L6.482399,0 L14.5847825,0 L15.8789491,1.7511163 L21,1.7511163 L21,4.9447157 L0,4.96611425 L0,4.96611425 Z" id="lid"></path>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </button>'],['\n      <button class="delete">\n        <label>','</label>\n        <svg width="27px" height="30px" viewBox="0 0 27 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="delete-icon" fill="#3A3A3A">\n              <g transform="translate(3.000000, 1.000000)">\n                <path d="M1,6 L20,6 L20,24.9986131 C20,26.6562333 18.6639569,28 16.9998779,28 L4.00012207,28 C2.3432004,28 1,26.6569187 1,24.9986131 L1,6 Z M4,9 L5,9 L5,25 L4,25 L4,9 Z M8,9 L9,9 L9,25 L8,25 L8,9 Z M12,9 L13,9 L13,25 L12,25 L12,9 Z M16,9 L17,9 L17,25 L16,25 L16,9 Z" id="can"></path><path d="M0,4.96611425 L0,1.67759301 L5.1776507,1.7511163 L6.482399,0 L14.5847825,0 L15.8789491,1.7511163 L21,1.7511163 L21,4.9447157 L0,4.96611425 L0,4.96611425 Z" id="lid"></path>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </button>']),_templateObject3=_taggedTemplateLiteral(['\n      <svg class=\'handle\' width="19px" height="18px" viewBox="0 0 19 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background: rgba(255,255,255,0.01)">\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g id="Artboard" stroke="#C7C7CC">\n            <g id="Move-Indicator-iOS" transform="translate(2.000000, 5.000000)">\n              <path d="M0,0.5 L15,0.5" id="Line-1"></path>\n              <path d="M0,3.5 L15,3.5" id="Line-2"></path>\n              <path d="M0,6.5 L15,6.5" id="Line-3"></path>\n            </g>\n          </g>\n        </g>\n      </svg>'],['\n      <svg class=\'handle\' width="19px" height="18px" viewBox="0 0 19 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background: rgba(255,255,255,0.01)">\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g id="Artboard" stroke="#C7C7CC">\n            <g id="Move-Indicator-iOS" transform="translate(2.000000, 5.000000)">\n              <path d="M0,0.5 L15,0.5" id="Line-1"></path>\n              <path d="M0,3.5 L15,3.5" id="Line-2"></path>\n              <path d="M0,6.5 L15,6.5" id="Line-3"></path>\n            </g>\n          </g>\n        </g>\n      </svg>']),_templateObject4=_taggedTemplateLiteral(["<nav id='global-nav'></nav>"],["<nav id='global-nav'></nav>"]),UIColor=function(e){var t=this;this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.toLowerCase();for(var i=[{re:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<3;n++){var s=i[n].re,o=i[n].process,a=s.exec(e);if(a){var r=o(a);this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toHex=function(){var e=t.r.toString(16),i=t.g.toString(16),n=t.b.toString(16);return 1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),1==n.length&&(n="0"+n),"#"+e+i+n},this.toRGB=function(){return"rgb("+this.r+","+this.g+","+this.b+")"}};$.extend({getBrightness:function(e){return"string"===$.type(e)&&(e=UIColor(e)),.299*e.r+.587*e.g+.114*e.b},lightenColor:function(e,t){var i=parseInt(e.slice(1),16),n=Math.round(2.55*t),s=(i>>16)+n,o=(i>>8&255)+n,a=(255&i)+n;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(o<255?o<1?0:o:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)},darkenColor:function(e,t){var i=parseInt(e.slice(1),16),n=Math.round(2.55*t),s=(i>>16)-n,o=(i>>8&255)-n,a=(255&i)-n;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(o<255?o<1?0:o:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)},calculateBrightness:function(e){"object"===$.type(e)&&(e=e.toHex());var t=new UIColor(e);return $.getBrightness(t)}}),$(function(){"android"===$.theme&&$("body").on($.eventStart,"button, ul.editing > li, li[data-show], li[data-select], li[data-goto], ui-sheet-handle, ui-switch, .ui-popover li",function(e){var t=this;if(!t.hasAttribute("disabled")&&!t.classList.contains("disabled")){var i=Math.min(this.offsetWidth,160),n=Math.min(this.offsetHeight,160),s=Math.max(i,n);i=s,n=s;var o=this.getBoundingClientRect(),a=$.isAndroid?e.touches[0].pageX-o.left:e.pageX-o.left,r=$.isAndroid?e.touches[0].pageY-o.top:e.pageY-o.top,l=void 0,c=void 0,d=document.createElement("ripple-sheath");if($(t).append(d),"BUTTON"===t.nodeName&&t.classList.contains("slide-out-button")){var u=$("ui-screen > nav").eq(0).css("background-color");c=new UIColor(u).toHex()}else"BUTTON"===t.nodeName&&$(t).closest("nav")[0]?(l=$(t).closest("nav").css("background-color"),c=new UIColor(l).toHex()):"BUTTON"===t.nodeName&&$(t).closest("toolbar")[0]?(l=$(t).closest("toolbar").css("background-color"),c=new UIColor(l).toHex()):(c=$(this).css("background-color"))&&"rgba(0, 0, 0, 0)"!==c||(c="#fff");var h="#fff";h=$.calculateBrightness(c)>195?"#aaa":"#fff",t.dataset.rippleColor&&(h=t.dataset.rippleColor);var p=document.createElement("ripple-wave");p.style.backgroundColor=h,p.style.width=n+"px",p.style.height=n+"px",p.style.left=a-n/2+"px",p.style.top=r-n/2+"px",d.append(p),setTimeout(function(){$(d).remove()},1e3)}})}),$.extend({block:function(e){if(!document.querySelector("ui-mask")){$("body").append("<ui-mask></ui-mask>"),document.querySelector("ui-mask").style.display="block",setTimeout(function(){document.querySelector("ui-mask").classList.add("opened"),e&&$("ui-mask").css({opacity:e})});var t=document.querySelector("ui-screen.current");t&&t.setAttribute("aria-hidden",!0)}},unblock:function(){$("ui-mask").remove();var e=document.querySelector("ui-screen.current");e&&e.removeAttribute("aria-hidden")}});var UIBusy=function e(t){if(_classCallCheck(this,e),t){var i={size:40,color:"#666"};$.extend(i,t);var n=$(i.element),s=void 0;"android"===$.theme?function(){i.id=$.uuid();var e=null;if($.isNativeAndroid)return e='<svg class="chui-busy" version="1.1" id="'+i.id+'" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">\n        <g>\n          <path fill="none" stroke="'+i.color+'" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M74.2,65c2.7-4.4,4.3-9.5,4.3-15c0-15.7-12.8-28.5-28.5-28.5S21.5,34.3,21.5,50c0,5.5,1.6,10.6,4.3,15"/>\n        </g>\n        <polyline fill="none" stroke="'+i.color+'" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="89.4,56.1 74.3,65 65.4,49.9 "/>\n      </svg>',void n.append(e);e='<svg id="'+i.id+'" class="chui-busy" x="0px" y="0px" viewBox="0 0 100 100"><circle stroke="url(#SVGID_1_)" cx="50" cy="50" r="28.5"/></svg>',n.append(e),n.array[0].classList.add("hasActivityIndicator"),t.color&&$("#"+i.id).find("circle").css("stroke",t.color),$("#"+i.id).css({height:i.size+"px",width:i.size+"px"})}():"ios"===$.theme&&function(){parseInt(i.size,10)<30?(s="<svg class='chui-busy small' width='"+i.size+"px' height='"+i.size+"px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'>\n        <g x='0' y='0' width='100' height='100' fill='none' class='bk'>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(0 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(45 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(90 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(135 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(180 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(225 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(270 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(315 50 50) translate(0 -30)'></rect>\n        </g>\n      </svg>",n.append(s)):(s="<svg class='chui-busy' width='"+i.size+"px' height='"+i.size+"px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid' class='uil-default'>\n        <g x='0' y='0' width='100' height='100' fill='none'>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(0 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(30 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(60 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(90 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(120 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(150 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(180 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(210 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(240 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(270 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(300 50 50) translate(0 -30)'></rect>\n          <rect  x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='"+i.color+"' transform='rotate(330 50 50) translate(0 -30)'></rect>\n        </g>\n      </svg>",n.append(s))}(),this.center=function(e){if(n){var t=n.find(".chui-busy"),i=n.array[0];e?t.css("position",e):e=t.css("position");var s=void 0,o=void 0,a=void 0,r=void 0;"absolute"===e?(t.css("position","absolute"),s=t.array[0].clientHeight,o=t.array[0].clientWidth,a=i.clientHeight,r=i.clientWidth):(s=parseInt(t.css("height"),10),o=parseInt(t.css("width"),10),a=parseInt($(i).css("height"),10),r=parseInt($(i).css("width"),10),$(t).css({"margin-left":"auto","margin-right":"auto"}));var l=void 0,c=void 0;return"body"===i.nodeName?(l=window.innerHeight/2+window.pageYOffset-s/2+"px",c=window.innerWidth/2-o/2+"px"):(l=a/2-s/2+"px",c=r/2-o/2+"px"),"absolute"!==e&&(c=0),t.css({left:c,top:l}),t}}}},ReorderList=function(){function e(t,i){if(t=document.querySelector(t),!this||this===window)return new e(t,i);this.options=i=i||{},this.onTouchCancel=this.setState.bind(this,this.states.idle),this.onTouchEnd=this.onTouchEnd.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onSelection=this.onSelection.bind(this),this.onContainerFocus=this.onContainerFocus.bind(this),this.onEventStart=this.onEventStart.bind(this),this.onEventMove=this.onEventMove.bind(this),this.setState(this.states.idle),this.attach(t),$(t).on("reorder:reorder",function(e){if(this.classList.contains("showIndicators"))return e.target.parentNode.insertBefore(e.target,e.detail.insertBefore),!1},!1)}function t(e){var t=e.style[a];if(t)return{value:t,original:t};if(window.getComputedStyle){var i=window.getComputedStyle(e).getPropertyValue(r);if(i&&"none"!==i)return{value:i,original:""}}return{value:"",original:""}}var i={list:{ariaRole:"listbox",tabIndex:0,focus:!1},items:{ariaRole:"option",tabIndex:-1,focus:!1}},n=/Chrome\/[3-5]/.test(navigator.userAgent),s=document.createElement("div").style,o="transition"in s?"transition":"webkitTransition",a="transform"in s?"transform":"webkitTransform",r="webkitTransform"===a?"-webkit-transform":"transform",l="userSelect"in s?"userSelect":"webkitUserSelect",c=s[a]?"translateZ(0) ":"",d=s[a]?"translateZ(1px) ":"";s=null;var u=0,h=!1;return e.prototype={list:null,options:{},state:null,target:null,usingTouch:!1,mouseHandlersAttached:!1,startPosition:null,latestPosition:null,previousPosition:null,canPreventScrolling:!1,states:{idle:function(){return this.removeMouseHandlers(),this.target&&(this.target.node.style.willChange="",this.target=null),this.usingTouch=!1,{allowTextSelection:!0}},undecided:function(){this.target.height=this.target.node.offsetHeight,this.target.node.style.willChange=r,this.target.node.style[o]="";var e=setTimeout(function(){var e=this.getAbsoluteMovement();this.canPreventScrolling&&e.x<15&&e.y<25&&this.setState(this.states.reorder)}.bind(this),300);return{leaveState:function(){clearTimeout(e)},onMove:function(){var e=this.getAbsoluteMovement();if(e.x>20&&e.y<Math.max(100,this.target.height)&&this.setState(this.states.idle),e.y>20&&this.setState(this.states.idle),e.x>1.2*e.y)return!1},onLeave:function(){this.setState(this.states.idle)},onEnd:function(){var e=this.dispatch(this.target.originalTarget,"tap");return this.setState(this.states.idle),e}}},reorder:function(){function e(){this.updateScrolling(),h&&(clearTimeout(h),h=null);var e=this.getTotalMovement();this.target.node.style[a]="translate(0,"+e.y+"px) "+d+this.target.baseTransform.value;var t=this.target.height;return f.forEach(function(i){var n=0;i.pos<0&&e.y<0&&i.pos>e.y?n=t:i.pos>0&&e.y>0&&i.pos<e.y&&(n=-t),i.node.style[a]=n?"translate(0,"+n+"px) "+c+i.baseTransform.value:i.baseTransform.original}),!1}this.target.node.focus&&i.items.focus&&this.target.node.focus(),this.target.height=this.target.node.offsetHeight;for(var s=this.list.childNodes,u=$(this.target).index(),h=void 0,p=this.target.node.offsetTop+this.target.height/2,f=[],v=0;v<s.length;v++)if(1==s[v].nodeType&&s[v]!==this.target.node){var m=s[v].offsetTop;s[v].style[o]=r+" 0.2s ease-in-out",f.push({node:s[v],baseTransform:t(s[v]),pos:m+(m<p?s[v].offsetHeight:0)-p})}return this.target.node.classList.add("reordering-list-item"),this.target.node.style.zIndex="99999",this.target.node.style[l]="none",n&&(this.list.style.webkitTransformStyle="preserve-3d"),e.call(this),{leaveState:function(){h&&clearTimeout(h),n&&(this.list.style.webkitTransformStyle=""),this.list.focus&&i.list.focus&&this.list.focus(),this.target.node.classList.remove("reordering-list-item"),this.target.node.style[l]="",this.animateToZero(function(e){e.node.style.zIndex=""}),f.forEach(function(e){e.node.style[a]=e.baseTransform.original,e.node.style[o]=""})},onMove:e,onLeave:function(){h&&clearTimeout(h),h=setTimeout(function(){h=null,this.onTouchCancel()}.bind(this),700)},onEnd:function(){var e=this.getTotalMovement(),t=void 0,i=void 0;if(e.y<0){for(t=0;t<f.length&&!(f[t].pos>e.y);t++);i=t}else{for(t=f.length-1;t>=0&&!(f[t].pos<e.y);t--);i=t+1}return this.dispatch(this.target.node,"reorder",{spliceIndex:i,insertBefore:f[i]?f[i].node:null,originalIndex:u}),this.setState(this.states.idle),!1}}}},attach:function(e){u++,this.list&&this.detach(),!h&&n&&(h=!0,document.body.addEventListener("touchstart",$.noop,!1)),this.list=e,!1!==i.list.tabIndex&&(this.list.tabIndex=i.list.tabIndex),i.list.ariaRole&&this.list.setAttribute("aria-role",i.list.ariaRole),this.setChildNodesAriaRoles(),this.list.addEventListener("focus",this.onContainerFocus,!1),this.otherNodes=[],$(document).on("selectionchange",this.onSelection,!1),$(this.list).on("touchcancel",this.onTouchCancel,!1),$(this.list).on("touchend",this.onTouchEnd,!1),$(this.list).on($.eventStart,this.onEventStart,!1),$(this.list).on($.eventMove,this.onEventMove,!1)},detach:function(){this.onTouchCancel(),$(document).off("selectionchange",this.onSelection,!1),$(this.list).off("touchcancel",this.onTouchCancel,!1),$(this.list).off("touchend",this.onTouchEnd,!1),$(this.list).off($.eventMove,this.onEventMove,!1),!1!==i.list.tabIndex&&this.list.removeAttribute("tabIndex"),i.list.ariaRole&&this.list.removeAttribute("aria-role"),this.unSetChildNodesAriaRoles(),!--u&&h&&(h=!1,$("body").off("touchstart",$.noop,!1))},setState:function(e){if(!this.list||this.list.classList.contains("showIndicators")){if(this.state){if(this.state.ctor===e)return;this.state.leaveState&&this.state.leaveState.call(this)}var t=this.state,i=e.call(this);this.state===t&&(i.ctor=e,this.state=i)}},findTargetNode:function(e){for(;e&&e.parentNode!==this.list;)e=e.parentNode;return e},onContainerFocus:function(e){this.list.classList.contains("showIndicators")&&(this.list.style.outline="none",this.setChildNodesAriaRoles())},setChildNodesAriaRoles:function(){for(var e=this,t=Array.prototype.slice.call(e.list.childNodes),n=0;n<t.length;n++)1==t[n].nodeType&&(i.items.ariaRole&&t[n].setAttribute("aria-role",i.items.ariaRole),!1!==i.items.tabIndex&&(t[n].tabIndex=i.items.tabIndex))},unSetChildNodesAriaRoles:function(){for(var e=Array.prototype.slice.call(self.list.childNodes),t=0;t<e.length;t++)1==e[t].nodeType&&(i.items.ariaRole&&e[t].removeAttribute("aria-role"),!1!==i.items.tabIndex&&e[t].removeAttribute("tabIndex"))},onSelection:function(e){var t=e.target===document||this.findTargetNode(e),i=/(iPhone|iPad|iPod)/i.test(navigator.userAgent)&&!/(Android|Windows)/i.test(navigator.userAgent);t&&(i?this.setState(this.states.idle):this.state.allowTextSelection||e.preventDefault())},addMouseHandlers:function(){this.mouseHandlersAttached||(this.mouseHandlersAttached=!0,$(document).on("mouseleave",this.onMouseLeave,!1),$(document).on("mouseup",this.onMouseUp,!0),$(document).on("blur",this.onTouchCancel,!1))},removeMouseHandlers:function(){this.mouseHandlersAttached&&(this.mouseHandlersAttached=!1,$(document).off("mouseleave",this.onMouseLeave,!1),$(document).off("mouseup",this.onMouseUp,!0),$(document).off("blur",this.onTouchCancel,!1))},onMouseLeave:function(e){this.usingTouch||e.target!==document.documentElement&&e.relatedTarget!==document.documentElement||this.state.onLeave&&this.state.onLeave.call(this)},onEventStart:function(e){if($.isTouchEnabled){if(this.usingTouch=!0,this.canPreventScrolling=!0,e.touches.length>1)return void this.setState(this.states.idle);if(!this.setTarget(e))return;this.startAtPosition({x:e.touches[0].clientX,y:e.touches[0].clientY,time:e.timeStamp})}else{if(this.usingTouch||0!=e.button||!this.setTarget(e))return;this.addMouseHandlers(),this.canPreventScrolling=!0,this.startAtPosition({x:e.clientX,y:e.clientY,time:e.timeStamp})}},setTarget:function(e){var i=this.findTargetNode(e.target);if(!i)return this.setState(this.states.idle),!1;for(var n=i.parentNode;n&&n!=document.body&&!(n.scrollHeight>n.clientHeight&&"visible"!=window.getComputedStyle(n)["overflow-y"]);)n=n.parentNode;return n=n||document.body,this.target={originalTarget:e.target,node:i,scrollContainer:n,origScrollTop:n.scrollTop,origScrollHeight:n.scrollHeight,baseTransform:t(i)},!0},startAtPosition:function(e){this.startPosition=this.previousPosition=this.latestPosition=e,this.setState(this.states.undecided)},updatePosition:function(e,t){null!=this.target&&(this.latestPosition=t,this.state.onMove&&!1===this.state.onMove.call(this)&&e.preventDefault(),this.latestPosition.time-this.previousPosition.time>100&&(this.previousPosition=this.latestPosition))},onEventMove:function(e){$.isTouchEnabled?(this.updatePosition(e,{x:e.touches[0].clientX,y:e.touches[0].clientY,time:e.timeStamp}),this.canPreventScrolling=!1):this.updatePosition(e,{x:e.clientX,y:e.clientY,time:e.timeStamp})},onMouseUp:function(e){this.usingTouch||0!==e.button||this.state.onEnd&&!1===this.state.onEnd.call(this)&&e.preventDefault()},onTouchEnd:function(e){e.touches.length>1?this.onTouchCancel():this.state.onEnd&&!1===this.state.onEnd.call(this)&&e.preventDefault()},getTotalMovement:function(){var e=this.target.scrollContainer.scrollTop-this.target.origScrollTop;return{x:this.latestPosition.x-this.startPosition.x,y:this.latestPosition.y-this.startPosition.y+e,time:this.latestPosition.time-this.startPosition.time}},getAbsoluteMovement:function(){var e=this.getTotalMovement();return{x:Math.abs(e.x),y:Math.abs(e.y),time:e.time,directionX:e.x<0?"left":"right",directionY:e.y<0?"up":"down"}},updateScrolling:function(){var e=0,t=this.target.scrollContainer,i=t.getBoundingClientRect(),n=this.target.node.getBoundingClientRect(),s=Math.min(i.bottom,window.innerHeight)-n.bottom,o=n.top-Math.max(i.top,0),a=this.target.origScrollHeight-Math.min(t.clientHeight,window.innerHeight);s<40?e=Math.min(40,40-s):o<40&&(e=Math.max(-40,o-40)),t.scrollTop=Math.max(0,Math.min(a,t.scrollTop+e))},dispatch:function(e,t,i){var n=document.createEvent("CustomEvent");return n&&n.initCustomEvent?n.initCustomEvent("reorder:"+t,!0,!0,i):(n=document.createEvent("Event"),n.initEvent("reorder:"+t,!0,!0),n.data=i),e.dispatchEvent(n)},animateToZero:function(e,t){t=t||this.target,t.node.style[o]=r+" 0.1s ease-out",t.node.style[a]="translate(0,0) "+c+t.baseTransform.value,setTimeout(function(){t.node.style[o]="",t.node.style[a]=t.baseTransform.original,e&&e.call(this,t)}.bind(this),101)}},e}(),UIEditList=function e(t){if(_classCallCheck(this,e),t){var i=this,n={element:void 0,editLabel:"Edit",doneLabel:"Done",deleteLabel:"Delete",cancelLabel:"Cancel",callback:$.noop,deletable:!1,reorderable:!1,state:void 0,stateProp:"id"};$.extend(n,t);var s=html(_templateObject),o=html(_templateObject2,n.deleteLabel),a=html(_templateObject3),r=!1;if(this.callback=n.callback||$.noop,n.deletable||n.reorderable){t&&$.extend(n,t);n.element;this.elm=$(n.element),n.deletable&&document.querySelector(n.element).classList.add("deletable"),n.reorderable&&document.querySelector(n.element).classList.add("reorderable"),t.state&&t.state.boundComponents.push(this),this.render=function(e){var t="";if(n.element&&(!e&&n.state&&(e=n.state.dataStore),Array.isArray(e))){e.map(function(e){t+=n.render(e)}),this.elm.textContent="";var i=$(n.element);i.empty(),i.append(t),i.find("li").array.map(function(e){n.deletable&&($(e).prepend(s),$(e).append(o)),n.reorderable&&$(e).append(a)})}},this.val=function(){return t.state.dataStore},$(function(){function e(e){var t=$(n.element),i=this;r=!0;var s=$(i).closest("li");t[0].dataset.listEdit="true";var o="-1200%";"rtl"===document.querySelector("html").getAttribute("dir")&&(o="1000%"),$(i).siblings().css({"-webkit-transform":"translate3d("+o+",0,0)","-webkit-transition":"all 1s ease-out",transform:"translate3d("+o+",0,0)",transition:"all 1s ease-out"}),setTimeout(function(){s.remove()},500)}if(n.reorderable){new ReorderList(n.element)}$(n.element).on("tap",".delete",e)});var l=document.dir;l=l?l.toLowerCase():"","rtl"===l&&("swipeleft","swiperight");var c='<button class="edit">'+n.editLabel+"</button>",d=$(n.element).closest("ui-screen"),u=d.find("nav");u.append(c),u.find(".back").hide(),u.prepend('<button class="cancel">'+n.cancelLabel+"</button>"),u.find(".cancel").hide();var h=$(n.element).closest("ui-screen").find("nav .edit"),p=$(n.element).closest("ui-screen").find("nav .cancel");$(n.element).on("tap",".deletion-indicator",function(){this.parentNode.classList.toggle("selected")}),h.on("tap",function(){var e=this,t=e.parentNode.querySelector(".cancel");if(this.classList.contains("edit"))setTimeout(function(){e.classList.remove("edit"),e.classList.add("done"),$(e).text(n.doneLabel),document.querySelector(n.element).classList.add("showIndicators");var i=e.parentNode.querySelector(".back");$(i).hide(),$(t).css("display","block")});else if(this.classList.contains("done")){if(setTimeout(function(){e.classList.remove("done"),e.classList.add("edit"),$(e).text(n.editLabel),document.querySelector(n.element).classList.remove("showIndicators"),$(n.element+" li.selected").forEach(function(e){e.classList.remove("selected")}),$(t).css("display","none")}),!r)return;if(n.state){var s=n.state.dataStore,o=[],a=$(n.element).find("li"),l=[];a.array.map(function(e){l.push(e.dataset.id)}),l.forEach(function(e){var t=s.find(function(t){return t.uuid===e});o.push(t)}),n.state.purge(),n.state.replace(o),o=[],i.callback.call(i,i.callback)}}}),p.on("tap",function(){var e=this,t=$(n.element).closest("ui-screen").find("nav .done");t.text(n.editLabel),t.array[0].classList.remove("done"),t.array[0].classList.add("edit"),setTimeout(function(){document.querySelector(n.element).classList.remove("showIndicators");var t=e.parentNode.querySelector(".back");$(t).show(),$(e).css("display","none")})})}}},UIMultiSelectList=function e(t){if(_classCallCheck(this,e),t&&t.element){var i=this,n={element:void 0,selected:[],name:$.uuid()+"[]",callback:$.noop,state:void 0};this.selection=[],$.extend(n,t);var s=(n.selected,n.name),o=$(n.element);n.state&&n.state.boundComponents.push(this),this.render=function(e,t){var o="";if(n.element&&(!e&&n.state&&(e=n.state.dataStore),Array.isArray(e))){e.map(function(e,t){o+=n.render(e)}).join("");var a=$(n.element);a.array[0].classList.add("multi-select-list"),a.empty(),a.append(o),setTimeout(function(){var e=n.state.dataStore;Array.prototype.slice.apply(a[0].querySelectorAll("li")).map(function(t,o){t.dataset.select=e[o].value,n.selected&&n.selected.length&&(n.selected.indexOf(o)>-1?(t.classList.add("selected"),i.selection.push({index:o,value:e[o].value}),$(t).append('<input type="checkbox" checked name="'+s+'" value="'+e[o].value+'">')):$(t).append('<input type="checkbox" name="'+s+'" value="'+e[o].value+'">')),$(t).prepend((e[o][n.value],'<aside>\n        <span class="multi-selection-indicator">\n          <svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="multi-select-icon" stroke="#979797">\n              <g id="multi-select-circle-+-multi-select-checkmark" transform="translate(2.000000, 2.000000)">\n                <circle id="multi-select-circle" cx="13" cy="13" r="13"></circle>\n                <path d="M4.71521456,15.9877529 L13.0000002,20.7028494 L19.977049,5.70284941" id="multi-select-checkmark"></path>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </aside>'))})})}},o.on("tap","li",function(){var e=this;if(e.classList.contains("selected")){e.classList.remove("selected"),e.removeAttribute("aria-checked"),e.querySelector("input").checked=!1;var t={index:$(e).index(),value:e.dataset.select},s=void 0;i.selection.forEach(function(e,i){e.value===t.value&&(s=i)}),i.selection.splice(s,1),n.callback.apply(this,arguments)}else i.selection.push({index:$(e).index(),value:e.dataset.select}),i.selection.unique(),e.classList.add("selected"),e.setAttribute("aria-checked",!0),e.querySelector("input").checked=!0,n.callback.apply(this,arguments)})}};$(function(){$.fn.extend({decorateBackButton:function(){this.forEach(function(e){if(e.classList.contains("back")||e.classList.contains("backTo")){var t=e.textContent.trim();e.innerHTML="<span>"+t+"</span>",$(e).prepend('<svg id="chui-back-button-svg" width="100px" height="100px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g id="chui-back-arrow" stroke="#979797">\n        <path d="M50.7822487,4.05872022 L5.60302012,49.1913445 L50.4625593,94.6779982" id="back-arrow-bracket"></path>\n        <path d="M6,49.368351 L95.8300018,49.368351" id="back-arrow-shaft"></path>\n      </g>\n    </g>\n  </svg>')}})}}),$(function(){$(".back").decorateBackButton(),$(".backTo").decorateBackButton()});var e=function(e){return $("#"+e).array[0]},t=function(e){e&&(e.classList.add("current"),e.classList.remove("previous"),e.classList.remove("next"))},i=function(e){e&&(e.classList.remove("current"),e.classList.remove("next"),e.classList.add("previous"))},n=function(e){e&&(e.classList.remove("current"),e.classList.remove("previous"),e.classList.add("next"))};$.extend({
GoTo:function(n){if(!$.isNavigating){$.isNavigating=!0,setTimeout(function(){$.isNavigating=!1},500),$.ChuiRoutes.push(n);var s=$("ui-screen.current").array[0],o=function(){var t=void 0;return t=/:/gim.test(n)?n.split(":")[0]:n,e(t)}();s&&(s.scrollTop=0),o&&(o.scrollTop=0),i(s),t(o),Router.dispatch(n)}},GoBack:function(){if(!$.isNavigating){$.isNavigating=!0;var i=$("ui-screen.current").array[0];$.ChuiRoutes.pop();var s=$.ChuiRoutes[$.ChuiRoutes.length-1],o=function(){var t=void 0;return t=/:/gim.test(s)?s.split(":")[0]:s,e(t)}();i[0]&&(i[0].scrollTop=0),o[0]&&(o[0].scrollTop=0),n(i),t(o),Router.dispatch(s),setTimeout(function(){$.isNavigating=!1},500)}},isNavigating:!1,GoBackTo:function(i){for(var s=$.ChuiRoutes.findIndex(function(e){return i}),o=e(i);$.ChuiRoutes.length>s+1;){var a=$.ChuiRoutes.pop();a=a.split(":")[0];var r=e(a);n(r)}t(o),Router.dispatch(i)}}),$("body").on("tap",".back",function(){this.hasAttribute("disabled")||$.GoBack()});var s=function(e){if(!$.isNavigating&&e.dataset.goto&&!$(e).closest("ul").is(".deletable")){var t=e.dataset.goto;t&&(e.classList.add("selected"),setTimeout(function(){return e.classList.remove("selected")},1e3),$.GoTo(t))}};$("body").on("tap","li",function(){s(this)}),$("body").on("doubletap","li",function(){$.isNavigating||s(this)});var o=html(_templateObject4);$("body").prepend(o)});var UIPaging=function e(t){if(_classCallCheck(this,e),t){var i={};$.extend(i,t);$(i.screen).find("nav").append('\n      <div class="pager" id=\'paging-controls\'>\n        <button class="previous" id=\'paging-previous\' disabled>\n          <svg width="24px" height="36px" viewBox="0 0 24 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="pagination-icons" stroke="#979797"><path d="M19.7729197,3 L4.25431067,17.8699971 L19.7729196,32.9558941" id="page-previous"></path></g></g></svg>\n        </button>\n        <button class="next" id=\'paging-next\'>\n          <svg width="24px" height="36px" viewBox="0 0 24 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="pagination-icons" stroke="#979797"><path d="M4.08862955,3.06871359 L20.0261609,18.0528447 L4.08862956,32.9999994" id="page-next"></path></g></g></svg>\n        </button>\n      </div>');var n=$.chunk(i.data,i.size);$(function(){$("#paging-next").on($.eventStart,function(){if(!this.disabled){var e=document.querySelector("article.current");if(e){var t=e.nextElementSibling;t&&"next"===t.className&&(e.classList.add("previous"),e.classList.remove("current"),t.classList.add("current"),t.classList.remove("next"),document.getElementById("paging-previous").removeAttribute("disabled"),t.nextElementSibling&&t.nextElementSibling.classList.contains("next")||(this.disabled=!0))}}}),$("#paging-previous").on($.eventStart,function(){if(!this.disabled){var e=document.querySelector("article.current");if(e){var t=e.previousElementSibling;t&&"previous"===t.className&&(e.classList.add("next"),e.classList.remove("current"),t.classList.add("current"),t.classList.remove("previous"),document.getElementById("paging-next").removeAttribute("disabled"),t.previousElementSibling&&t.previousElementSibling.classList.contains("previous")||(this.disabled=!0))}}})}),this.render=function(){var e="";if(Array.isArray(n)){e=i.render(n);var t=$(i.screen).find("section");t.empty(),t.append(e)}}}},UIPopover=function e(t){if(_classCallCheck(this,e),t){t=t||{};var i={id:$.uuid(),callback:$.noop,title:""};$.extend(i,t),t&&t.content?i.content=t.content:i.content="";var n="<header><h1>"+i.title+"</h1></header>",s='<ui-popover id="'+i.id+'">'+n+"<section></section></ui-popover>",o="#"+i.id;document.dir;this.open=function(){$.block(".5"),document.body.classList.contains("themeIsAndroid")?(document.getElementById(i.id).style.display="block",setTimeout(function(){document.getElementById(i.id).classList.add("opened"),$.positionPopover(i.trigger)})):(document.getElementById(i.id).style.display="block",document.getElementById(i.id).classList.add("opened"),$.positionPopover(i.trigger))},$("body").append(s),$(o)[0].dataset.triggerEl=i.trigger,$(o).find("section").append(i.content),i.callback.call(i.callback,i.trigger)}};$.extend({positionPopover:function(e){var t=document.querySelector(e),i=t.offsetLeft,n=void 0,s=$("ui-popover.opened");s.array[0].offsetLeft,n=t.offsetTop+t.clientHeight,"rtl"===document.dir?s.array[0].clientWidth+t.offsetLeft>window.innerWidth?s.css({left:s.array[0].clientLeft-20+"px",top:n+25+"px"}):t.offsetLeft<250?s.css({left:"20px",top:n+25+"px"}):s.css({left:i-20+"px",top:n+25+"px"}):s.array[0].clientWidth+t.offsetLeft>window.innerWidth?s.css({left:window.innerWidth-s.array[0].clientWidth-20+"px",top:n+25+"px"}):s.css({left:i+"px",top:n+25+"px"})},closePopover:function(){var e=document.querySelector("ui-popover.opened");e&&($.unblock(),e.classList.remove("opened"),e.style.display="none")}}),$(function(){window.onresize=function(){if(document.querySelector("ui-popover.opened")){var e=document.querySelector("ui-popover.opened").dataset.triggerEl;$.positionPopover(e)}},$("body").on($.eventStart,"ui-mask",function(e){$.closePopover()})});var UIPopup=function e(t){function i(e){e.classList.remove("opened")}if(_classCallCheck(this,e),t){var n={};n.id=$.uuid(),n.content=!0,$.extend(n,t);var s="";n.width&&(s='style="width:'+n.width+'px"');var o=n.id,a=n.title?"<header><h1>"+n.title+"</h1></header>":"",r=n.message?'<p role="note">'+t.message+"</p>":"",l=t.cancelButton?'<button class="cancel" role="button">'+n.cancelButton+"</button>":"",c=n.continueButton?'<button class="continue" role="button">'+n.continueButton+"</button>":"",d=n.callback||$.noop,u=void 0;if(u=n.empty?'<div id="'+o+'" class="popup"><div '+s+' class="dialog" role="alertdialog"></div></div>':'<div class="popup" id="'+o+'"><div class="dialog" role="alertdialog"><div class="panel">'+a+r+"</div><footer>"+l+c+"</footer></div></div>",$("body").append(u),n.empty){var h;$(".dialog").css((h={display:"-webkit-flex","-webkit-justify-content":"center","-webkit-align-items":"center"},_defineProperty(h,"display","flex"),_defineProperty(h,"justify-content","center"),_defineProperty(h,"align-items","center"),h))}this.close=function(){var e=document.getElementById(n.id);e&&e.classList.remove("opened")},d&&c&&$("#"+o).find(".continue").on("tap",function(){var e=this;$.isAndroid||$.isChrome?(e.classList.add("selected"),setTimeout(function(){e.classList.remove("selected"),$(".popup").ClosePopup(),d.call(d)},300)):(i($(this).closest(".popup").array[0]),d.call(d))}),$("#"+o).find(".cancel").on("tap",function(){var e=$(this).closest(".popup").array[0],t=this;$.isAndroid||$.isChrome?(t.classList.remove("selected"),setTimeout(function(){t.classList.remove("selected"),i(e)},300)):i(e)}),$(function(){$(".popup").on("tap",function(e){this.classList.remove("opened")})}),this.open=function(){var e=document.getElementById(n.id);e&&(e.classList.remove("forPopup"),e.classList.add("opened"))}}},UIRange=function e(t){function i(e){if(e&&"INPUT"===e.nodeName){var t=void 0,i=e.clientWidth,n=(e.value-e.getAttribute("min"))/(e.getAttribute("max")-e.getAttribute("min")),s=-1.3;n<0?t=0:n>1?t=i:(t=i*n+s,s-=n),$.theme&&"android"===$.theme?$(e).css({"background-size":Math.round(t)+"px 3px, 100% 3px"}):$(e).css({"background-size":Math.round(t)+"px 10px"})}}_classCallCheck(this,e),setTimeout(function(){var e=$("input[type=range]");e.array.length&&e.array.forEach(function(e){i(e)})}),$("body").on("input","input[type=range]",function(){i(this)}),t&&$(function(){i(t)})};$.extend({ChuiRoutes:[]});var Router=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addRoute",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){return $.subscribe(e.route,e.callback)})}}],[{key:"dispatch",value:function(e){if(e){var t=void 0,i=void 0;e.match(/\:/)&&(t=e.split(":"),i=t[1],e=t[0]),$.publish(e,i)}}}]),e}();$.extend($.ChuiRoutes,{getFullRoute:function(){return this.join("/")}}),$(function(){$("ui-screen").array.length&&!$.ChuiRoutes.length&&$.ChuiRoutes.push($("ui-screen").array[0].id)});var UISegmented=function e(t){if(_classCallCheck(this,e),t&&t.element){var i=this,n={selected:0,callback:$.noop};$.extend(n,t),this.button;var s=void 0,o=n.labels?n.labels:[];this.index,this.element=n.element,function(){var e="";($.theme="android")&&(e='<span class="androidSelectionBorder"></span>');var t=["<ui-segmented>"];o.forEach(function(e,s){n.selected===s?(t.push('<button role="radio" aria-checked="true" class="selected">'),i.index=s):t.push('<button role="radio">'),t.push(e),t.push("</button>")}),t.push(e+"</ui-segmented>"),s=t.join(""),$(n.element).append(s),i.button=$(n.element).find("button").eq(n.selected).array[0]}();var a=void 0;if("android"===$.theme){a=$(this.element).find(".androidSelectionBorder");var r=$(this.element).find("button").eq(n.selected),l=r.array[0].clientWidth,c=r.array[0].offsetLeft;a.css({width:l+"px",left:c+"px"})}var d=n.callback;$(this.element).on("tap","ui-segmented > button",function(e){if(!this.parentNode.classList.contains("paging")&&($(this).siblings("button").array.map(function(e){return e.classList.remove("selected")}),$(this).siblings("button").array.map(function(e){return e.removeAttribute("aria-checked")}),this.classList.add("selected"),i.index=$(this).index(),i.button=this,this.setAttribute("aria-checked",!0),d.call(this,e),"android"===$.theme)){var t=this.clientWidth,n=this.offsetLeft;"rtl"===document.dir&&(n=this.offsetLeft),a.css({width:t+"px",left:n+"px"})}})}},UISelectList=function e(t){if(_classCallCheck(this,e),t&&t.element){var i=this,n={element:void 0,selected:void 0,name:$.uuid(),callback:$.noop,state:void 0,render:void 0,value:void 0};$.extend(n,t),this.value=n.value,this.index=n.selected;n.name;this.elm=$(n.element);var s=function(e){return"\n        <input type='radio' value='"+e+"' name='"+n.name+'\'><aside>\n        <span class="selection-indicator">\n          <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="selection-indicator">\n                <path d="M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332" id="checkmark" stroke="#007AFF" stroke-width="2"></path>\n                <circle id="outer-circle" stroke="#007AFF" stroke-width="2" cx="10" cy="10" r="9"></circle><circle id="inner-circle" fill="#007AFF" cx="10" cy="10" r="5"></circle>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </aside>\n      '};n.state&&n.state.boundComponents.push(this);var o=void 0;n.state&&(o=n.state.dataStore),this.value=o?o[n.selected].value:"",this.index=n.selected,this.render=function(e,t){var i="";if(n.element&&(!e&&n.state&&(e=n.state.dataStore),Array.isArray(e))){e.map(function(e){i+=n.render(e)}).join(""),this.elm.textContent="";var o=$(n.element);o.empty(),o.append(i),setTimeout(function(){var e=n.state.dataStore;Array.prototype.slice.apply(o[0].querySelectorAll("li")).map(function(t,i){$(t).append(s(e[i].value)),i==n.selected&&(t.classList.add("selected"),$(t).find("input")[0].checked=!0)})})}},$(n.element).on("tap","li",function(){var e=$(this);i.value=this.querySelector("input").value,i.index=e.index(),e.siblings("li").forEach(function(e){e.removeAttribute("aria-checked"),e.classList.remove("selected"),e.querySelector("input").checked=!1}),this.classList.add("selected"),this.setAttribute("aria-checked",!0),this.querySelector("input").checked=!0,n.callback.apply(this,arguments)})}},UISheet=function e(t){if(_classCallCheck(this,e),t&&t){var i={id:$.uuid(),background:"",handle:!0,slideFrom:""};$.extend(i,t),i.background&&(i.background=' style="background-color:'+i.background+'" '),"top"===i.slideFrom?i.slideDown=' class="slideDown" ':i.slideFrom=" ",!1===i.handle?i.handle="":i.handle='<ui-sheet-handle>\n        <svg width="100%" height="100%" viewBox="0 0 76 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:butt;stroke-linejoin:butt;stroke-miterlimit:1.41421;">\n          <g id="sheet-handle" transform="matrix(1,0,0,1,-29.7966,-15.7797)">\n            <path id="sheet-handle-path" d="M36.25,26.242L67.645,34.215L98.176,25.789" style="fill:none;"/>\n          </g>\n        </svg>\n      </ui-sheet-handle>';var n='<ui-sheet id="'+i.id+'" '+i.slideDown+" "+i.background+">"+i.handle+"<section></section></ui-sheet>";$("body").append(n),$("#"+i.id).find("ui-sheet-handle").on($.eventStart,function(){$("#"+i.id).array[0].classList.remove("opened"),document.querySelector("ui-screen.current").classList.remove("blurred")}),this.show=function(){var e=document.getElementById(i.id);document.querySelector("ui-screen.current").classList.add("blurred"),e.classList.add("opened"),$.isAndroid||$.isChrome?(e.style.display="block",setTimeout(function(){e.classList.add("opened")},20)):e.classList.add("opened")},this.hide=function(){$("#"+i.id).array[0].classList.remove("opened"),document.querySelector("ui-screen.current").classList.remove("blurred")},this.populate=function(e){return $("#"+i.id).find("section").append(e)}}},UISlideOut=function(){function e(t){_classCallCheck(this,e);var i=t||$.uuid();this.id=i;var n="slideoutBtnID1234",s='<ui-slideout id="'+i+'"><section></section></ui-slideout>';$("body").prepend(s),$("body").append('<button id="slideoutBtnID1234" class="slide-out-button"></button>');var o=document.getElementById(i),a=document.getElementById(n);o.setAttribute("aria-hidden",!0),$("ui-screen").forEach(function(e){e.setAttribute("aria-hidden",!0)}),document.querySelector("ui-screen").classList.add("show"),document.querySelector("ui-screen").setAttribute("aria-hidden","false"),$("#"+n).on("tap",function(){this.classList.toggle("focused"),o.classList.toggle("open"),o.classList.contains("open")?$.block(".5"):$.unblock()}),$(o).on("tap","li",function(){var e=$(o).find("li[data-show]");for(o.setAttribute("aria-hidden","true"),$.unblock(),a.classList.toggle("focused");$.ChuiRoutes.length>1;)$.GoBack();e.forEach(function(e){e.classList.contains("selected")&&e.classList.remove("selected")});var t=document.querySelector("ui-screen.show");t.classList.remove("show"),t.setAttribute("aria-hidden",!0);var i="#"+this.dataset.show.split(":")[0];setTimeout(function(){document.querySelector(i).classList.remove("next")},200),document.querySelector(i).classList.add("show"),Router.dispatch(this.dataset.show),o.classList.remove("open")})}return _createClass(e,[{key:"populate",value:function(e){if(e){var t=document.getElementById(this.id);if(e){t.querySelector("section").appendChild($.h('<ul class="list"></ul>'));var i=t.querySelector("ul");e.forEach(function(e){for(var t in e)"header"===t?$(i).append('<li class="menu-header"><h2>'+e[t]+"</h2></li>"):$(i).append('<li data-show="'+t+'"><h3>'+e[t]+"</h3></li>")})}}}}]),e}(),UIStepper=function e(t){if(_classCallCheck(this,e),t&&t.element&&t.min&&t.max){var i=this;this.stepper=$(t.element);var n=t.min,s=t.max,o=t.defaultValue?t.defaultValue:t.min,a="",r="";this.value,n===o?a=" disabled ":s===o&&(r=" disabled ");var l="<button "+a+' class="decrease"><span>-</span></button>',c="<label>"+o+'</label><input type="text" value="'+o+'">',d="<button "+r+'  class="increase"><span>+</span></button>';$(t.element).append(l+c+d);var u={min:n,max:s,defaultValue:o};$(t.element).array[0].dataset.value=JSON.stringify(u);var h=function(){var e=$(t.element).find("input").array[0].value,n=JSON.parse($(t.element).array[0].dataset.value),s=n.max,o=void 0;o=parseInt(e,10)+1,$(t.element).find("button:first-of-type").array[0].removeAttribute("disabled"),$(t.element).find("label").text(o),$(t.element).find("input").array[0].value=o,i.value=o,o==s&&this.setAttribute("disabled","disabled")},p=function(){var e=$(t.element).find("input").array[0].value,s=(JSON.parse($(t.element).array[0].dataset.value),void 0);s=parseInt(e,10)-1,$(t.element).find("button:last-of-type").array[0].removeAttribute("disabled"),$(t.element).find("label").text(s),$(t.element).find("input").array[0].value=s,i.value=s,s===n&&this.setAttribute("disabled","disabled")};$(t.element).find("button:last-of-type").on($.eventStart,function(){h.call(this,this.__stepper)}),$(t.element).find("button:first-of-type").on($.eventStart,function(){p.call(this,this.__stepper)})}},UISwitch=function e(t){if(_classCallCheck(this,e),t&&t.element){this.checked=!1,this.value=void 0;var i=this,n={element:void 0,name:void 0,value:void 0,checked:!1,on:$.noop,off:$.noop};$.extend(n,t),this.checked=n.checked,this.value=n.value;var s=$(n.element),o=s.array[0],a="swiperight",r="swipeleft";"rtl"===document.documentElement.dir&&(a="swipeleft",r="swiperight");var l=n.checked?" checked":"",c='<em></em><input type="checkbox" name="'+n.name+'" '+l+' value="'+n.value+'">';s.append(c),o.value=n.value,o.setAttribute("name",n.name),this.checked&&(o.classList.add("checked"),o.setAttribute("role","checkbox"),o.checked=!0),s.on("tap",function(){var e=this.querySelector("input");this.classList.contains("checked")?(this.classList.remove("checked"),this.setAttribute("aria-checked",!1),e.removeAttribute("checked"),this.checked=!1,i.checked=!1,o.checked=!1,n.off&&n.off.call(this)):(this.classList.add("checked"),e.setAttribute("checked","checked"),o.checked=!0,this.setAttribute("aria-checked",!0),this.checked=!0,i.checked=!0,n.on&&n.on.call(this))}),s.on(a,function(){var e=this.querySelector("input");this.classList.contains("checked")&&(this.classList.remove("checked"),this.setAttribute("aria-checked",!1),o.checked=!1,e.removeAttribute("checked"),this.checked=!0,i.checked=!0,n.on&&n.on.call(this))}),s.on(r,function(){var e=this.querySelector("input");this.classList.contains("checked")||(this.classList.add("checked"),e.setAttribute("checked","checked"),this.setAttribute("aria-checked",!0),o.checked=!0,this.checked=!1,i.checked=!1,n.off&&n.off.call(this))})}},UITabbar=function e(t){function i(e){var t=e.clientWidth,i=e.offsetLeft;v.css({width:t+"px",left:i+"px"})}if(_classCallCheck(this,e),t){var n=$.uuid(),s={selected:0};$.extend(s,t),s.icons.length||(s.icons=s.labels),s.id?n=s.id:s.id=n;var o=new Stack,a=new Stack;s.screens?s.screens.forEach(function(e,t){/screenPrefix/gim.test(e)?(o.concat($(ui-e)),$(e).array[0].classList.add("tabScreen")):(o.push(document.getElementById(e)),o.array[t].classList.add("tabScreen"))}):s.labels.forEach(function(e,t){o.push(a.eq(t))});var r="";"android"===$.theme&&(r='<span class="androidSelectionBorder"></span>');var l=(s.showIcons,function(e,t,i){var n='<button role="tab" class="'+t;return s.selected===i&&(n+=" selected",$.ChuiRoutes=[s.screens[i]]),n+='"',s.screens&&s.screens.length&&(n+=' data-id="'+s.screens[i]+'" data-chui-route="'+s.screens[i]+'"'),n+='><span class="icon"></span><label>'+s.labels[i]+"</label></button>"}),c=document.createElement("ui-tabbar");c.role="tabpanel",s.showIcons&&c.classList.add("showIcons"),c.insertAdjacentHTML("beforeend",r),c.id=s.id,window.tabbarTmpl=c,s.labels.length&&s.labels.forEach(function(e,t){var i=l(0,s.icons[t],t);c.appendChild($.h(i))}),$("body").prepend(c);var d=$("#"+s.id),u=d.find("button.selected"),h=d.find("button"),p=h.eq(s.selected),f=o.eq(s.selected),v=d.find(".androidSelectionBorder");"android"===$.theme&&$(function(){console.dir(u),i(u.array[0])}),this.getSelectedTab=function(){return p},this.getSelectedScreen=function(){return f},$(function(){d.find("button");d.on("tap","button",function(){var e=this,t=e.dataset.chuiRoute.split("/"),n=$.ChuiRoutes.join("/"),s=e.dataset.chuiRoute,o=s.split("/"),a=($.ChuiRoutes,document.querySelector("ui-tabbar button.selected"));if(a.classList.remove("selected"),a.dataset.chuiRoute=n,this.classList.add("selected"),o.length>1){s=e.dataset.chuiRoute;var r=s.split("/"),l=document.querySelector("ui-screen.current");l&&(l.classList.remove("current"),l.classList.add("next"));var c=document.querySelector("ui-screen.previous");c&&(c.classList.remove("previous"),c.classList.add("next")),r.forEach(function(e,i){var n=e.split(":"),s=n[0],o=document.getElementById(s);i!==t.length-1?(o.classList.remove("next"),o.classList.add("previous"),o.setAttribute("aria-hidden",!0)):(o.classList.remove("next"),o.classList.add("current"),o.setAttribute("aria-hidden",!1))}),$.ChuiRoutes=t,Router.dispatch(t[t.length-1]),"android"===$.theme&&i(e)}else{var d=($("ui-screen").eq($(e).index()),document.querySelector("ui-screen.current"));d&&(d.classList.remove("current"),d.classList.add("next"),d.setAttribute("aria-hidden",!0));var u=document.querySelector("ui-screen.previous");u&&(u.classList.remove("previous"),u.classList.add("next"),u.setAttribute("aria-hidden",!0)),e.classList.add("selected"),"android"===$.theme&&i(e),t.forEach(function(e,i){var n=e.split(":"),s=n[0],o=document.getElementById(s);i!==t.length-1?(o.classList.remove("next"),o.classList.add("previous"),o.setAttribute("aria-hidden",!0)):o&&(o.classList.remove("next"),o.classList.add("current"),o.setAttribute("aria-hidden",!1))}),$.ChuiRoutes=t,Router.dispatch(n)}}),$("ui-screen").eq(s.selected).array[0].classList.remove("next"),$("ui-screen").eq(s.selected).array[0].classList.add("current")})}};
//# sourceMappingURL=widgets.min.js.map
