"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t){var e=/complete|loaded|interactive/,n=void 0,r=function(t){return n=new Stack([].slice.apply(t)),n[0]=n.array[0],n},i=function(t){if("string"==typeof t)return t=t.trim(),n=r(document.querySelectorAll(t))};if(t&&t.type&&"Stack"===t.type)return t;if(t===document)return new Stack(document);if(null===t)return new Stack;if("function"==typeof t)e.test(document.readyState)&&document.body?t.call(t):document.addEventListener("DOMContentLoaded",function(){return t.call(t)});else{if(t&&1===t.nodeType)return n=new Stack,n[0]=t,n.length=n.array.length,n.push(t),n;if("string"!=typeof t)return Array.isArray(t)?new Stack(t):t===window?(n=new Stack,n[0]=window,n.length=n.array.length,n):new Stack;if(""===t)return new Stack;try{return i(t)?i(t):new Stack}catch(t){return new Stack}}return new Stack}function html(t){function e(t,n){return null==t?"":!1===t?"":Array.isArray(t)?t.map(e).join(""):!1===n?$.escapeHTML(t):String(t)}var n=t.raw,r="",i=void 0,a=void 0,o=void 0,s=void 0,u=void 0;for(i=1,a=arguments.length;i<a;i++)s=n[i-1],u="!"===s[s.length-1],o=e(arguments[i],u),u&&(s=s.slice(0,-1)),r+=s+o;return r+=n[n.length-1]}function app(t){$(function(){t()})}function html(t){function e(t,n){return null==t?"":!1===t?"":Array.isArray(t)?t.map(e).join(""):!1===n?$.escapeHTML(t):String(t)}var n=t.raw,r="",i=void 0,a=void 0,o=void 0,s=void 0,u=void 0;for(i=1,a=arguments.length;i<a;i++)s=n[i-1],u="!"===s[s.length-1],o=e(arguments[i],u),u&&(s=s.slice(0,-1)),r+=s+o;return r+=n[n.length-1]}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Stack=function(){function t(e){if(_classCallCheck(this,t),this.array=[],this.length=0,this.type="stack",e&&e===document)this.array[0]=document,this[0]=document;else if(Array.isArray(e))for(var n=-1,r=e.length;++n<r;)this.array[n]=e[n];else{var i=Array.prototype.slice.apply(arguments);i.forEach(function(t,e){this.array[e]=t})}}return _createClass(t,[{key:"eq",value:function(e){var n=new t;if(!this.array.length)return n;var r=void 0;if(e<0)r=this.array[this.array.length+e],n.push(r);else{if(e>=this.array.length)return new t;r=this.array[e],n.push(r)}return n[0]=n.array[0],n}},{key:"push",value:function(t){t&&"Stack"===t.objectType?(this.array=this.array.concat(t.array),this[0]=this.array):this.array.push(t)}},{key:"pop",value:function(){var t=this.array.pop();return t=$(t),t[0]=t.array[0],t}},{key:"unshift",value:function(t){t&&"Stack"===t.objectType?(this.array.unshift(t.array[0]),this[0]=this.array[0]):(this.array.unshift(t),this[0]=this.array[0])}},{key:"shift",value:function(){var t=this.array.shift();return t=$(t),t[0]=t.array[0],t}},{key:"forEach",value:function(t){for(var e=0,n=this.array.length;e<n&&!1!==t.call(this.array[e],this.array[e],e);e++);}},{key:"slice",value:function(){for(var e=new t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.concat(this.array.slice.apply(this.array,r)),e=$(e),e[0]=e.array[0],e}},{key:"splice",value:function(){for(var e=new t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.concat(this.array.splice.apply(this.array,r)),e=$(e),e[0]=e.array[0],e}},{key:"filter",value:function(){for(var e=new t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.concat(this.array.filter.apply(this.array,r)),e[0]=e.array[0],e=$(e),e[0]=e.array[0],e}},{key:"map",value:function(){for(var e=new t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.concat(this.array.map.apply(this.array,r)),e[0]=e.array[0],e=$(e),e[0]=e.array[0],e}},{key:"indexOf",value:function(t){if(!t)return-1;if(t.nodeType&&1===t.nodeType)return this.array.indexOf(t);if(t&&"Stack"===t.objectType)return this.array.indexOf(t[0]);if(t&&Array.isArray(t))return this.array.indexOf(t[0]);if(t&&"string"===$.type(t)){var e=this[0].parentNode.querySelector(t);return this.array.indexOf(e)}}},{key:"concat",value:function(t){var e=this;t&&Array.isArray(t.array)?this.array=this.array.concat(t.array):t&&t.constructor.toString().match(/HTMLLIElement/)?this.array.push(t):t&&Array.isArray(t)&&t.forEach(function(t){e.array.push(t)})}},{key:"reverse",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.array.reverse.apply(this.array,e),this[0]=this.array[0]}},{key:"unique",value:function(){var t=[];this.array.sort().forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t.sort(function(t,e){return t-e}),this.array.splice(0);var e=this.array;t.forEach(function(t){e.push(t)})}},{key:"purge",value:function(){this.array.length=0}},{key:"find",value:function(e,n){var r=new t,i=void 0;return this.array.length?(n?$(n).forEach(function(){i=Array.prototype.slice.apply(n.querySelectorAll(e)),i.forEach(function(t){r.array.push(t)})}):this.forEach(function(t){t&&t.children&&t.children.length&&(i=Array.prototype.slice.apply(t.querySelectorAll(e)),i.forEach(function(t){r.array.push(t)}))}),r[0]=r.array[0],r):r}},{key:"is",value:function(t){var e=!1;if(this.array.length&&t&&this.array.length){var n=this,r=function(t,r){if("string"==typeof r){var i=void 0;t.parentNode&&(i=t.parentNode.querySelectorAll(r));var a=void 0;i&&i.length&&(a=Array.prototype.slice.apply(t.parentNode.querySelectorAll(r))),a&&a.length&&a.indexOf(t)>=0&&(e=!0)}else if("function"==typeof r)r.call(n)&&(e=!0);else if(r&&r.type&&"Stack"===r.type)t===r[0]&&(e=!0);else if(r&&r.length)-1!==this.slice.apply(r).indexOf(t)&&(e=!0);else{if(1!==r.nodeType)return;t===r&&(e=!0)}return e};return this.forEach(function(n){r(n,t)&&(e=!0)}),e}}},{key:"index",value:function(t){function e(){return n.findIndex(function(e){return $(e).is(t)})}var n=this.array;if(this.array.length){if(t&&"string"==typeof t)return e();if(t&&t.type&&"Stack"===t.type)return e(t[0]);if(t&&t.nodeType&&1===t.nodeType)return e();if(n.length>1)return 0;return Array.prototype.slice.apply(n[0].parentNode.children).findIndex(function(t){return t===n[0]})}}},{key:"siblings",value:function(e){if(!this.array.length)return new t;var n=void 0,r=new t,i=this,a=this.index(),o=void 0,s=Array.prototype.slice.apply(i.array[0].parentNode.children);if(e&&"string"==typeof e){o=this.array[0].parentNode,n=Array.prototype.slice.apply(o.querySelectorAll(e));var u=n.indexOf(i.array[0]);return n.splice(u,1),r.concat(n),r[0]=r.array[0],r}return s.splice(a,1),r.array=s,r[0]=r.array[0],r}},{key:"closest",value:function(e){if(!this.array.length)return new t;var n=new t;if(void 0===e)return new t;var r=void 0;return this.array[0]&&(r=this.array[0].parentNode),r?("string"==typeof e&&(e.trim(),r&&$(r).is(e)?n.array.push(r):n.array.push($(r).closest(e).array[0])),void 0===n.array[0]&&n.splice(0),n[0]=n.array[0],n):new t}},{key:"css",value:function(e,n){if(!this.array.length)return new t;var r=/top|bottom|left|right|margin|padding/gim,i="",a=new t,o=function(t,e){"number"===t&&e.match(r)&&(i="px")};if(!e)return new t;if(n||"object"!==(void 0===e?"undefined":_typeof(e))||Array.isArray(e)){if(!n&&"string"==typeof e){if(!this.array.length)return;return document.defaultView.getComputedStyle(this.eq(0).array[0],null).getPropertyValue(e.toLowerCase())}n&&this.forEach(function(t){o(n,e),t.style[$.camelize(e)]=n+i,a.push(t)})}else this.forEach(function(t){for(var n in e)e.hasOwnProperty(n)&&(o(e[n],n),t.style[$.camelize(n)]=e[n]+i);a.push(t)});return a[0]=a.array[0],a}},{key:"before",value:function(e){if(!this.array||!this.array.length)return new t;var n=this,r=function(t,e){if("string"!=typeof e&&"number"!=typeof e||(e=$.h(e)),e&&e.type&&"stack"===e.type)for(var r=e.array.length,i=0;i<r;)t.parentNode.insertBefore(e.array[i],t),i++;else e&&1===e.nodeType?t.parentNode.insertBefore(e,t):e&&11==e.nodeType&&n.forEach(function(){t.parentNode.insertBefore(e,t)});return n[0]=n.array[0],n};return n.forEach(function(t){return r(t,e)}),n[0]=n.array[0],this}},{key:"after",value:function(e){if(!this.array||!this.array.length)return new t;var n=this,r=function(t){t.forEach(function(t){n.array.forEach(function(e){e.nextElementSibling?e.parentNode.insertBefore(t,e.nextElementSibling):e.parent.appendChild(t)})})};if("string"==typeof e&&(e=$.h(e)),e&&"stack"===e.type){if(e&&e.array&&!e.array.length)return;r(e.array)}else if(!e||1!==e.nodeType&&3!==e.nodeType){if(e&&11===e.nodeType){var i=Array.prototype.slice.apply(e.childNodes);r(i)}}else n.forEach(function(t){r([e])});return n[0]=this.array[0],n}},{key:"prepend",value:function(e){return this.array.length?("string"==typeof e||"number"==typeof e?this.forEach(function(t){t.insertAdjacentHTML("afterbegin",e)}):e&&e.type&&"Stack"===e.type?this.forEach(function(t){e.forEach(function(e){t.insertBefore(e,t.firstChild)})}):e&&1===e.nodeType?this.forEach(function(t){t.insertBefore(e,t.firstChild)}):e&&11==e.nodeType&&this.forEach(function(t){t.appendChild(e)}),this[0]=this.array[0],this):new t}},{key:"append",value:function(e){return this.array.length?("string"==typeof e||"number"==typeof e?this.forEach(function(t){t.insertAdjacentHTML("beforeend",e)}):e&&e.type&&"Stack"===e.type?this.forEach(function(t){e.forEach(function(e){t.insertBefore(e,null)})}):e&&1===e.nodeType?this.forEach(function(t){t.insertBefore(e,null)}):e&&11==e.nodeType&&this.forEach(function(t){t.appendChild(e)}),this[0]=this.array[0],this):new t}},{key:"empty",value:function(){if(!this.array.length)return new t;var e=new t;return this.array.forEach(function(t){t.textContent="",e.push(t)}),e[0]=e.array[0],e}},{key:"replaceWith",value:function(t){function e(t,e){if(t&&e){var n=void 0,r=void 0;"string"==typeof t?n=$.h(t):t.type&&"stack"===t.type?n=t.array[0]:1!==t.nodeType&&11!==t.nodeType||(n=t),"string"==typeof e?r=$(e).array[0]:e.type&&"stack"===e.type?r=e.array[0]:1===e.nodeType&&(r=e),$(r).off(),r.parentNode.replaceChild(n,r)}}t&&t.nodeType&&1===t.nodeType?$(t).off():t&&t.type&&"stack"===t.type&&t.off(),this.forEach(function(n){$(n).off(),e(t,n)})}},{key:"remove",value:function(){if(!this.array.length)return new t;this.forEach(function(t){$(t).off(),t.parentNode&&t.parentNode.removeChild(t)})}},{key:"text",value:function(e){var n="";return this.array.length?e||0===e?(this.forEach(function(t){t.innerText=e}),this):(this.forEach(function(t){n+=t.innerText,n.trim()}),n):new t}},{key:"html",value:function(e){return this.array.length?""===e?(this.array.forEach(function(t){t.innerHTML=""}),this):e?(this.array.forEach(function(t){t.innerHTML=e}),this):e?void 0:this.array[0].innerHTML.trim():new t}},{key:"val",value:function(e){return this.array.length?e||""===e?(this.array[0].value=e,this[0]=this.array[0],this):this.array[0]&&this.array[0].value?this.array[0].value:void 0:new t}},{key:"hide",value:function(){this.array.length&&(this.array[0].dataset.display=this.css("display"),this.css("display","none"))}},{key:"show",value:function(){if(this.array.length){var t=this.array[0].dataset.display;t?this.css("display",t):this.css("display","block")}}}]),t}();window.Stack=Stack,window.$=$,$.extend=function(t,e){e||(e=t,t=$),Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!1,configurable:!0})})},$.fn={extend:function(t){$.extend(Stack.prototype,t)}},$.extend({version:"5.2.0",noop:function(){},uuid:function(){var t=Date.now();t+=performance.now();var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return e[Math.floor(Math.random()*e.length)]+"xxxxxxxxxxxxxxx".replace(/[x]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},type:function(t){switch(void 0===t?"undefined":_typeof(t)){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"function":return"function";case"object":if(Array.isArray(t))return"array";if("[object Date]"===Object.prototype.toString.call(t))return"date";if("[object Error]"===Object.prototype.toString.call(t))return"error";if("[object RegExp]"===Object.prototype.toString.call(t))return"regexp";if("[object Object]"===Object.prototype.toString.call(t))return t.objectType&&"domstack"===t.objectType?"domstack":t.then?"promise":"object";if("[object Number]"===Object.prototype.toString.call(t))return"number";if("[object String]"===Object.prototype.toString.call(t))return"string";if("[object Promise]"===Object.prototype.toString.call(t))return"promise";if("[object Boolean]"===Object.prototype.toString.call(t))return"boolean"}},escapeHTML:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"},n=JSON.stringify(t),r=function(t){return e[t]||t};return n=function(t){return t.replace(/[&<>\(\)]/g,r)}(n),JSON.parse(n)},camelize:function(t){if("string"==typeof t)return t.replace(/\-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){if("string"==typeof t)return t.replace(/([A-Z])/g,"-$1").toLowerCase()},subscriptions:{},publish:function(t,e){$.subscriptions.hasOwnProperty.call($.subscriptions,t)&&$.subscriptions[t].forEach(function(t){t(void 0!=e?e:{})})},subscribe:function(t,e){$.subscriptions.hasOwnProperty.call($.subscriptions,t)||($.subscriptions[t]=[]);var n=$.subscriptions[t].push(e)-1;return{off:function(){delete $.subscriptions[t][n]},run:function(e){if($.subscriptions[t])try{$.subscriptions[t][n](e)}catch(t){}}}},unsubscribe:function(t){delete $.subscriptions[t]},delay:function(t){return new Promise(function(e){setTimeout(e,t)})},h:function(t){var e=document.createElement("div");e.innerHTML=t;var n=document.createDocumentFragment();return Array.prototype.slice.apply(e.childNodes).map(function(t){n.appendChild(t)}),n}}),window.html=html,window.app=app,$(function(){/(mobile)|(ios)|(android)/gim.test(navigator.userAgent)||document.body.classList.add("isDesktop"),$("link[href*=ios]")[0]?(document.body.classList.add("themeIsiOS"),$.theme="ios"):$("link[href*=android]")[0]&&(document.body.classList.add("themeIsAndroid"),$.theme="android"),$.dir="ltr","rtl"===document.dir&&($.dir="rtl"),Array.prototype.unique||$.extend(Array.prototype,{unique:function(){for(var t=this.length,e={},n=[],r=0;r<t;r++){var i=JSON.stringify(this[r]),a=this[r];void 0===e[i]?(n.push(a),e[i]=1):e[i]++}this.length=0;var o=this;n.forEach(function(t){o.push(t)})}})}),$.extend({eventStart:null,eventEnd:null,eventMove:null,eventCancel:null,gestureLength:30}),$(function(){window.navigator.pointerEnabled?($.eventStart="pointerdown",$.eventEnd="pointerup",$.eventMove="pointermove",$.eventCancel="pointercancel"):window.navigator.msPointerEnabled?($.eventStart="MSPointerDown",$.eventEnd="MSPointerUp",$.eventMove="MSPointerMove",$.eventCancel="MSPointerCancel"):"ontouchstart"in window&&/mobile/gim.test(navigator.userAgent)?($.eventStart="touchstart",$.eventEnd="touchend",$.eventMove="touchmove",$.eventCancel="touchcancel"):($.eventStart="mousedown",$.eventEnd="click",$.eventMove="mousemove",$.eventCancel="mouseout")}),function(){var t={elements:{}},e=function(e,n,r,i){e.id||(e.id=$.uuid()),t.elements[e.id]||(t.elements[e.id]=[]),t.elements[e.id].push({event:n,callback:r}),e.addEventListener(n,r,i)},n=function(t,e){for(var n=t.length;n>0;n--)e.splice(t[n-1],1)},r=function(e,r,i){var a=t.elements[e.id];if(a){var o=[];r?r&&!i?(o=[],a.forEach(function(t,n){t.event===r&&(e.removeEventListener(t.event,t.callback,t.capturePhase),o.push(n))}),n(o,a)):i&&(o=[],a.forEach(function(t,n){i===t.callback&&(e.removeEventListener(t.event,t.callback,t.capturePhase),o.push(n))}),n(o,a)):(o=[],a.forEach(function(t,n){e.removeEventListener(t.event,t.callback,t.capturePhase),o.push(n)}),n(o,a))}},i=function(t,e,n,r,i){$(t).array[0];$(t).forEach(function(t){$(t).on(n,function(n){var i=n.target;3===n.target.nodeType&&(i=n.target.parentNode),$(t).find(e).forEach(function(t){if(t===i)r.call(t,n);else try{t===$(i).closest(e).array[0]&&r.call(t,n)}catch(t){}})},i)})},a=function(t,e,n,i,a){r($(t).array[0],n,i)};$.fn.extend({on:function(t,n,r,a){if(t&&n){!n&&/Object/gim.test(t.constructor.toString())&&this.forEach(function(e){for(var n in t)t.hasOwnProperty(n)&&$(e).on(n,t[n])});var o=[],s=void 0;return"string"==typeof t&&(t=t.trim(),/\s/.test(t)&&(s=t.split(" "),this.forEach(function(t){s.forEach(function(s){"function"==typeof n?(e(t,s,n,r),o.push(t)):i(t,n,s,r,a)})}))),this.forEach(function(o){if("function"==typeof n)return e(o,t,n,r);i(o,n,t,r,a)}),this}},off:function(t,e,n,i){var o=new Stack;if(!this.array.length)return o;this.forEach(function(i){return void 0===t?(o.push(i),r(i),o):"function"!=typeof e&&e?(a(i,0,t,n),this):(r(i,t,e),this)})},trigger:function(t,e){if(t)return this.array.length?void this.forEach(function(n){if(document.createEvent){var r=document.createEvent("Events");r.initEvent(t,!0,!1),r.data=e,n.dispatchEvent(r)}}):new Stack}})}(),function(){function t(t){return"tagName"in t?t:t.parentNode}function e(t,e,n,r){return Math.abs(t-e)>=Math.abs(n-r)?t-e>0?"left":"right":n-r>0?"up":"down"}function n(){if(h=null,a.last)try{a&&a.el&&(a.el.trigger("longtap"),a={})}catch(t){}}function r(){h&&clearTimeout(h),h=null}function i(){o&&clearTimeout(o),u&&clearTimeout(u),s&&clearTimeout(s),h&&clearTimeout(h),o=u=s=h=null,a={}}var a={},o=void 0,s=void 0,u=void 0,c=150;$.isAndroid&&(c=200);var h=void 0;$(function(){var l=void 0,f=void 0,y=document.body,p=!1;y.addEventListener($.eventStart,function(e){l=Date.now(),f=l-(a.last||l),e.originalEvent&&(e=e.originalEvent),"mousedown"===$.eventStart?(a.el=$(t(e.target)),"ripple"===e.target.nodeName&&(a.el=$(el.target.parentNode)),o&&clearTimeout(o),a.x1=e.pageX,a.y1=e.pageY,p=!1):1===e.touches.length&&(a.el=$(t(e.touches[0].target)),o&&clearTimeout(o),a.x1=e.touches[0].pageX,a.y1=e.touches[0].pageY,p=2===e.targetTouches.length),f>0&&f<=250&&(a.isDoubleTap=!0),a.last=l,h=setTimeout(n,750)}),y.addEventListener($.eventMove,function(t){t.originalEvent&&(t=t.originalEvent),r(),"mousemove"===$.eventMove?(a.x2=t.pageX,a.y2=t.pageY):1===t.touches.length&&(a.x2=t.touches[0].pageX,a.y2=t.touches[0].pageY)}),y.addEventListener($.eventEnd,function(){r(),a.el&&(a.x2&&Math.abs(a.x1-a.x2)>50||a.y2&&Math.abs(a.y1-a.y2)>50?s=setTimeout(function(){a&&a.el&&(a.el.trigger("swipe"),a.el.trigger("swipe"+e(a.x1,a.x2,a.y1,a.y2)),a={})},0):"last"in a&&(u=setTimeout(function(){a&&a.isDoubleTap?a&&a.el&&(a.el.trigger("dbltap"),a={}):o=setTimeout(function(){if(o=null,a&&a.el)return a.el.trigger("tap"),a={},!1},c)},0)))}),y.addEventListener("touchcancel",i)}),["tap","dbltap","longtap","swipeleft","swiperight","swipeup","swipedown"].forEach(function(t){$.fn.extend({method:function(e){return this.on(t,e)}})})}();var Component=function(){function t(e){if(_classCallCheck(this,t),e){var n=this;"string"==typeof e.element?this.root=$(e.element):e.element&&e.element.nodeType?this.root=$(e.element):this.root=e.element,this.origElement=e.element,this.renderFnc=e.render,this.state=e.state,this.state&&this.state.boundComponents.push(this),this.actions=e.actions,this.styles=e.styles,e.methods&&e.methods.length&&e.methods.map(function(t){n[t.name]=t}),e.componentWillMount&&"function"==typeof e.componentWillMount&&(this.componentWillMount=e.componentWillMount),e.componentDidMount&&"function"==typeof e.componentDidMount&&(this.componentDidMount=e.componentDidMount),e.componentWillUnmount&&"function"==typeof e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount),e.componentDidUnmount&&"function"==typeof e.componentDidUnmount&&(this.componentDidUnmount=e.componentDidUnmount),e.componentWillUpdate&&"function"==typeof e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&"function"==typeof e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),this.chuiStyle=function(){function t(t){for(var e=Array.prototype.concat(t),n=0;n<e.length;n++)Array.isArray(e[n])&&e.splice(n,1,e[n--]);return e}function e(t){if(!(this instanceof e))return new e(t);t||(t={}),t.prefix=!t.hasOwnProperty("prefix")||!!t.prefix,t.unit=t.hasOwnProperty("unit")?t.unit:"px",this._sheet=null,this._prefix=null,this.css=function(e,a,s){if(null==a)return"";null==this._sheet&&(this._sheet=u=u||n()),s=e;var c=r(s,a);(t.prefix||""!==t.unit)&&c.forEach(function(e){""!==t.unit&&o(e[1],t.unit)}),i(c,this._sheet)}}function n(){if(null==document.head)throw new Error("Can't add stylesheet before <head> is available. Make sure your document has a head element.");var t=document.createElement("style");return t.id="styles_"+Math.random().toString(16).slice(2,8),document.head.appendChild(t),t.sheet}function r(e,n){Array.isArray(n)||(n=[n]);var i={},o=[];return n=t(n),n.forEach(function(t){for(var n in t){var u=t[n];s(u)||Array.isArray(u)?o=o.concat(r(a(e,n),u)):("content"===n&&(u="'"+u+"'"),i[n]=u)}}),o.push([e,i]),o}function i(t,e){function n(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}window.sheet=e,t.forEach(function(t){var r=[];for(var i in t[1])r.push(n(i)+":"+t[1][i]);if(r.length>0){var a=t[0]?t[0]:"";e.insertRule(a+"{"+r.join(";")+"}",0)}})}function a(t,e){var n=/^[:\[]/,r=t.split(","),i=e.split(",");return r.map(function(t){return i.map(function(e){var r=n.test(e)?"":" ";return t+r+e}).join(",")}).join(",")}function o(t,e){for(var n in t){var r=t[n]+"";isNaN(r)||c[n]||(r+=e),t[n]=r}return t}function s(t){return t===Object(t)&&Object.prototype.toString===t.toString}var u=null,c={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},h={};return h.css=e().css,h},this.handleEvents=function(){if(this.actions){var t=this,e=!1;this.actions.length?this.actions.forEach(function(n){e=n.bubble,n&&"self"===n.element||n&&!n.element?t.root.on(n.event,n.callback,e):t.root.on(n.event,n.element,n.callback,e)}):"object"===$.type(this.actions)&&(e=this.actions.bubble||!1,this.actions.element&&"self"!==this.actions.element?t.root.on(this.actions.event,this.actions.element,this.actions.callback,e):t.root.on(this.actions.event,this.actions.callback,e))}},this.actions&&this.handleEvents(this.actions)}}return _createClass(t,[{key:"setTemplate",value:function(t){t&&(this.renderFnc=t)}},{key:"setState",value:function(t){var e=this;if(t){if(this.state){var n=t.boundComponents.findIndex(function(t){return e==t});this.state.boundComponents.splice(n,1)}t.boundComponents.push(this),this.state=t}}},{key:"render",value:function(t,e){var n=this;if(n.renderFnc){var r="";if(this.root.array[0]){if(this.componentWillUpdate&&this.componentWillUpdate(),!t&&this.state&&(t=this.state.get()),Array.isArray(t)?t.map(function(t,e){r+=n.renderFnc(t,e)}).join(""):r=n.renderFnc(t),this.styles&&this.root&&this.root.array[0]){var i=this.chuiStyle();if("object"!==_typeof(this.styles))return;i.css(this.origElement,this.styles)}e?n.root.append(r):(this.root.array[0].textContent="",n.root.empty(),n.root.append(r)),this.componentDidUpdate&&this.componentDidUpdate()}}}},{key:"empty",value:function(){this.root.array[0]&&this.root.empty()}},{key:"mount",value:function(){this.componentWillMount&&this.componentWillMount(),this.root=$(this.origElement),this.handleEvents(),this.chuiStyle().css(this.origElement,this.styles),this.componentDidMount&&this.componentDidMount()}},{key:"unmount",value:function(){this.componentWillUnmount&&this.componentWillUnmount(),this.empty(),this.root.off(),this.componentDidUnmount&&this.componentDidUnmount()}}]),t}(),State=function(){function t(e){_classCallCheck(this,t);var n=void 0;n="array"===$.type(e)?e.slice():"object"===$.type(e)?Object.create(e):e,this.dataStore=n,this.events={},this.paused=!1,this.boundComponents=[]}return _createClass(t,[{key:"renderComponents",value:function(){this.boundComponents&&this.boundComponents.length&&!this.paused&&this.boundComponents.forEach(function(t){t.render()})}},{key:"get",value:function(t){return t&&"object"===$.type(this.dataStore)?this.dataStore[t]:this.dataStore}},{key:"set",value:function(t,e){!1===e||0===e||""===e||e?(this.dataStore[t]=e,this.renderComponents()):(this.dataStore=t,this.renderComponents())}},{key:"purge",value:function(){"object"===$.type(this.dataStore)?this.dataStore={}:"array"===$.type(this.dataStore)?this.dataStore=[]:"string"===$.type(this.dataStore)?this.dataStore="":"number"==typeof this.dataStore?this.dataStore=NaN:$.type("boolean"===this.dataStore)&&(this.dataStore=void 0)}},{key:"merge",value:function(t){if(t&&"object"===(void 0===t?"undefined":_typeof(t))&&"object"===_typeof(this.dataStore)){for(var e in t)this.dataStore[e]=t[e];this.renderComponents()}}},{key:"mixin",value:function(t){if(t)if("array"===$.type(this.dataStore))this.dataStore=this.dataStore.concat(t).unique(),this.renderComponents();else if("object"===$.type(this.dataStore))for(var e in t)e in this.dataStore||(this.dataStore[e]=t[e],this.renderComponents())}},{key:"replace",value:function(t){if(t){var e=void 0;e="array"===$.type(t)?t.slice():"object"===$.type(t)?Object.create(t):t,this.dataStore=e,this.renderComponents(this)}}},{key:"remove",value:function(t){t&&"object"===$.type(this.dataStore)&&(delete this.dataStore[t],this.renderComponents())}},{key:"getPropAt",value:function(t,e){if(t&&void 0!==e&&"array"===$.type(this.dataStore)){if(e<0){var n=this.dataStore.length+e;return this.dataStore[n][t]}return e>this.dataStore.length?void 0:this.dataStore[e][t]}}},{key:"setPropAt",value:function(t,e,n){if(t&&void 0!==e&&void 0!==n&&"array"===$.type(this.dataStore))if(n<0){var r=this.dataStore.length+n;this.dataStore[r][t]=e,this.renderComponents()}else this.dataStore[n][t]=e,this.renderComponents()}},{key:"push",value:function(t){t&&"array"===$.type(this.dataStore)&&(this.dataStore.push(t),this.renderComponents())}},{key:"pop",value:function(){"array"===$.type(this.dataStore)&&(this.dataStore.pop(),this.renderComponents())}},{key:"unshift",value:function(t){t&&"array"===$.type(this.dataStore)&&(this.dataStore.unshift(t),this.renderComponents())}},{key:"shift",value:function(){"array"===$.type(this.dataStore)&&(this.dataStore.shift(),this.renderComponents())}},{key:"slice",value:function(t,e){if(void 0!==e&&void 0!==t)return"array"===$.type(this.dataStore)?this.dataStore.slice(t,e):void 0}},{key:"splice",value:function(t,e,n){if(void 0!==e&&void 0!==t)if("array"===$.type(this.dataStore)&&n)this.dataStore.splice(t,e,n),this.renderComponents();else if("array"===$.type(this.dataStore)){if(null==t||!e)return;this.dataStore.splice(t,e),this.renderComponents()}}},{key:"insert",value:function(t,e){if(void 0!==e&&void 0!==t&&"number"==typeof t&&"array"==typeof this.dataStore){if("number"!==$.type(t))return;this.dataStore.splice(t,0,e),this.renderComponents()}}},{key:"pluck",value:function(t){if(t){var e=[];if(this.dataStore&&this.dataStore.length){for(var n=this.dataStore.length,r=0;r<n;r++)e.push(this.dataStore[r][t]);return e}}}},{key:"indexOf",value:function(t,e){if(t)return"array"===$.type(this.dataStore)?this.dataStore.indexOf(t,e):void 0}},{key:"find",value:function(t){if(t)return"array"===$.type(this.dataStore)?this.dataStore.find(t):void 0}},{key:"findIndex",value:function(t){if(t)return"array"===$.type(this.dataStore)?this.dataStore.findIndex(t):void 0}},{key:"forEach",value:function(t){if(t&&this.dataStore&&this.dataStore.length)for(var e=-1,n=this.dataStore.length;++e<n&&!1!==t.call(this.dataStore[e],this.dataStore[e],e););}},{key:"filter",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this.dataStore&&this.dataStore.length){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return this.dataStore.filter.apply(this.dataStore,i)}}},{key:"map",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this.dataStore&&this.dataStore.length){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return this.dataStore.map.apply(this.dataStore,i)}}},{key:"reverse",value:function(){this.dataStore&&this.dataStore.length&&(this.dataStore.reverse(),this.renderComponents())}},{key:"sort",value:function(t){this.dataStore&&this.dataStore.length&&(t?(this.dataStore.sort(t),this.renderComponents()):(this.dataStore.sort(),this.renderComponents()))}},{key:"orderBy",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=arguments.length,i=0;i<r;i++)e[i]=arguments[i];if(e){var a=function(){return function(t,n){for(var r=0,i=0,a=e.length;0===i&&r<a;)i=function(t){var e=1;return"-"===t[0]&&(e=-1,t=t.substr(1)),function(n,r){return(n[t]<r[t]?-1:n[t]>r[t]?1:0)*e}}(e[r])(t,n),r++;return i}};this.dataStore&&this.dataStore.length&&(this.dataStore.sort(a.apply(null,e)),this.renderComponents())}}},{key:"concat",value:function(t){if(t&&"array"===$.type(this.dataStore)){var e=this.dataStore.concat(t);this.dataStore=e,this.renderComponents()}}},{key:"unique",value:function(){"array"===$.type(this.dataStore)&&(this.dataStore.unique(),this.renderComponents())}},{key:"eq",value:function(t){if("array"===$.type(this.dataStore))return this.dataStore[t]}},{key:"size",value:function(){return"array"===$.type(this.dataStore)?this.dataStore.length:void 0}}]),t}();$.extend($,{isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isTouchEnabled:!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&"createTouch"in document,isStandalone:navigator.standalone||!1,isWebkit:!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/webkit/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isMobile:/mobile/gim.test(navigator.userAgent),isSafari:!/edge/gim.test(navigator.userAgent)&&!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/Chrome/gim.test(navigator.userAgent)&&!((/samsung/gim.test(navigator.userAgent)||/Galaxy Nexus/gim.test(navigator.userAgent)||/HTC/gim.test(navigator.userAgent)||/LG/gim.test(navigator.userAgent))&&!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)),isNativeAndroid:(/samsung/gim.test(navigator.userAgent)||/Galaxy Nexus/gim.test(navigator.userAgent)||/HTC/gim.test(navigator.userAgent)||/\sLG/gim.test(navigator.userAgent))&&!/trident/gim.test(navigator.userAgent)&&!/edge/gim.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)&&(/Android 3/i.test(userAgentHTC)||/Android 4/i.test(navigator.userAgent))});
//# sourceMappingURL=chui.min.js.map
